(self.webpackChunkng=self.webpackChunkng||[]).push([[878],{1038:(jt,yt,m)=>{"use strict";m.d(yt,{r:()=>D});var o=m(8929),ot=m(5e3);let D=(()=>{class at{constructor(){this.sessionPrefix="",this.selectedPageKey="SELECTED_PAGE",this.selectedShowCount="SELECTED_SHOW_COUNT",this.allRecordCount=0,this.paginateResult=[],this.page=0,this.showCount=10,this.searchVal="",this.sortType="desc",this.sortName="id",this.getResult=new o.xQ,this.showPaginationList=[],this.paginateMaxShowedCount=10,this.intervalCount=0,this.componentSortName=""}getRequestParams(){let U="page="+encodeURIComponent(this.page)+"&size="+encodeURIComponent(this.showCount);return this.searchVal&&(U+="&name="+encodeURIComponent(this.searchVal)),this.sortName&&(U+="&sort="+encodeURIComponent(this.sortName)+","+encodeURIComponent(this.sortType)),console.log(U,"getRequestParams()"),U}getRequestParamsFromObject(U){let X=this.getRequestParams();for(const Y in U)U.hasOwnProperty(Y)&&(console.log(U[Y],"searchData[property]"),(U[Y]||0===U[Y])&&"null"!==U[Y]&&(X+=`&${Y}=${encodeURIComponent(U[Y])}`));return X}restartPaginate(U=null){U?(this.componentSortName=U,this.sortName=U):(this.componentSortName="",this.sortName="id"),this.searchVal="",this.setEmptyPaginateResult(),this.getSelectedValuesFromSessionStorage()}setEmptyPaginateResult(){this.page=0,this.paginateResult=[]}checkPageEmpty(){return void 0===this.paginateResult[this.page]||0===this.paginateResult[this.page].length||(this.calculateBigPaginate(),!1)}calculatePaginate(U){const X=Math.ceil(this.allRecordCount/this.showCount);for(let Y=0;Y<X;Y++)Y===this.page?this.paginateResult[Y]=U:this.paginateResult[Y]||(this.paginateResult[Y]=[]);this.calculateBigPaginate()}calculateBigPaginate(){let U;this.intervalCount=Math.ceil(this.paginateResult.length/this.paginateMaxShowedCount),this.bigPaginateIntervalNumber=Math.floor(this.page/this.paginateMaxShowedCount),this.showPaginationList=[],U=this.paginateResult.length-this.bigPaginateIntervalNumber*this.paginateMaxShowedCount<this.paginateMaxShowedCount?this.paginateResult.length-this.bigPaginateIntervalNumber*this.paginateMaxShowedCount:this.paginateMaxShowedCount,console.log(U,"showPageCount");for(let X=this.bigPaginateIntervalNumber*this.paginateMaxShowedCount;X<this.bigPaginateIntervalNumber*this.paginateMaxShowedCount+U;X++)this.showPaginationList.push(X);return console.log(this.showPaginationList),this.showPaginationList}paginateSetPageStorage(U){this.page=U,this.setSessionStorage(this.selectedPageKey,this.page.toString())}paginateSetShowCountInStorage(U){this.showCount=U,this.setSessionStorage(this.selectedShowCount,this.showCount.toString())}setSortTypeAndNameStorage(U){console.log(U),"desc"===this.sortType&&this.sortName===U?this.sortType="asc":"asc"===this.sortType&&this.sortName===U&&(this.sortType="desc"),this.sortName=U||(this.componentSortName?this.componentSortName:"id"),this.setSessionStorage("SORT_TYPE",this.sortType),this.setSessionStorage("SORT_NAME",this.sortName)}setSessionStorage(U,X){sessionStorage.setItem(this.sessionPrefix+"_"+U,X)}getSessionStorage(U){return sessionStorage.getItem(this.sessionPrefix+U)}getSelectedValuesFromSessionStorage(){const U=+this.getSessionStorage("_"+this.selectedShowCount);U&&(this.showCount=U);const X=this.getSessionStorage("_SEARCH_VALUE");console.log(X,"SVSV"),this.searchVal=X||"";const Y=+this.getSessionStorage("_"+this.selectedPageKey);console.log(Y,"SP"),this.page=Y||0;const N=this.getSessionStorage("_SORT_TYPE");console.log(N,"ST"),N&&(this.sortType=N);const O=this.getSessionStorage("_SORT_NAME");console.log(O,"SN"),O&&(this.sortName=O)}}return at.\u0275fac=function(U){return new(U||at)},at.\u0275prov=ot.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})()},9679:(jt,yt,m)=>{"use strict";m.d(yt,{c:()=>N});var o=m(5e3),ot=m(1038),D=m(9808);function at(O,g){1&O&&(o.TgZ(0,"div",5),o._uU(1,"Result not found"),o.qZA())}function nt(O,g){if(1&O){const f=o.EpF();o.TgZ(0,"li",9),o.TgZ(1,"a",10),o.NdJ("click",function(){return o.CHM(f),o.oxw(2).paginateStepPrev()}),o._UZ(2,"i",15),o.qZA(),o.qZA()}if(2&O){const f=o.oxw(2);o.Q6J("ngClass",0==f.getPaginateService.bigPaginateIntervalNumber?"disabled":"")}}function U(O,g){if(1&O){const f=o.EpF();o.TgZ(0,"li",16),o.TgZ(1,"a",10),o.NdJ("click",function(){const B=o.CHM(f).$implicit;return o.oxw(2).paginateSet(B)}),o._uU(2),o.qZA(),o.qZA()}if(2&O){const f=g.$implicit,c=o.oxw(2);o.Q6J("ngClass",c.getPaginateService.page==f?"active":""),o.xp6(2),o.Oqu(f+1)}}function X(O,g){if(1&O){const f=o.EpF();o.TgZ(0,"li",14),o.TgZ(1,"a",10),o.NdJ("click",function(){return o.CHM(f),o.oxw(2).paginateStepNext()}),o._UZ(2,"i",17),o.qZA(),o.qZA()}if(2&O){const f=o.oxw(2);o.Q6J("ngClass",f.getPaginateService.bigPaginateIntervalNumber==f.getPaginateService.intervalCount-1?"disabled":"")}}function Y(O,g){if(1&O){const f=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"div",7),o.TgZ(2,"ul",8),o.TgZ(3,"li",9),o.TgZ(4,"a",10),o.NdJ("click",function(){return o.CHM(f),o.oxw().paginatePrev()}),o._uU(5,"Previous"),o.qZA(),o.qZA(),o.YNc(6,nt,3,1,"li",11),o.YNc(7,U,3,2,"li",12),o.YNc(8,X,3,1,"li",13),o.TgZ(9,"li",14),o.TgZ(10,"a",10),o.NdJ("click",function(){return o.CHM(f),o.oxw().paginateNext()}),o._uU(11,"Next"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&O){const f=o.oxw();o.xp6(3),o.Q6J("ngClass",0==f.getPaginateService.page?"disabled":""),o.xp6(3),o.Q6J("ngIf",f.getPaginateService.intervalCount>1),o.xp6(1),o.Q6J("ngForOf",f.getPaginateService.showPaginationList),o.xp6(1),o.Q6J("ngIf",f.getPaginateService.intervalCount>1),o.xp6(1),o.Q6J("ngClass",f.getPaginateService.page==f.getPaginateService.paginateResult.length-1?"disabled":"")}}let N=(()=>{class O{constructor(f){this.paginateService=f,this.getPaginateService.allRecordCount=0}get getPaginateService(){return this.paginateService}paginatePrev(){this.paginateService.page>0&&(this.paginateService.paginateSetPageStorage(this.paginateService.page-=1),this.paginateService.getResult.next(!0))}paginateNext(){this.paginateService.page<this.paginateService.paginateResult.length&&(this.paginateService.paginateSetPageStorage(this.paginateService.page+=1),this.paginateService.getResult.next(!0))}paginateSet(f){this.paginateService.page!==f&&(this.paginateService.paginateSetPageStorage(f),this.paginateService.getResult.next(!0))}ngOnInit(){this.changePaginateShowCount(window.innerWidth)}paginateStepNext(){this.paginateService.bigPaginateIntervalNumber<this.paginateService.intervalCount&&(console.log(this.paginateService.bigPaginateIntervalNumber,this.paginateService.intervalCount),this.paginateService.bigPaginateIntervalNumber+=1,this.paginateService.paginateSetPageStorage(this.paginateService.bigPaginateIntervalNumber*this.paginateService.paginateMaxShowedCount),this.paginateService.getResult.next(!0))}paginateStepPrev(){this.paginateService.bigPaginateIntervalNumber>0&&(console.log(this.paginateService.bigPaginateIntervalNumber,this.paginateService.intervalCount),this.paginateService.bigPaginateIntervalNumber-=1,this.paginateService.paginateSetPageStorage(this.paginateService.bigPaginateIntervalNumber*this.paginateService.paginateMaxShowedCount),this.paginateService.getResult.next(!0))}ngAfterViewInit(){}changePaginateShowCount(f){console.log(f);let c=10;f>1500?c=20:f<1500&&f>700?c=10:f<700&&(c=5),this.paginateService.paginateMaxShowedCount!==c&&(this.paginateService.paginateMaxShowedCount=c,this.paginateService.calculateBigPaginate())}onResize(f){this.changePaginateShowCount(f.target.innerWidth)}}return O.\u0275fac=function(f){return new(f||O)(o.Y36(ot.r))},O.\u0275cmp=o.Xpm({type:O,selectors:[["app-paginate"]],hostBindings:function(f,c){1&f&&o.NdJ("resize",function(B){return c.onResize(B)},!1,o.Jf7)},decls:7,vars:3,consts:[[1,"row"],[1,"col","d-flex","justify-content-lg-start","justify-content-center","align-items-center"],["class","col-12 text-warning",4,"ngIf"],[1,"col-12"],["class","col d-flex justify-content-lg-end justify-content-center align-items-center",4,"ngIf"],[1,"col-12","text-warning"],[1,"col","d-flex","justify-content-lg-end","justify-content-center","align-items-center"],[1,"dataTables_paginate","paging_simple_numbers"],[1,"pagination","d-flex","align-items-center","mb-0"],[1,"paginate_button","page-item","previous",3,"ngClass"],["href","javascript:void(0)",1,"page-link",3,"click"],["class","paginate_button page-item previous",3,"ngClass",4,"ngIf"],["class","paginate_button page-item",3,"ngClass",4,"ngFor","ngForOf"],["class","paginate_button page-item next",3,"ngClass",4,"ngIf"],[1,"paginate_button","page-item","next",3,"ngClass"],[1,"fa","fa-angle-double-left"],[1,"paginate_button","page-item",3,"ngClass"],[1,"fa","fa-angle-double-right"]],template:function(f,c){1&f&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",0),o.YNc(3,at,2,0,"div",2),o.TgZ(4,"div",3),o._uU(5),o.qZA(),o.qZA(),o.qZA(),o.YNc(6,Y,12,5,"div",4),o.qZA()),2&f&&(o.xp6(3),o.Q6J("ngIf",0===c.getPaginateService.allRecordCount),o.xp6(2),o.hij("All entries ",c.getPaginateService.allRecordCount," item"),o.xp6(1),o.Q6J("ngIf",c.getPaginateService.paginateResult.length>1))},directives:[D.O5,D.mk,D.sg],styles:[""]}),O})()},8315:(jt,yt,m)=>{"use strict";m.d(yt,{X:()=>W});var o=m(5e3),ot=m(8929),nt=(m(4997),m(1381),m(5064)),U=m(2933),X=m(5789),Y=m(7039),O=(m(4078),m(8686)),g=m(5012),f=m(2827),c=m(5285),y=m(1038),B=m(9808),j=m(3075),et=m(18);const T=["mapModal"];function l(w,A){if(1&w){const x=o.EpF();o.TgZ(0,"i",23),o.NdJ("click",function(){o.CHM(x);const q=o.oxw().$implicit;return o.oxw().changeSortName(q.key)}),o.qZA()}if(2&w){const x=o.oxw().$implicit,H=o.oxw();o.Gre("fa float-right fa-sort-amount-",H.sortType,""),o.Q6J("ngClass",H.sortName==x.key?"text-success":"text-muted")}}function a(w,A){if(1&w){const x=o.EpF();o.TgZ(0,"div",24),o.TgZ(1,"input",25),o.NdJ("change",function(q){return o.CHM(x),o.oxw(2).checkboxChanged(q.target.checked)}),o.qZA(),o._UZ(2,"label",26),o.qZA()}if(2&w){const x=o.oxw().$implicit,H=o.oxw();o.xp6(1),o.s9C("id",x.searchKey?x.searchKey:x.key),o.Q6J("value",x.value||null===x.value?x.value:H.searchObj[x.searchKey?x.searchKey:x.key]?H.searchObj[x.searchKey?x.searchKey:x.key]:"")("checked",H.checkAllCheckedStatus),o.xp6(1),o.s9C("for",x.searchKey?x.searchKey:x.key)}}function h(w,A){if(1&w){const x=o.EpF();o.TgZ(0,"input",30),o.NdJ("input",function(q){o.CHM(x);const ct=o.oxw(2).$implicit;return o.oxw().searchTerm$.next({key:ct.searchKey?ct.searchKey:ct.key,value:q.target.value})})("keydown.tab",function(q){o.CHM(x);const ct=o.oxw(2).$implicit;return o.oxw().searchRes(ct.searchKey?ct.searchKey:ct.key,q.target.value)})("keyup.enter",function(q){o.CHM(x);const ct=o.oxw(2).$implicit;return o.oxw().searchRes(ct.searchKey?ct.searchKey:ct.key,q.target.value)})("focusout",function(q){o.CHM(x);const ct=o.oxw(2).$implicit;return o.oxw().searchRes(ct.searchKey?ct.searchKey:ct.key,q.target.value)}),o.qZA()}if(2&w){const x=o.oxw(2).$implicit,H=o.oxw();o.Q6J("title",x.title?x.title:"")("type",x.type)("value",x.value||null===x.value?x.value:H.searchObj[x.searchKey?x.searchKey:x.key]?H.searchObj[x.searchKey?x.searchKey:x.key]:"")}}function d(w,A){if(1&w&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&w){const x=A.$implicit,H=o.oxw(3).$implicit,q=o.oxw();o.Q6J("value",x.id)("selected",H.value?H.value:q.searchObj[H.searchKey?H.searchKey:H.key]==x.id),o.xp6(1),o.Oqu(x.name)}}function C(w,A){if(1&w){const x=o.EpF();o.TgZ(0,"select",31),o.NdJ("change",function(q){o.CHM(x);const ct=o.oxw(2).$implicit;return o.oxw().searchRes(ct.searchKey?ct.searchKey:ct.key,q.target.value)}),o.YNc(1,d,2,3,"option",32),o.qZA()}if(2&w){const x=o.oxw(2).$implicit;o.Q6J("multiple","multiple"===x.options)("title",x.title?x.title:""),o.xp6(1),o.Q6J("ngForOf",x.selectData)}}const G=function(w){return{width:w}};function Q(w,A){if(1&w&&(o.TgZ(0,"label",27),o.YNc(1,h,1,3,"input",28),o.YNc(2,C,2,3,"select",29),o.qZA()),2&w){const x=o.oxw().$implicit;o.Q6J("ngClass",x.inputWidth?"":x.otherField?x.otherField.length>1?"":"col-6":"col-12")("ngStyle",x.inputWidth?o.VKq(4,G,x.inputWidth):null),o.xp6(1),o.Q6J("ngIf",!x.type||"text"===x.type||"number"===x.type),o.xp6(1),o.Q6J("ngIf","select"===x.type)}}function ft(w,A){if(1&w&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&w){const x=A.$implicit,H=o.oxw(2).$implicit,q=o.oxw(2);o.Q6J("value",x.id)("selected",H.value?H.value:q.searchObj[H.key]==x.id),o.xp6(1),o.Oqu(x.name)}}function vt(w,A){if(1&w){const x=o.EpF();o.TgZ(0,"select",36),o.NdJ("change",function(q){o.CHM(x);const ct=o.oxw().$implicit;return o.oxw(2).searchRes(ct.key,q.target.value)}),o.YNc(1,ft,2,3,"option",32),o.qZA()}if(2&w){const x=o.oxw().$implicit;o.Q6J("title",x.title?x.title:""),o.xp6(1),o.Q6J("ngForOf",x.selectData)}}function Tt(w,A){if(1&w){const x=o.EpF();o.TgZ(0,"input",37),o.NdJ("input",function(q){o.CHM(x);const ct=o.oxw().$implicit;return o.oxw(2).searchTerm$.next({key:ct.key,value:q.target.value})})("keydown.tab",function(q){o.CHM(x);const ct=o.oxw().$implicit;return o.oxw(2).searchRes(ct.key,q.target.value)})("keyup.enter",function(q){o.CHM(x);const ct=o.oxw().$implicit;return o.oxw(2).searchRes(ct.key,q.target.value)})("focusout",function(q){o.CHM(x);const ct=o.oxw().$implicit;return o.oxw(2).searchRes(ct.key,q.target.value)}),o.qZA()}if(2&w){const x=o.oxw().$implicit,H=o.oxw(2);o.Q6J("title",x.title?x.title:"")("value",x.value||null===x.value?x.value:H.searchObj[x.key]?H.searchObj[x.key]:"")}}const St=function(w){return{"min-width":w}};function Nt(w,A){if(1&w&&(o.TgZ(0,"label",27),o.YNc(1,vt,2,2,"select",34),o.YNc(2,Tt,1,2,"input",35),o.qZA()),2&w){const x=A.$implicit,H=o.oxw().$implicit;o.Q6J("ngClass",H.otherField.length>1||x.width?"":"col-6")("ngStyle",x.width?o.VKq(4,G,x.width):x.minWidth?o.VKq(6,St,x.minWidth):null),o.xp6(1),o.Q6J("ngIf","select"===x.type),o.xp6(1),o.Q6J("ngIf",!x.type||"text"===x.type)}}function Wt(w,A){if(1&w){const x=o.EpF();o.TgZ(0,"input",45),o.NdJ("input",function(q){o.CHM(x);const ct=o.oxw().$implicit;return o.oxw(3).searchTerm$.next({key:ct.key,value:q.target.value})})("keydown.tab",function(q){o.CHM(x);const ct=o.oxw().$implicit;return o.oxw(3).searchRes(ct.key,q.target.value)})("keyup.enter",function(q){o.CHM(x);const ct=o.oxw().$implicit;return o.oxw(3).searchRes(ct.key,q.target.value)})("focusout",function(q){o.CHM(x);const ct=o.oxw().$implicit;return o.oxw(3).searchRes(ct.key,q.target.value)}),o.qZA()}if(2&w){const x=o.oxw().$implicit,H=o.oxw(3);o.Q6J("title",x.title?x.title:"")("type",x.type)("value",x.value||null===x.value?x.value:H.searchObj[x.key]?H.searchObj[x.key]:"")}}function Qt(w,A){if(1&w&&(o.TgZ(0,"span",43),o.TgZ(1,"label"),o._uU(2),o.qZA(),o.YNc(3,Wt,1,3,"input",44),o.qZA()),2&w){const x=A.$implicit;o.xp6(2),o.Oqu(x.name),o.xp6(1),o.Q6J("ngIf",!x.type||"text"===x.type||"number"===x.type)}}function Ee(w,A){1&w&&(o.TgZ(0,"div",46),o._uU(1,"Insert the 'Latitude' to complete the search."),o.qZA())}function dt(w,A){1&w&&(o.TgZ(0,"div",46),o._uU(1,"Insert the 'Longitude' to complete the search."),o.qZA())}function Et(w,A){if(1&w){const x=o.EpF();o.TgZ(0,"div",38),o.YNc(1,Qt,4,2,"span",39),o.TgZ(2,"button",40),o.NdJ("click",function(){return o.CHM(x),o.oxw(2).showModal()}),o._UZ(3,"i",41),o.qZA(),o.YNc(4,Ee,2,0,"div",42),o.YNc(5,dt,2,0,"div",42),o.qZA()}if(2&w){const x=o.oxw().$implicit,H=o.oxw();o.xp6(1),o.Q6J("ngForOf",x.otherFieldMap),o.xp6(3),o.Q6J("ngIf",(""===H.searchObj.latitude||!H.searchObj.latitude)&&H.searchObj.longitude&&""!==H.searchObj.longitude),o.xp6(1),o.Q6J("ngIf",(""===H.searchObj.longitude||!H.searchObj.longitude)&&H.searchObj.latitude&&""!==H.searchObj.latitude)}}function pt(w,A){if(1&w&&(o.TgZ(0,"th",17),o.TgZ(1,"div"),o._uU(2),o.YNc(3,l,1,4,"i",18),o.qZA(),o.YNc(4,a,3,4,"div",19),o.TgZ(5,"div"),o.YNc(6,Q,3,6,"label",20),o.YNc(7,Nt,3,8,"label",21),o.YNc(8,Et,6,3,"div",22),o.qZA(),o.qZA()),2&w){const x=A.$implicit;o.Q6J("ngStyle",x.width?o.VKq(7,G,x.width):x.minWidth?o.VKq(9,St,x.minWidth):null),o.xp6(2),o.hij("",x.name," "),o.xp6(1),o.Q6J("ngIf",x.sortable),o.xp6(1),o.Q6J("ngIf",x.checkAll),o.xp6(2),o.Q6J("ngIf",x.searchInput),o.xp6(1),o.Q6J("ngForOf",x.otherField),o.xp6(1),o.Q6J("ngIf",x.otherFieldMap)}}const J=["*"];let W=(()=>{class w{constructor(x){this.paginateService=x,this.checkAll=new o.vpe,this.searchTerm$=new ot.xQ,this.source=new c.Z({wrapX:!1}),this.searchObj={},this.searchTerm$.debounceTime(1e3).distinctUntilChanged().subscribe(H=>{this.searchRes(H.key,H.value)})}get sortType(){return this.paginateService.sortType}get sortName(){return this.paginateService.sortName}changeSortName(x){this.paginateService.setEmptyPaginateResult(),this.paginateService.setSortTypeAndNameStorage(x),this.paginateService.getResult.next(!0)}changeHeaderParamsToDefaultValue(){for(let x=0;x<this.headerParams.length;x++){const H=this.headerParams[x];(H.value||null===H.value)&&(this.searchObj[H.searchKey?H.searchKey:H.key]=H.value)}}ngOnInit(){this.searchObj=JSON.parse(this.paginateService.getSessionStorage("_DIVIDED_SEARCH_VALUES")),console.log(this.searchObj,"asset----"),this.searchObj||(this.searchObj={})}ngAfterViewInit(){console.log("ngAfterViewInit asset-sortable"),this.changeHeaderParamsToDefaultValue(),Object.keys(this.searchObj),console.log(this.searchObj,"this.searchObj asset"),(""!==this.searchObj.longitude&&this.searchObj.longitude||!this.searchObj.latitude||""===this.searchObj.latitude)&&(""!==this.searchObj.latitude&&this.searchObj.latitude||!this.searchObj.longitude||""===this.searchObj.longitude)?this.paginateService.getResult.next(this.searchObj):this.paginateService.allRecordCount=0}ngOnDestroy(){console.log("ngOnDestroy asset-sortable")}closeModal(){this.map.addLayer(new ol.layer.Tile({source:new ol.source.OSM}))}setPointValue(){this.mapModal.hide(),this.map.addLayer(new ol.layer.Tile({source:new ol.source.OSM}));const H=document.getElementById("mapInput").getElementsByTagName("input");for(let q=0;q<H.length;q++)H[q].value=this.coordinate[q];this.searchMap()}searchMap(){this.searchObj.latitude=this.coordinate[1],this.searchObj.longitude=this.coordinate[0],this.paginateService.setSessionStorage("DIVIDED_SEARCH_VALUES",JSON.stringify(this.searchObj)),this.paginateService.setEmptyPaginateResult(),this.paginateService.paginateSetPageStorage(0),this.paginateService.setSortTypeAndNameStorage(""),this.paginateService.sortType="desc",console.log(this.searchObj,"this.searchObj asset"),this.paginateService.getResult.next(this.searchObj)}mouseDown(x){this.latitude=x.clientX,this.longitude=x.clientY}mouseUp(x){this.latitude===x.clientX&&this.longitude===x.clientY&&this.getPosition()}getPosition(){this.map.addLayer(new ol.layer.Tile({source:new ol.source.OSM})),this.coordinate=document.getElementById("mouse-position").innerText.split(", "),this.vectorLayer=new ol.layer.Vector({source:new ol.source.Vector({features:[new ol.Feature({geometry:new ol.geom.Point(ol.proj.transform([this.coordinate[0],this.coordinate[1]],"EPSG:4326","EPSG:3857"),"XY")})]}),style:new ol.style.Style({image:new U.Z({radius:8,fill:new X.Z({color:"#3399CC"}),stroke:new Y.Z({color:"#fff",width:2})})})}),this.map.addLayer(this.vectorLayer)}showModal(){this.mapModal.show(),setTimeout(()=>{this.map?this.map.addLayer(new ol.layer.Tile({source:new ol.source.OSM})):(this.mousePositionControl=new O.Z({coordinateFormat:(0,g.Fj)(4),projection:"EPSG:4326",target:document.getElementById("mouse-position"),className:"custom-mouse-position",undefinedHTML:"&nbsp;"}),this.map=new ol.Map({controls:(0,f.ce)().extend([this.mousePositionControl]),target:"modalMap",layers:[new ol.layer.Tile({source:new ol.source.OSM})]}));const x=this.map.getView();x.setCenter(ol.proj.fromLonLat([0,0])),x.setZoom(2),this.addInteraction()},300)}addInteraction(){this.draw=new nt.ZP({source:this.source,type:"Point"}),this.map.addInteraction(this.draw)}checkboxChanged(x){this.checkAll.emit(x)}searchRes(x,H){this.searchObj[x]!==H&&(this.searchObj[x]=H,this.val&&(this.searchObj[x]=this.val),this.paginateService.setSessionStorage("DIVIDED_SEARCH_VALUES",JSON.stringify(this.searchObj)),this.paginateService.setEmptyPaginateResult(),this.paginateService.paginateSetPageStorage(0),this.paginateService.setSortTypeAndNameStorage(""),this.paginateService.sortType="desc",console.log(this.searchObj,"this.searchObj asset"),(""!==this.searchObj.longitude&&this.searchObj.longitude||!this.searchObj.latitude||""===this.searchObj.latitude)&&(""!==this.searchObj.latitude&&this.searchObj.latitude||!this.searchObj.longitude||""===this.searchObj.longitude)?this.paginateService.getResult.next(this.searchObj):this.paginateService.allRecordCount=0)}}return w.\u0275fac=function(x){return new(x||w)(o.Y36(y.r))},w.\u0275cmp=o.Xpm({type:w,selectors:[["app-sortable-table-header"]],viewQuery:function(x,H){if(1&x&&o.Gf(T,7),2&x){let q;o.iGM(q=o.CRH())&&(H.mapModal=q.first)}},inputs:{headerParams:"headerParams",checkAllCheckedStatus:"checkAllCheckedStatus",invalidTable:"invalidTable"},outputs:{checkAll:"checkAll"},ngContentSelectors:J,decls:23,vars:2,consts:[[1,"table","table-striped","table-bordered","datatable","dataTable","no-footer",2,"border-collapse","collapse !important",3,"ngClass"],["role","row"],["class","",3,"ngStyle",4,"ngFor","ngForOf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade",3,"onHidden"],["mapModal","bs-modal"],["role","document",1,"modal-dialog","modal-info","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","modalMap",2,"width","100%","height","300px",3,"mousedown","mouseup"],["id","mouse-position"],[1,"row","justify-content-between"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-info",3,"click"],[1,"",3,"ngStyle"],["id","sortIcon","aria-hidden","true",3,"class","ngClass","click",4,"ngIf"],["class","text-center custom-control custom-checkbox",4,"ngIf"],["class","m-0 p-0",3,"ngClass","ngStyle",4,"ngIf"],["class","m-0 p-0",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["id","mapInput","class","col-12",4,"ngIf"],["id","sortIcon","aria-hidden","true",3,"ngClass","click"],[1,"text-center","custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","value","checked","change"],[1,"custom-control-label",3,"for"],[1,"m-0","p-0",3,"ngClass","ngStyle"],["class","col-12 p-0 search",3,"title","type","value","input","keydown.tab","keyup.enter","focusout",4,"ngIf"],["class","col-12 p-0",3,"multiple","title","change",4,"ngIf"],[1,"col-12","p-0","search",3,"title","type","value","input","keydown.tab","keyup.enter","focusout"],[1,"col-12","p-0",3,"multiple","title","change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["class","col-12 p-0 w-100",3,"title","change",4,"ngIf"],["type","text","class","w-100 p-0 m-0 ml-1 search",3,"title","value","input","keydown.tab","keyup.enter","focusout",4,"ngIf"],[1,"col-12","p-0","w-100",3,"title","change"],["type","text",1,"w-100","p-0","m-0","ml-1","search",3,"title","value","input","keydown.tab","keyup.enter","focusout"],["id","mapInput",1,"col-12"],["class","col-4",4,"ngFor","ngForOf"],["title","Set Location",1,"btn","col-1","ml-3","btn-primary",3,"click"],[1,"cui-location-pin"],["class","text-center invalid-feedback d-block",4,"ngIf"],[1,"col-4"],["class","ml-1 search",3,"title","type","value","input","keydown.tab","keyup.enter","focusout",4,"ngIf"],[1,"ml-1","search",3,"title","type","value","input","keydown.tab","keyup.enter","focusout"],[1,"text-center","invalid-feedback","d-block"]],template:function(x,H){if(1&x){const q=o.EpF();o.F$t(),o.TgZ(0,"table",0),o.TgZ(1,"thead"),o.TgZ(2,"tr",1),o.YNc(3,pt,9,11,"th",2),o.qZA(),o.qZA(),o.Hsn(4),o.qZA(),o.TgZ(5,"div",3,4),o.NdJ("onHidden",function(){return H.closeModal()}),o.TgZ(7,"div",5),o.TgZ(8,"div",6),o.TgZ(9,"div",7),o.TgZ(10,"h4",8),o._uU(11,"Select Point "),o.qZA(),o.TgZ(12,"button",9),o.NdJ("click",function(){return o.CHM(q),o.MAs(6).hide()}),o.TgZ(13,"span",10),o._uU(14,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",11),o.TgZ(16,"div",12),o.NdJ("mousedown",function(wt){return H.mouseDown(wt)})("mouseup",function(wt){return H.mouseUp(wt)}),o.qZA(),o._UZ(17,"div",13),o.TgZ(18,"div",14),o.TgZ(19,"button",15),o.NdJ("click",function(){return o.CHM(q),o.MAs(6).hide()}),o._uU(20," Cancel "),o.qZA(),o.TgZ(21,"button",16),o.NdJ("click",function(){return H.setPointValue()}),o._uU(22," Set point for search "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&x&&(o.Q6J("ngClass",H.invalidTable?"invalid-table":""),o.xp6(3),o.Q6J("ngForOf",H.headerParams))},directives:[B.mk,B.sg,B.PC,B.O5,j.YN,j.Kr,et.oB],styles:["#sortIcon[_ngcontent-%COMP%]{cursor:pointer}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:top}.invalid-table[_ngcontent-%COMP%]{border:.13rem solid #f86c6b}"]}),w})()},6609:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>N});var O,o=m(8628),ot=m(6321),D=m(5194),at=m(6121),nt=(O=function(g,f){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,y){c.__proto__=y}||function(c,y){for(var B in y)y.hasOwnProperty(B)&&(c[B]=y[B])})(g,f)},function(g,f){function c(){this.constructor=g}O(g,f),g.prototype=null===f?Object.create(f):(c.prototype=f.prototype,new c)}),X=function(O){function g(f,c,y){var B=O.call(this,f)||this;return B.element=c,B.index=y,B}return nt(g,O),g}(at.ZP),Y=function(O){function g(f,c){var y=O.call(this)||this;if(y.unique_=!!(c||{}).unique,y.array_=f||[],y.unique_)for(var j=0,et=y.array_.length;j<et;++j)y.assertUnique_(y.array_[j],j);return y.updateLength_(),y}return nt(g,O),g.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},g.prototype.extend=function(f){for(var c=0,y=f.length;c<y;++c)this.push(f[c]);return this},g.prototype.forEach=function(f){for(var c=this.array_,y=0,B=c.length;y<B;++y)f(c[y],y,c)},g.prototype.getArray=function(){return this.array_},g.prototype.item=function(f){return this.array_[f]},g.prototype.getLength=function(){return this.get("length")},g.prototype.insertAt=function(f,c){this.unique_&&this.assertUnique_(c),this.array_.splice(f,0,c),this.updateLength_(),this.dispatchEvent(new X(D.Z.ADD,c,f))},g.prototype.pop=function(){return this.removeAt(this.getLength()-1)},g.prototype.push=function(f){this.unique_&&this.assertUnique_(f);var c=this.getLength();return this.insertAt(c,f),this.getLength()},g.prototype.remove=function(f){for(var c=this.array_,y=0,B=c.length;y<B;++y)if(c[y]===f)return this.removeAt(y)},g.prototype.removeAt=function(f){var c=this.array_[f];return this.array_.splice(f,1),this.updateLength_(),this.dispatchEvent(new X(D.Z.REMOVE,c,f)),c},g.prototype.setAt=function(f,c){var y=this.getLength();if(f<y){this.unique_&&this.assertUnique_(c,f);var B=this.array_[f];this.array_[f]=c,this.dispatchEvent(new X(D.Z.REMOVE,B,f)),this.dispatchEvent(new X(D.Z.ADD,c,f))}else{for(var j=y;j<f;++j)this.insertAt(j,void 0);this.insertAt(f,c)}},g.prototype.updateLength_=function(){this.set("length",this.array_.length)},g.prototype.assertUnique_=function(f,c){for(var y=0,B=this.array_.length;y<B;++y)if(this.array_[y]===f&&y!==c)throw new o.Z(58)},g}(ot.ZP);const N=Y},5194:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>o});const o={ADD:"add",REMOVE:"remove"}},2729:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>Y});var N,o=m(6321),ot=m(377),D=m(5414),at=m(4061),nt=(N=function(O,g){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var y in c)c.hasOwnProperty(y)&&(f[y]=c[y])})(O,g)},function(O,g){function f(){this.constructor=O}N(O,g),O.prototype=null===g?Object.create(g):(f.prototype=g.prototype,new f)}),U=function(N){function O(g){var f=N.call(this)||this;return f.id_=void 0,f.geometryName_="geometry",f.style_=null,f.styleFunction_=void 0,f.geometryChangeKey_=null,f.addEventListener((0,o.v_)(f.geometryName_),f.handleGeometryChanged_),g&&("function"==typeof g.getSimplifiedGeometry?f.setGeometry(g):f.setProperties(g)),f}return nt(O,N),O.prototype.clone=function(){var g=new O(this.hasProperties()?this.getProperties():null);g.setGeometryName(this.getGeometryName());var f=this.getGeometry();f&&g.setGeometry(f.clone());var c=this.getStyle();return c&&g.setStyle(c),g},O.prototype.getGeometry=function(){return this.get(this.geometryName_)},O.prototype.getId=function(){return this.id_},O.prototype.getGeometryName=function(){return this.geometryName_},O.prototype.getStyle=function(){return this.style_},O.prototype.getStyleFunction=function(){return this.styleFunction_},O.prototype.handleGeometryChange_=function(){this.changed()},O.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,at.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);var g=this.getGeometry();g&&(this.geometryChangeKey_=(0,at.oL)(g,ot.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()},O.prototype.setGeometry=function(g){this.set(this.geometryName_,g)},O.prototype.setStyle=function(g){this.style_=g,this.styleFunction_=g?function X(N){return"function"==typeof N?N:(Array.isArray(N)?O=N:((0,D.h)("function"==typeof N.getZIndex,41),O=[N]),function(){return O});var O}(g):void 0,this.changed()},O.prototype.setId=function(g){this.id_=g,this.changed()},O.prototype.setGeometryName=function(g){this.removeEventListener((0,o.v_)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=g,this.addEventListener((0,o.v_)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},O}(o.ZP);const Y=U},7863:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>o});const o={ANIMATING:0,INTERACTING:1}},2827:(jt,yt,m)=>{"use strict";m.d(yt,{ce:()=>T});var l,o=m(2242),ot=m(377),D=m(5452),at=m(6991),nt=m(5264),U=m(3185),X=(l=function(a,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,C){d.__proto__=C}||function(d,C){for(var G in C)C.hasOwnProperty(G)&&(d[G]=C[G])})(a,h)},function(a,h){function d(){this.constructor=a}l(a,h),a.prototype=null===h?Object.create(h):(d.prototype=h.prototype,new d)}),Y=function(l){function a(h){var d=this,C=h||{};(d=l.call(this,{element:document.createElement("div"),render:C.render,target:C.target})||this).ulElement_=document.createElement("ul"),d.collapsed_=void 0===C.collapsed||C.collapsed,d.overrideCollapsible_=void 0!==C.collapsible,d.collapsible_=void 0===C.collapsible||C.collapsible,d.collapsible_||(d.collapsed_=!1);var G=void 0!==C.className?C.className:"ol-attribution",Q=void 0!==C.tipLabel?C.tipLabel:"Attributions",ft=void 0!==C.collapseLabel?C.collapseLabel:"\xbb";"string"==typeof ft?(d.collapseLabel_=document.createElement("span"),d.collapseLabel_.textContent=ft):d.collapseLabel_=ft;var vt=void 0!==C.label?C.label:"i";"string"==typeof vt?(d.label_=document.createElement("span"),d.label_.textContent=vt):d.label_=vt;var Tt=d.collapsible_&&!d.collapsed_?d.collapseLabel_:d.label_,St=document.createElement("button");St.setAttribute("type","button"),St.title=Q,St.appendChild(Tt),St.addEventListener(ot.Z.CLICK,d.handleClick_.bind(d),!1);var Wt=d.element;return Wt.className=G+" "+D.XV+" "+D.hg+(d.collapsed_&&d.collapsible_?" "+D.hN:"")+(d.collapsible_?"":" ol-uncollapsible"),Wt.appendChild(d.ulElement_),Wt.appendChild(St),d.renderedAttributions_=[],d.renderedVisible_=!0,d}return X(a,l),a.prototype.collectSourceAttributions_=function(h){for(var d={},C=[],G=h.layerStatesArray,Q=0,ft=G.length;Q<ft;++Q){var vt=G[Q];if((0,nt.j)(vt,h.viewState)){var Tt=vt.layer.getSource();if(Tt){var St=Tt.getAttributions();if(St){var Nt=St(h);if(Nt)if(!this.overrideCollapsible_&&!1===Tt.getAttributionsCollapsible()&&this.setCollapsible(!1),Array.isArray(Nt))for(var Wt=0,Qt=Nt.length;Wt<Qt;++Wt)Nt[Wt]in d||(C.push(Nt[Wt]),d[Nt[Wt]]=!0);else Nt in d||(C.push(Nt),d[Nt]=!0)}}}}return C},a.prototype.updateElement_=function(h){if(h){var d=this.collectSourceAttributions_(h),C=d.length>0;if(this.renderedVisible_!=C&&(this.element.style.display=C?"":"none",this.renderedVisible_=C),!(0,at.fS)(d,this.renderedAttributions_)){(0,U.ep)(this.ulElement_);for(var G=0,Q=d.length;G<Q;++G){var ft=document.createElement("li");ft.innerHTML=d[G],this.ulElement_.appendChild(ft)}this.renderedAttributions_=d}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},a.prototype.handleClick_=function(h){h.preventDefault(),this.handleToggle_()},a.prototype.handleToggle_=function(){this.element.classList.toggle(D.hN),this.collapsed_?(0,U.$H)(this.collapseLabel_,this.label_):(0,U.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},a.prototype.getCollapsible=function(){return this.collapsible_},a.prototype.setCollapsible=function(h){this.collapsible_!==h&&(this.collapsible_=h,this.element.classList.toggle("ol-uncollapsible"),!h&&this.collapsed_&&this.handleToggle_())},a.prototype.setCollapsed=function(h){!this.collapsible_||this.collapsed_===h||this.handleToggle_()},a.prototype.getCollapsed=function(){return this.collapsed_},a.prototype.render=function(h){this.updateElement_(h.frameState)},a}(o.Z);const N=Y;var O=m(6609),g=m(512),f=function(){var l=function(a,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,C){d.__proto__=C}||function(d,C){for(var G in C)C.hasOwnProperty(G)&&(d[G]=C[G])})(a,h)};return function(a,h){function d(){this.constructor=a}l(a,h),a.prototype=null===h?Object.create(h):(d.prototype=h.prototype,new d)}}(),c=function(l){function a(h){var d=this,C=h||{};d=l.call(this,{element:document.createElement("div"),render:C.render,target:C.target})||this;var G=void 0!==C.className?C.className:"ol-rotate",Q=void 0!==C.label?C.label:"\u21e7";d.label_=null,"string"==typeof Q?(d.label_=document.createElement("span"),d.label_.className="ol-compass",d.label_.textContent=Q):(d.label_=Q,d.label_.classList.add("ol-compass"));var ft=C.tipLabel?C.tipLabel:"Reset rotation",vt=document.createElement("button");vt.className=G+"-reset",vt.setAttribute("type","button"),vt.title=ft,vt.appendChild(d.label_),vt.addEventListener(ot.Z.CLICK,d.handleClick_.bind(d),!1);var St=d.element;return St.className=G+" "+D.XV+" "+D.hg,St.appendChild(vt),d.callResetNorth_=C.resetNorth?C.resetNorth:void 0,d.duration_=void 0!==C.duration?C.duration:250,d.autoHide_=void 0===C.autoHide||C.autoHide,d.rotation_=void 0,d.autoHide_&&d.element.classList.add(D.oj),d}return f(a,l),a.prototype.handleClick_=function(h){h.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},a.prototype.resetNorth_=function(){var d=this.getMap().getView();if(d){var C=d.getRotation();void 0!==C&&(this.duration_>0&&C%(2*Math.PI)!=0?d.animate({rotation:0,duration:this.duration_,easing:g.Vv}):d.setRotation(0))}},a.prototype.render=function(h){var d=h.frameState;if(d){var C=d.viewState.rotation;if(C!=this.rotation_){var G="rotate("+C+"rad)";if(this.autoHide_){var Q=this.element.classList.contains(D.oj);Q||0!==C?Q&&0!==C&&this.element.classList.remove(D.oj):this.element.classList.add(D.oj)}this.label_.style.transform=G}this.rotation_=C}},a}(o.Z);const y=c;var B=function(){var l=function(a,h){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,C){d.__proto__=C}||function(d,C){for(var G in C)C.hasOwnProperty(G)&&(d[G]=C[G])})(a,h)};return function(a,h){function d(){this.constructor=a}l(a,h),a.prototype=null===h?Object.create(h):(d.prototype=h.prototype,new d)}}(),j=function(l){function a(h){var d=this,C=h||{};d=l.call(this,{element:document.createElement("div"),target:C.target})||this;var G=void 0!==C.className?C.className:"ol-zoom",Q=void 0!==C.delta?C.delta:1,ft=void 0!==C.zoomInLabel?C.zoomInLabel:"+",vt=void 0!==C.zoomOutLabel?C.zoomOutLabel:"\u2212",Tt=void 0!==C.zoomInTipLabel?C.zoomInTipLabel:"Zoom in",St=void 0!==C.zoomOutTipLabel?C.zoomOutTipLabel:"Zoom out",Nt=document.createElement("button");Nt.className=G+"-in",Nt.setAttribute("type","button"),Nt.title=Tt,Nt.appendChild("string"==typeof ft?document.createTextNode(ft):ft),Nt.addEventListener(ot.Z.CLICK,d.handleClick_.bind(d,Q),!1);var Wt=document.createElement("button");Wt.className=G+"-out",Wt.setAttribute("type","button"),Wt.title=St,Wt.appendChild("string"==typeof vt?document.createTextNode(vt):vt),Wt.addEventListener(ot.Z.CLICK,d.handleClick_.bind(d,-Q),!1);var Ee=d.element;return Ee.className=G+" "+D.XV+" "+D.hg,Ee.appendChild(Nt),Ee.appendChild(Wt),d.duration_=void 0!==C.duration?C.duration:250,d}return B(a,l),a.prototype.handleClick_=function(h,d){d.preventDefault(),this.zoomByDelta_(h)},a.prototype.zoomByDelta_=function(h){var C=this.getMap().getView();if(C){var G=C.getZoom();if(void 0!==G){var Q=C.getConstrainedZoom(G+h);this.duration_>0?(C.getAnimating()&&C.cancelAnimations(),C.animate({zoom:Q,duration:this.duration_,easing:g.Vv})):C.setZoom(Q)}}},a}(o.Z);const et=j;function T(l){var a=l||{},h=new O.Z;return(void 0===a.zoom||a.zoom)&&h.push(new et(a.zoomOptions)),(void 0===a.rotate||a.rotate)&&h.push(new y(a.rotateOptions)),(void 0===a.attribution||a.attribution)&&h.push(new N(a.attributionOptions)),h}},2242:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>Y});var o=m(6321);var N,D=m(6117),at=m(4061),nt=m(3185),U=(N=function(O,g){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var y in c)c.hasOwnProperty(y)&&(f[y]=c[y])})(O,g)},function(O,g){function f(){this.constructor=O}N(O,g),O.prototype=null===g?Object.create(g):(f.prototype=g.prototype,new f)}),X=function(N){function O(g){var f=N.call(this)||this,c=g.element;return c&&!g.target&&!c.style.pointerEvents&&(c.style.pointerEvents="auto"),f.element=c||null,f.target_=null,f.map_=null,f.listenerKeys=[],g.render&&(f.render=g.render),g.target&&f.setTarget(g.target),f}return U(O,N),O.prototype.disposeInternal=function(){(0,nt.ZF)(this.element),N.prototype.disposeInternal.call(this)},O.prototype.getMap=function(){return this.map_},O.prototype.setMap=function(g){this.map_&&(0,nt.ZF)(this.element);for(var f=0,c=this.listenerKeys.length;f<c;++f)(0,at.bN)(this.listenerKeys[f]);this.listenerKeys.length=0,this.map_=g,this.map_&&((this.target_?this.target_:g.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==D.Zn&&this.listenerKeys.push((0,at.oL)(g,"postrender",this.render,this)),g.render())},O.prototype.render=function(g){},O.prototype.setTarget=function(g){this.target_="string"==typeof g?document.getElementById(g):g},O}(o.ZP);const Y=X},8686:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>O});var o=m(2242);var g,D=m(6321),at=m(254),nt=m(4061),U=(g=function(f,c){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,B){y.__proto__=B}||function(y,B){for(var j in B)B.hasOwnProperty(j)&&(y[j]=B[j])})(f,c)},function(f,c){function y(){this.constructor=f}g(f,c),f.prototype=null===c?Object.create(c):(y.prototype=c.prototype,new y)}),X="projection",Y="coordinateFormat",N=function(g){function f(c){var y=this,B=c||{},j=document.createElement("div");return j.className=void 0!==B.className?B.className:"ol-mouse-position",(y=g.call(this,{element:j,render:B.render,target:B.target})||this).addEventListener((0,D.v_)(X),y.handleProjectionChanged_),B.coordinateFormat&&y.setCoordinateFormat(B.coordinateFormat),B.projection&&y.setProjection(B.projection),y.undefinedHTML_=void 0!==B.undefinedHTML?B.undefinedHTML:"&#160;",y.renderOnMouseOut_=!!y.undefinedHTML_,y.renderedHTML_=j.innerHTML,y.mapProjection_=null,y.transform_=null,y}return U(f,g),f.prototype.handleProjectionChanged_=function(){this.transform_=null},f.prototype.getCoordinateFormat=function(){return this.get(Y)},f.prototype.getProjection=function(){return this.get(X)},f.prototype.handleMouseMove=function(c){var y=this.getMap();this.updateHTML_(y.getEventPixel(c))},f.prototype.handleMouseOut=function(c){this.updateHTML_(null)},f.prototype.setMap=function(c){if(g.prototype.setMap.call(this,c),c){var y=c.getViewport();this.listenerKeys.push((0,nt.oL)(y,"pointermove",this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,nt.oL)(y,"pointerout",this.handleMouseOut,this))}},f.prototype.setCoordinateFormat=function(c){this.set(Y,c)},f.prototype.setProjection=function(c){this.set(X,(0,at.U2)(c))},f.prototype.updateHTML_=function(c){var y=this.undefinedHTML_;if(c&&this.mapProjection_){if(!this.transform_){var B=this.getProjection();this.transform_=B?(0,at.WO)(this.mapProjection_,B):at.gD}var et=this.getMap().getCoordinateFromPixelInternal(c);if(et){var T=(0,at.Cs)();T&&(this.transform_=(0,at.WO)(this.mapProjection_,T)),this.transform_(et,et);var l=this.getCoordinateFormat();y=l?l(et):et.toString()}}(!this.renderedHTML_||y!==this.renderedHTML_)&&(this.element.innerHTML=y,this.renderedHTML_=y)},f.prototype.render=function(c){var y=c.frameState;y?this.mapProjection_!=y.viewState.projection&&(this.mapProjection_=y.viewState.projection,this.transform_=null):this.mapProjection_=null},f}(o.Z);const O=N},5012:(jt,yt,m)=>{"use strict";m.d(yt,{IH:()=>ot,Fj:()=>nt,fS:()=>Y,U1:()=>N,bI:()=>g,Cf:()=>j});var o=m(3303);function ot(T,l){return T[0]+=+l[0],T[1]+=+l[1],T}function nt(T){return function(l){return function B(T,l){return function X(T,l,a){return T?l.replace("{x}",T[0].toFixed(a)).replace("{y}",T[1].toFixed(a)):""}(T,"{x}, {y}",l)}(l,T)}}function Y(T,l){for(var a=!0,h=T.length-1;h>=0;--h)if(T[h]!=l[h]){a=!1;break}return a}function N(T,l){var a=Math.cos(l),h=Math.sin(l),C=T[1]*a+T[0]*h;return T[0]=T[0]*a-T[1]*h,T[1]=C,T}function g(T,l){var a=T[0]-l[0],h=T[1]-l[1];return a*a+h*h}function j(T,l){if(l.canWrapX()){var a=(0,o.dz)(l.getExtent()),h=function et(T,l,a){var h=l.getExtent(),d=0;if(l.canWrapX()&&(T[0]<h[0]||T[0]>h[2])){var C=a||(0,o.dz)(h);d=Math.floor((T[0]-h[0])/C)}return d}(T,l,a);h&&(T[0]-=h*a)}return T}},512:(jt,yt,m)=>{"use strict";function ot(U){return 1-function o(U){return Math.pow(U,3)}(1-U)}function D(U){return 3*U*U-2*U*U*U}m.d(yt,{Vv:()=>ot,rd:()=>D})},3303:(jt,yt,m)=>{"use strict";m.d(yt,{f3:()=>at,d9:()=>nt,qf:()=>U,r4:()=>Y,jE:()=>N,pX:()=>O,lJ:()=>g,T9:()=>f,YN:()=>c,HK:()=>y,GN:()=>j,fS:()=>T,Wj:()=>h,qP:()=>C,H6:()=>ft,hC:()=>Tt,w$:()=>St,qg:()=>Nt,p8:()=>Ee,Cr:()=>dt,rL:()=>w,Xv:()=>A,dz:()=>x,kK:()=>H,xb:()=>q,EO:()=>ct,I7:()=>Ht,Ne:()=>Ut,Cf:()=>Ce});var o=m(4143);function at(L,V,ht){return ht?(ht[0]=L[0]-V,ht[1]=L[1]-V,ht[2]=L[2]+V,ht[3]=L[3]+V,ht):[L[0]-V,L[1]-V,L[2]+V,L[3]+V]}function nt(L,V){return V?(V[0]=L[0],V[1]=L[1],V[2]=L[2],V[3]=L[3],V):L.slice()}function U(L,V,ht){var It,Kt;return(It=V<L[0]?L[0]-V:L[2]<V?V-L[2]:0)*It+(Kt=ht<L[1]?L[1]-ht:L[3]<ht?ht-L[3]:0)*Kt}function Y(L,V){return L[0]<=V[0]&&V[2]<=L[2]&&L[1]<=V[1]&&V[3]<=L[3]}function N(L,V,ht){return L[0]<=V&&V<=L[2]&&L[1]<=ht&&ht<=L[3]}function O(L,V){var ge=V[0],ae=V[1],se=o.Z.UNKNOWN;return ge<L[0]?se|=o.Z.LEFT:ge>L[2]&&(se|=o.Z.RIGHT),ae<L[1]?se|=o.Z.BELOW:ae>L[3]&&(se|=o.Z.ABOVE),se===o.Z.UNKNOWN&&(se=o.Z.INTERSECTING),se}function g(){return[1/0,1/0,-1/0,-1/0]}function f(L,V,ht,It,Kt){return Kt?(Kt[0]=L,Kt[1]=V,Kt[2]=ht,Kt[3]=It,Kt):[L,V,ht,It]}function c(L){return f(1/0,1/0,-1/0,-1/0,L)}function y(L,V){var ht=L[0],It=L[1];return f(ht,It,ht,It,V)}function j(L,V,ht,It,Kt){return C(c(Kt),L,V,ht,It)}function T(L,V){return L[0]==V[0]&&L[2]==V[2]&&L[1]==V[1]&&L[3]==V[3]}function h(L,V){V[0]<L[0]&&(L[0]=V[0]),V[0]>L[2]&&(L[2]=V[0]),V[1]<L[1]&&(L[1]=V[1]),V[1]>L[3]&&(L[3]=V[1])}function C(L,V,ht,It,Kt){for(;ht<It;ht+=Kt)Q(L,V[ht],V[ht+1]);return L}function Q(L,V,ht){L[0]=Math.min(L[0],V),L[1]=Math.min(L[1],ht),L[2]=Math.max(L[2],V),L[3]=Math.max(L[3],ht)}function ft(L,V){var ht;return!!((ht=V(Tt(L)))||(ht=V(St(L)),ht)||(ht=V(A(L)),ht)||(ht=V(w(L)),ht))&&ht}function Tt(L){return[L[0],L[1]]}function St(L){return[L[2],L[1]]}function Nt(L){return[(L[0]+L[2])/2,(L[1]+L[3])/2]}function Ee(L,V,ht,It,Kt){var he=V*It[0]/2,ge=V*It[1]/2,ae=Math.cos(ht),se=Math.sin(ht),Yt=he*ae,Se=he*se,Le=ge*ae,$=ge*se,rt=L[0],lt=L[1],xt=rt-Yt+$,Ct=rt-Yt-$,Xt=rt+Yt-$,$t=rt+Yt+$,te=lt-Se-Le,pe=lt-Se+Le,me=lt+Se+Le,Oe=lt+Se-Le;return f(Math.min(xt,Ct,Xt,$t),Math.min(te,pe,me,Oe),Math.max(xt,Ct,Xt,$t),Math.max(te,pe,me,Oe),Kt)}function dt(L){return L[3]-L[1]}function w(L){return[L[0],L[3]]}function A(L){return[L[2],L[3]]}function x(L){return L[2]-L[0]}function H(L,V){return L[0]<=V[2]&&L[2]>=V[0]&&L[1]<=V[3]&&L[3]>=V[1]}function q(L){return L[2]<L[0]||L[3]<L[1]}function ct(L,V){return V?(V[0]=L[0],V[1]=L[1],V[2]=L[2],V[3]=L[3],V):L}function Ht(L,V,ht){var It=!1,Kt=O(L,V),he=O(L,ht);if(Kt===o.Z.INTERSECTING||he===o.Z.INTERSECTING)It=!0;else{var ge=L[0],ae=L[1],se=L[2],Yt=L[3],$=ht[0],rt=ht[1],lt=(rt-V[1])/($-V[0]),xt=void 0,Ct=void 0;!!(he&o.Z.ABOVE)&&!(Kt&o.Z.ABOVE)&&(It=(xt=$-(rt-Yt)/lt)>=ge&&xt<=se),It||!(he&o.Z.RIGHT)||Kt&o.Z.RIGHT||(It=(Ct=rt-($-se)*lt)>=ae&&Ct<=Yt),It||!(he&o.Z.BELOW)||Kt&o.Z.BELOW||(It=(xt=$-(rt-ae)/lt)>=ge&&xt<=se),!It&&he&o.Z.LEFT&&!(Kt&o.Z.LEFT)&&(It=(Ct=rt-($-ge)*lt)>=ae&&Ct<=Yt)}return It}function Ut(L,V,ht,It){var Kt=[];if(It>1)for(var he=L[2]-L[0],ge=L[3]-L[1],ae=0;ae<It;++ae)Kt.push(L[0]+he*ae/It,L[1],L[2],L[1]+ge*ae/It,L[2]-he*ae/It,L[3],L[0],L[3]-ge*ae/It);else Kt=[L[0],L[1],L[2],L[1],L[2],L[3],L[0],L[3]];V(Kt,Kt,2);for(var se=[],Yt=[],Se=(ae=0,Kt.length);ae<Se;ae+=2)se.push(Kt[ae]),Yt.push(Kt[ae+1]);return function D(L,V,ht){return f(Math.min.apply(null,L),Math.min.apply(null,V),Math.max.apply(null,L),Math.max.apply(null,V),ht)}(se,Yt,ht)}function Ce(L,V){var ht=V.getExtent(),It=Nt(L);if(V.canWrapX()&&(It[0]<ht[0]||It[0]>=ht[2])){var Kt=x(ht),ge=Math.floor((It[0]-ht[0])/Kt)*Kt;L[0]-=ge,L[2]-=ge}return L}},4143:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>o});const o={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},2009:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>o});const o={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},881:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>o});const o={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},4979:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>Y});var N,o=m(881),ot=m(1617),D=m(3303),at=m(6888),nt=m(6581),U=(N=function(O,g){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var y in c)c.hasOwnProperty(y)&&(f[y]=c[y])})(O,g)},function(O,g){function f(){this.constructor=O}N(O,g),O.prototype=null===g?Object.create(g):(f.prototype=g.prototype,new f)}),X=function(N){function O(g,f){var c=N.call(this)||this;return c.setCoordinates(g,f),c}return U(O,N),O.prototype.clone=function(){return new O(this.flatCoordinates.slice(),this.layout)},O.prototype.closestPointXY=function(g,f,c,y){var B=this.flatCoordinates,j=(0,nt.bI)(g,f,B[0],B[1]);if(j<y){for(var et=this.stride,T=0;T<et;++T)c[T]=B[T];return c.length=et,j}return y},O.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},O.prototype.computeExtent=function(g){return(0,D.HK)(this.flatCoordinates,g)},O.prototype.getType=function(){return o.Z.POINT},O.prototype.intersectsExtent=function(g){return(0,D.jE)(g,this.flatCoordinates[0],this.flatCoordinates[1])},O.prototype.setCoordinates=function(g,f){this.setLayout(f,g,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,at.IG)(this.flatCoordinates,0,g,this.stride),this.changed()},O}(ot.ZP);const Y=X},3023:(jt,yt,m)=>{"use strict";m.d(yt,{iu:()=>Nt,ZP:()=>St,oJ:()=>Wt});var dt,o=m(2009),ot=m(881),D=m(1617),at=m(9263),nt=m(3303),U=m(6888),X=m(6182),Y=m(1188),N=m(7695),O=(dt=function(Et,pt){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,W){J.__proto__=W}||function(J,W){for(var w in W)W.hasOwnProperty(w)&&(J[w]=W[w])})(Et,pt)},function(Et,pt){function J(){this.constructor=Et}dt(Et,pt),Et.prototype=null===pt?Object.create(pt):(J.prototype=pt.prototype,new J)}),g=function(dt){function Et(pt,J){var W=dt.call(this)||this;return W.maxDelta_=-1,W.maxDeltaRevision_=-1,void 0===J||Array.isArray(pt[0])?W.setCoordinates(pt,J):W.setFlatCoordinates(J,pt),W}return O(Et,dt),Et.prototype.clone=function(){return new Et(this.flatCoordinates.slice(),this.layout)},Et.prototype.closestPointXY=function(pt,J,W,w){return w<(0,nt.qf)(this.getExtent(),pt,J)?w:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,at.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,at.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,pt,J,W,w))},Et.prototype.getArea=function(){return(0,N.QQ)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},Et.prototype.getCoordinates=function(){return(0,Y.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},Et.prototype.getSimplifiedGeometryInternal=function(pt){var J=[];return J.length=(0,X.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,pt,J,0),new Et(J,o.Z.XY)},Et.prototype.getType=function(){return ot.Z.LINEAR_RING},Et.prototype.intersectsExtent=function(pt){return!1},Et.prototype.setCoordinates=function(pt,J){this.setLayout(J,pt,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,U.Sg)(this.flatCoordinates,0,pt,this.stride),this.changed()},Et}(D.ZP);const f=g;var c=m(4979),y=m(6991),B=m(6797),j=m(5326),et=m(7075),T=m(9479),l=m(6581);function ft(dt,Et,pt,J){var W=J||6371008.8,w=(0,l.Yr)(dt[1]),A=(0,l.Yr)(dt[0]),x=Et/W,H=Math.asin(Math.sin(w)*Math.cos(x)+Math.cos(w)*Math.sin(x)*Math.cos(pt)),q=A+Math.atan2(Math.sin(pt)*Math.sin(x)*Math.cos(w),Math.cos(x)-Math.sin(w)*Math.sin(H));return[(0,l.Ux)(q),(0,l.Ux)(H)]}var vt=function(){var dt=function(Et,pt){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,W){J.__proto__=W}||function(J,W){for(var w in W)W.hasOwnProperty(w)&&(J[w]=W[w])})(Et,pt)};return function(Et,pt){function J(){this.constructor=Et}dt(Et,pt),Et.prototype=null===pt?Object.create(pt):(J.prototype=pt.prototype,new J)}}(),Tt=function(dt){function Et(pt,J,W){var w=dt.call(this)||this;return w.ends_=[],w.flatInteriorPointRevision_=-1,w.flatInteriorPoint_=null,w.maxDelta_=-1,w.maxDeltaRevision_=-1,w.orientedRevision_=-1,w.orientedFlatCoordinates_=null,void 0!==J&&W?(w.setFlatCoordinates(J,pt),w.ends_=W):w.setCoordinates(pt,J),w}return vt(Et,dt),Et.prototype.appendLinearRing=function(pt){this.flatCoordinates?(0,y.l7)(this.flatCoordinates,pt.getFlatCoordinates()):this.flatCoordinates=pt.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},Et.prototype.clone=function(){return new Et(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},Et.prototype.closestPointXY=function(pt,J,W,w){return w<(0,nt.qf)(this.getExtent(),pt,J)?w:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,at.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,at.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,pt,J,W,w))},Et.prototype.containsXY=function(pt,J){return(0,T.wY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,pt,J)},Et.prototype.getArea=function(){return(0,N.KP)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},Et.prototype.getCoordinates=function(pt){var J;return void 0!==pt?(J=this.getOrientedFlatCoordinates().slice(),(0,et.zX)(J,0,this.ends_,this.stride,pt)):J=this.flatCoordinates,(0,Y.o1)(J,0,this.ends_,this.stride)},Et.prototype.getEnds=function(){return this.ends_},Et.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var pt=(0,nt.qg)(this.getExtent());this.flatInteriorPoint_=(0,B.X)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,pt,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},Et.prototype.getInteriorPoint=function(){return new c.Z(this.getFlatInteriorPoint(),o.Z.XYM)},Et.prototype.getLinearRingCount=function(){return this.ends_.length},Et.prototype.getLinearRing=function(pt){return pt<0||this.ends_.length<=pt?null:new f(this.flatCoordinates.slice(0===pt?0:this.ends_[pt-1],this.ends_[pt]),this.layout)},Et.prototype.getLinearRings=function(){for(var pt=this.layout,J=this.flatCoordinates,W=this.ends_,w=[],A=0,x=0,H=W.length;x<H;++x){var q=W[x],ct=new f(J.slice(A,q),pt);w.push(ct),A=q}return w},Et.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var pt=this.flatCoordinates;(0,et.$v)(pt,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=pt:(this.orientedFlatCoordinates_=pt.slice(),this.orientedFlatCoordinates_.length=(0,et.zX)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},Et.prototype.getSimplifiedGeometryInternal=function(pt){var J=[],W=[];return J.length=(0,X.Zh)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(pt),J,0,W),new Et(J,o.Z.XY,W)},Et.prototype.getType=function(){return ot.Z.POLYGON},Et.prototype.intersectsExtent=function(pt){return(0,j.ac)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,pt)},Et.prototype.setCoordinates=function(pt,J){this.setLayout(J,pt,2),this.flatCoordinates||(this.flatCoordinates=[]);var W=(0,U._5)(this.flatCoordinates,0,pt,this.stride,this.ends_);this.flatCoordinates.length=0===W.length?0:W[W.length-1],this.changed()},Et}(D.ZP);const St=Tt;function Nt(dt,Et,pt,J){for(var W=pt||32,w=[],A=0;A<W;++A)(0,y.l7)(w,ft(dt,Et,2*Math.PI*A/W,J));return w.push(w[0],w[1]),new Tt(w,o.Z.XY,[w.length])}function Wt(dt){var Et=dt[0],pt=dt[1],J=dt[2],W=dt[3],w=[Et,pt,Et,W,J,W,J,pt,Et,pt];return new Tt(w,o.Z.XY,[w.length])}},1617:(jt,yt,m)=>{"use strict";m.d(yt,{ZP:()=>l,Kr:()=>T});var a,o=m(6321),ot=m(3400),D=m(3865),at=m(3232),nt=m(3303),U=m(254),X=m(6117),Y=m(7855),N=(a=function(h,d){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,G){C.__proto__=G}||function(C,G){for(var Q in G)G.hasOwnProperty(Q)&&(C[Q]=G[Q])})(h,d)},function(h,d){function C(){this.constructor=h}a(h,d),h.prototype=null===d?Object.create(d):(C.prototype=d.prototype,new C)}),O=(0,at.Ue)(),g=function(a){function h(){var d=a.call(this)||this;return d.extent_=(0,nt.lJ)(),d.extentRevision_=-1,d.simplifiedGeometryMaxMinSquaredTolerance=0,d.simplifiedGeometryRevision=0,d.simplifyTransformedInternal=(0,X.qe)(function(C,G,Q){if(!Q)return this.getSimplifiedGeometry(G);var ft=this.clone();return ft.applyTransform(Q),ft.getSimplifiedGeometry(G)}),d}return N(h,a),h.prototype.simplifyTransformed=function(d,C){return this.simplifyTransformedInternal(this.getRevision(),d,C)},h.prototype.clone=function(){return(0,D.O3)()},h.prototype.closestPointXY=function(d,C,G,Q){return(0,D.O3)()},h.prototype.containsXY=function(d,C){var G=this.getClosestPoint([d,C]);return G[0]===d&&G[1]===C},h.prototype.getClosestPoint=function(d,C){var G=C||[NaN,NaN];return this.closestPointXY(d[0],d[1],G,1/0),G},h.prototype.intersectsCoordinate=function(d){return this.containsXY(d[0],d[1])},h.prototype.computeExtent=function(d){return(0,D.O3)()},h.prototype.getExtent=function(d){if(this.extentRevision_!=this.getRevision()){var C=this.computeExtent(this.extent_);(isNaN(C[0])||isNaN(C[1]))&&(0,nt.YN)(C),this.extentRevision_=this.getRevision()}return(0,nt.EO)(this.extent_,d)},h.prototype.rotate=function(d,C){(0,D.O3)()},h.prototype.scale=function(d,C,G){(0,D.O3)()},h.prototype.simplify=function(d){return this.getSimplifiedGeometry(d*d)},h.prototype.getSimplifiedGeometry=function(d){return(0,D.O3)()},h.prototype.getType=function(){return(0,D.O3)()},h.prototype.applyTransform=function(d){(0,D.O3)()},h.prototype.intersectsExtent=function(d){return(0,D.O3)()},h.prototype.translate=function(d,C){(0,D.O3)()},h.prototype.transform=function(d,C){var G=(0,U.U2)(d),Q=G.getUnits()==ot.Z.TILE_PIXELS?function(ft,vt,Tt){var St=G.getExtent(),Nt=G.getWorldExtent(),Wt=(0,nt.Cr)(Nt)/(0,nt.Cr)(St);return(0,at.qC)(O,Nt[0],Nt[3],Wt,-Wt,0,0,0),(0,Y.vT)(ft,0,ft.length,Tt,O,vt),(0,U.Ck)(G,C)(ft,vt,Tt)}:(0,U.Ck)(G,C);return this.applyTransform(Q),this},h}(o.ZP);const f=g;var c=m(2009),y=function(){var a=function(h,d){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,G){C.__proto__=G}||function(C,G){for(var Q in G)G.hasOwnProperty(Q)&&(C[Q]=G[Q])})(h,d)};return function(h,d){function C(){this.constructor=h}a(h,d),h.prototype=null===d?Object.create(d):(C.prototype=d.prototype,new C)}}(),B=function(a){function h(){var d=a.call(this)||this;return d.layout=c.Z.XY,d.stride=2,d.flatCoordinates=null,d}return y(h,a),h.prototype.computeExtent=function(d){return(0,nt.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,d)},h.prototype.getCoordinates=function(){return(0,D.O3)()},h.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},h.prototype.getFlatCoordinates=function(){return this.flatCoordinates},h.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},h.prototype.getLayout=function(){return this.layout},h.prototype.getSimplifiedGeometry=function(d){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),d<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&d<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var C=this.getSimplifiedGeometryInternal(d);return C.getFlatCoordinates().length<this.flatCoordinates.length?C:(this.simplifiedGeometryMaxMinSquaredTolerance=d,this)},h.prototype.getSimplifiedGeometryInternal=function(d){return this},h.prototype.getStride=function(){return this.stride},h.prototype.setFlatCoordinates=function(d,C){this.stride=et(d),this.layout=d,this.flatCoordinates=C},h.prototype.setCoordinates=function(d,C){(0,D.O3)()},h.prototype.setLayout=function(d,C,G){var Q;if(d)Q=et(d);else{for(var ft=0;ft<G;++ft){if(0===C.length)return this.layout=c.Z.XY,void(this.stride=2);C=C[0]}d=function j(a){var h;return 2==a?h=c.Z.XY:3==a?h=c.Z.XYZ:4==a&&(h=c.Z.XYZM),h}(Q=C.length)}this.layout=d,this.stride=Q},h.prototype.applyTransform=function(d){this.flatCoordinates&&(d(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},h.prototype.rotate=function(d,C){var G=this.getFlatCoordinates();if(G){var Q=this.getStride();(0,Y.U1)(G,0,G.length,Q,d,C,G),this.changed()}},h.prototype.scale=function(d,C,G){var Q=C;void 0===Q&&(Q=d);var ft=G;ft||(ft=(0,nt.qg)(this.getExtent()));var vt=this.getFlatCoordinates();if(vt){var Tt=this.getStride();(0,Y.bA)(vt,0,vt.length,Tt,d,Q,ft,vt),this.changed()}},h.prototype.translate=function(d,C){var G=this.getFlatCoordinates();if(G){var Q=this.getStride();(0,Y.Iu)(G,0,G.length,Q,d,C,G),this.changed()}},h}(f);function et(a){var h;return a==c.Z.XY?h=2:a==c.Z.XYZ||a==c.Z.XYM?h=3:a==c.Z.XYZM&&(h=4),h}function T(a,h,d){var C=a.getFlatCoordinates();if(C){var G=a.getStride();return(0,Y.vT)(C,0,C.length,G,h,d)}return null}const l=B},7695:(jt,yt,m)=>{"use strict";function o(at,nt,U,X){for(var Y=0,N=at[U-X],O=at[U-X+1];nt<U;nt+=X){var g=at[nt],f=at[nt+1];Y+=O*g-N*f,N=g,O=f}return Y/2}function ot(at,nt,U,X){for(var Y=0,N=0,O=U.length;N<O;++N){var g=U[N];Y+=o(at,nt,g,X),nt=g}return Y}function D(at,nt,U,X){for(var Y=0,N=0,O=U.length;N<O;++N){var g=U[N];Y+=ot(at,nt,g,X),nt=g[g.length-1]}return Y}m.d(yt,{QQ:()=>o,KP:()=>ot,Eu:()=>D})},9263:(jt,yt,m)=>{"use strict";m.d(yt,{Bv:()=>D,Af:()=>at,sD:()=>nt,H$:()=>U,Xl:()=>X,gI:()=>Y});var o=m(6581);function ot(N,O,g,f,c,y,B){var a,j=N[O],et=N[O+1],T=N[g]-j,l=N[g+1]-et;if(0===T&&0===l)a=O;else{var h=((c-j)*T+(y-et)*l)/(T*T+l*l);if(h>1)a=g;else{if(h>0){for(var d=0;d<f;++d)B[d]=(0,o.t7)(N[O+d],N[g+d],h);return void(B.length=f)}a=O}}for(d=0;d<f;++d)B[d]=N[a+d];B.length=f}function D(N,O,g,f,c){var y=N[O],B=N[O+1];for(O+=f;O<g;O+=f){var j=N[O],et=N[O+1],T=(0,o.bI)(y,B,j,et);T>c&&(c=T),y=j,B=et}return c}function at(N,O,g,f,c){for(var y=0,B=g.length;y<B;++y){var j=g[y];c=D(N,O,j,f,c),O=j}return c}function nt(N,O,g,f,c){for(var y=0,B=g.length;y<B;++y){var j=g[y];c=at(N,O,j,f,c),O=j[j.length-1]}return c}function U(N,O,g,f,c,y,B,j,et,T,l){if(O==g)return T;var a,h;if(0===c){if((h=(0,o.bI)(B,j,N[O],N[O+1]))<T){for(a=0;a<f;++a)et[a]=N[O+a];return et.length=f,h}return T}for(var d=l||[NaN,NaN],C=O+f;C<g;)if(ot(N,C-f,C,f,B,j,d),(h=(0,o.bI)(B,j,d[0],d[1]))<T){for(T=h,a=0;a<f;++a)et[a]=d[a];et.length=f,C+=f}else C+=f*Math.max((Math.sqrt(h)-Math.sqrt(T))/c|0,1);if(y&&(ot(N,g-f,O,f,B,j,d),(h=(0,o.bI)(B,j,d[0],d[1]))<T)){for(T=h,a=0;a<f;++a)et[a]=d[a];et.length=f}return T}function X(N,O,g,f,c,y,B,j,et,T,l){for(var a=l||[NaN,NaN],h=0,d=g.length;h<d;++h){var C=g[h];T=U(N,O,C,f,c,y,B,j,et,T,a),O=C}return T}function Y(N,O,g,f,c,y,B,j,et,T,l){for(var a=l||[NaN,NaN],h=0,d=g.length;h<d;++h){var C=g[h];T=X(N,O,C,f,c,y,B,j,et,T,a),O=C[C.length-1]}return T}},9479:(jt,yt,m)=>{"use strict";m.d(yt,{uG:()=>ot,TG:()=>D,wY:()=>at,Zl:()=>nt});var o=m(3303);function ot(U,X,Y,N,O){return!(0,o.H6)(O,function(f){return!D(U,X,Y,N,f[0],f[1])})}function D(U,X,Y,N,O,g){for(var f=0,c=U[Y-N],y=U[Y-N+1];X<Y;X+=N){var B=U[X],j=U[X+1];y<=g?j>g&&(B-c)*(g-y)-(O-c)*(j-y)>0&&f++:j<=g&&(B-c)*(g-y)-(O-c)*(j-y)<0&&f--,c=B,y=j}return 0!==f}function at(U,X,Y,N,O,g){if(0===Y.length||!D(U,X,Y[0],N,O,g))return!1;for(var f=1,c=Y.length;f<c;++f)if(D(U,Y[f-1],Y[f],N,O,g))return!1;return!0}function nt(U,X,Y,N,O,g){if(0===Y.length)return!1;for(var f=0,c=Y.length;f<c;++f){var y=Y[f];if(at(U,X,y,N,O,g))return!0;X=y[y.length-1]}return!1}},6888:(jt,yt,m)=>{"use strict";function o(nt,U,X,Y){for(var N=0,O=X.length;N<O;++N)nt[U++]=X[N];return U}function ot(nt,U,X,Y){for(var N=0,O=X.length;N<O;++N)for(var g=X[N],f=0;f<Y;++f)nt[U++]=g[f];return U}function D(nt,U,X,Y,N){for(var O=N||[],g=0,f=0,c=X.length;f<c;++f){var y=ot(nt,U,X[f],Y);O[g++]=y,U=y}return O.length=g,O}function at(nt,U,X,Y,N){for(var O=N||[],g=0,f=0,c=X.length;f<c;++f){var y=D(nt,U,X[f],Y,O[g]);O[g++]=y,U=y[y.length-1]}return O.length=g,O}m.d(yt,{IG:()=>o,Sg:()=>ot,_5:()=>D,QT:()=>at})},1188:(jt,yt,m)=>{"use strict";function o(at,nt,U,X,Y){for(var N=void 0!==Y?Y:[],O=0,g=nt;g<U;g+=X)N[O++]=at.slice(g,g+X);return N.length=O,N}function ot(at,nt,U,X,Y){for(var N=void 0!==Y?Y:[],O=0,g=0,f=U.length;g<f;++g){var c=U[g];N[O++]=o(at,nt,c,X,N[O]),nt=c}return N.length=O,N}function D(at,nt,U,X,Y){for(var N=void 0!==Y?Y:[],O=0,g=0,f=U.length;g<f;++g){var c=U[g];N[O++]=ot(at,nt,c,X,N[O]),nt=c[c.length-1]}return N.length=O,N}m.d(yt,{Ml:()=>o,o1:()=>ot,ug:()=>D})},6797:(jt,yt,m)=>{"use strict";m.d(yt,{X:()=>D,U:()=>at});var o=m(9479),ot=m(6991);function D(nt,U,X,Y,N,O,g){for(var f,c,y,B,j,et,T,l=N[O+1],a=[],h=0,d=X.length;h<d;++h){var C=X[h];for(B=nt[C-Y],et=nt[C-Y+1],f=U;f<C;f+=Y)j=nt[f],T=nt[f+1],(l<=et&&T<=l||et<=l&&l<=T)&&a.push(y=(l-et)/(T-et)*(j-B)+B),B=j,et=T}var G=NaN,Q=-1/0;for(a.sort(ot.kK),B=a[0],f=1,c=a.length;f<c;++f){j=a[f];var ft=Math.abs(j-B);ft>Q&&(0,o.wY)(nt,U,X,Y,y=(B+j)/2,l)&&(G=y,Q=ft),B=j}return isNaN(G)&&(G=N[O]),g?(g.push(G,l,Q),g):[G,l,Q]}function at(nt,U,X,Y,N){for(var O=[],g=0,f=X.length;g<f;++g){var c=X[g];O=D(nt,U,c,Y,N,2*g,O),U=c[c.length-1]}return O}},5326:(jt,yt,m)=>{"use strict";m.d(yt,{Kz:()=>at,AW:()=>nt,ac:()=>X,oW:()=>Y});var o=m(3303),ot=m(3359),D=m(9479);function at(N,O,g,f,c){var y=(0,o.qP)((0,o.lJ)(),N,O,g,f);return!!(0,o.kK)(c,y)&&(!!((0,o.r4)(c,y)||y[0]>=c[0]&&y[2]<=c[2]||y[1]>=c[1]&&y[3]<=c[3])||(0,ot.E)(N,O,g,f,function(B,j){return(0,o.I7)(c,B,j)}))}function nt(N,O,g,f,c){for(var y=0,B=g.length;y<B;++y){if(at(N,O,g[y],f,c))return!0;O=g[y]}return!1}function X(N,O,g,f,c){if(!function U(N,O,g,f,c){return!!(at(N,O,g,f,c)||(0,D.TG)(N,O,g,f,c[0],c[1])||(0,D.TG)(N,O,g,f,c[0],c[3])||(0,D.TG)(N,O,g,f,c[2],c[1])||(0,D.TG)(N,O,g,f,c[2],c[3]))}(N,O,g[0],f,c))return!1;if(1===g.length)return!0;for(var y=1,B=g.length;y<B;++y)if((0,D.uG)(N,g[y-1],g[y],f,c)&&!at(N,g[y-1],g[y],f,c))return!1;return!0}function Y(N,O,g,f,c){for(var y=0,B=g.length;y<B;++y){var j=g[y];if(X(N,O,j,f,c))return!0;O=j[j.length-1]}return!1}},6062:(jt,yt,m)=>{"use strict";function o(D,at,nt,U){for(var X=D[at],Y=D[at+1],N=0,O=at+U;O<nt;O+=U){var g=D[O],f=D[O+1];N+=Math.sqrt((g-X)*(g-X)+(f-Y)*(f-Y)),X=g,Y=f}return N}m.d(yt,{W:()=>o})},7075:(jt,yt,m)=>{"use strict";function o(Y,N,O,g){for(;N<O-g;){for(var f=0;f<g;++f){var c=Y[N+f];Y[N+f]=Y[O-g+f],Y[O-g+f]=c}N+=g,O-=g}}function ot(Y,N,O,g){for(var f=!0,c=0;c<g;++c)if(Y[N+c]!==Y[O-g+c]){f=!1;break}f&&(O-=g);var y=function D(Y,N,O,g){for(var f=-1,c=1/0,y=1/0,B=N;B<O;B+=g){var j=Y[B],et=Y[B+1];et>c||et==c&&j>=y||(f=B,c=et,y=j)}return f}(Y,N,O,g),B=y-g;B<N&&(B=O-g);var j=y+g;j>=O&&(j=N);var et=Y[B],T=Y[B+1],l=Y[y],a=Y[y+1],h=Y[j],d=Y[j+1];return l*d+et*a+T*h-(T*l+a*h+et*d)<0}function at(Y,N,O,g,f){for(var c=void 0!==f&&f,y=0,B=O.length;y<B;++y){var j=O[y],et=ot(Y,N,j,g);if(0===y){if(c&&et||!c&&!et)return!1}else if(c&&!et||!c&&et)return!1;N=j}return!0}function nt(Y,N,O,g,f){for(var c=0,y=O.length;c<y;++c){var B=O[c];if(!at(Y,N,B,g,f))return!1;B.length&&(N=B[B.length-1])}return!0}function U(Y,N,O,g,f){for(var c=void 0!==f&&f,y=0,B=O.length;y<B;++y){var j=O[y],et=ot(Y,N,j,g);(0===y?c&&et||!c&&!et:c&&!et||!c&&et)&&o(Y,N,j,g),N=j}return N}function X(Y,N,O,g,f){for(var c=0,y=O.length;c<y;++c)N=U(Y,N,O[c],g,f);return N}m.d(yt,{$v:()=>at,Oj:()=>nt,zX:()=>U,dL:()=>X})},3359:(jt,yt,m)=>{"use strict";function o(ot,D,at,nt,U){for(var N,X=[ot[D],ot[D+1]],Y=[];D+nt<at;D+=nt){if(Y[0]=ot[D+nt],Y[1]=ot[D+nt+1],N=U(X,Y))return N;X[0]=Y[0],X[1]=Y[1]}return!1}m.d(yt,{E:()=>o})},6182:(jt,yt,m)=>{"use strict";m.d(yt,{dt:()=>D,UJ:()=>at,uZ:()=>X,Zh:()=>N,Pp:()=>O});var o=m(6581);function D(g,f,c,y,B,j,et){var T=(c-f)/y;if(T<3){for(;f<c;f+=y)j[et++]=g[f],j[et++]=g[f+1];return et}var l=new Array(T);l[0]=1,l[T-1]=1;for(var a=[f,c-y],h=0;a.length>0;){for(var d=a.pop(),C=a.pop(),G=0,Q=g[C],ft=g[C+1],vt=g[d],Tt=g[d+1],St=C+y;St<d;St+=y){var Qt=(0,o.rU)(g[St],g[St+1],Q,ft,vt,Tt);Qt>G&&(h=St,G=Qt)}G>B&&(l[(h-f)/y]=1,C+y<h&&a.push(C,h),h+y<d&&a.push(h,d))}for(St=0;St<T;++St)l[St]&&(j[et++]=g[f+St*y],j[et++]=g[f+St*y+1]);return et}function at(g,f,c,y,B,j,et,T){for(var l=0,a=c.length;l<a;++l){var h=c[l];et=D(g,f,h,y,B,j,et),T.push(et),f=h}return et}function X(g,f){return f*Math.round(g/f)}function Y(g,f,c,y,B,j,et){if(f==c)return et;var a,h,T=X(g[f],B),l=X(g[f+1],B);f+=y,j[et++]=T,j[et++]=l;do{if(a=X(g[f],B),h=X(g[f+1],B),(f+=y)==c)return j[et++]=a,j[et++]=h,et}while(a==T&&h==l);for(;f<c;){var d=X(g[f],B),C=X(g[f+1],B);if(f+=y,d!=a||C!=h){var G=a-T,Q=h-l,ft=d-T,vt=C-l;if(G*vt==Q*ft&&(G<0&&ft<G||G==ft||G>0&&ft>G)&&(Q<0&&vt<Q||Q==vt||Q>0&&vt>Q)){a=d,h=C;continue}j[et++]=a,j[et++]=h,T=a,l=h,a=d,h=C}}return j[et++]=a,j[et++]=h,et}function N(g,f,c,y,B,j,et,T){for(var l=0,a=c.length;l<a;++l){var h=c[l];et=Y(g,f,h,y,B,j,et),T.push(et),f=h}return et}function O(g,f,c,y,B,j,et,T){for(var l=0,a=c.length;l<a;++l){var h=c[l],d=[];et=N(g,f,h,y,B,j,et,d),T.push(d),f=h[h.length-1]}return et}},7855:(jt,yt,m)=>{"use strict";function o(nt,U,X,Y,N,O){for(var g=O||[],f=0,c=U;c<X;c+=Y){var y=nt[c],B=nt[c+1];g[f++]=N[0]*y+N[2]*B+N[4],g[f++]=N[1]*y+N[3]*B+N[5]}return O&&g.length!=f&&(g.length=f),g}function ot(nt,U,X,Y,N,O,g){for(var f=g||[],c=Math.cos(N),y=Math.sin(N),B=O[0],j=O[1],et=0,T=U;T<X;T+=Y){var l=nt[T]-B,a=nt[T+1]-j;f[et++]=B+l*c-a*y,f[et++]=j+l*y+a*c;for(var h=T+2;h<T+Y;++h)f[et++]=nt[h]}return g&&f.length!=et&&(f.length=et),f}function D(nt,U,X,Y,N,O,g,f){for(var c=f||[],y=g[0],B=g[1],j=0,et=U;et<X;et+=Y){var l=nt[et+1]-B;c[j++]=y+N*(nt[et]-y),c[j++]=B+O*l;for(var a=et+2;a<et+Y;++a)c[j++]=nt[a]}return f&&c.length!=j&&(c.length=j),c}function at(nt,U,X,Y,N,O,g){for(var f=g||[],c=0,y=U;y<X;y+=Y){f[c++]=nt[y]+N,f[c++]=nt[y+1]+O;for(var B=y+2;B<y+Y;++B)f[c++]=nt[B]}return g&&f.length!=c&&(f.length=c),f}m.d(yt,{vT:()=>o,U1:()=>ot,bA:()=>D,Iu:()=>at})},5064:(jt,yt,m)=>{"use strict";m.d(yt,{ZP:()=>gn});var k,o=m(881),ot=m(1617),D=m(3303),at=m(6888),nt=m(7855),U=(k=function(S,u){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var Z in b)b.hasOwnProperty(Z)&&(p[Z]=b[Z])})(S,u)},function(S,u){function p(){this.constructor=S}k(S,u),S.prototype=null===u?Object.create(u):(p.prototype=u.prototype,new p)}),X=function(k){function S(u,p,b){var Z=k.call(this)||this;return void 0!==b&&void 0===p?Z.setFlatCoordinates(b,u):Z.setCenterAndRadius(u,p||0,b),Z}return U(S,k),S.prototype.clone=function(){return new S(this.flatCoordinates.slice(),void 0,this.layout)},S.prototype.closestPointXY=function(u,p,b,Z){var st=this.flatCoordinates,mt=u-st[0],Ot=p-st[1],Gt=mt*mt+Ot*Ot;if(Gt<Z){if(0===Gt)for(var Zt=0;Zt<this.stride;++Zt)b[Zt]=st[Zt];else{var zt=this.getRadius()/Math.sqrt(Gt);for(b[0]=st[0]+zt*mt,b[1]=st[1]+zt*Ot,Zt=2;Zt<this.stride;++Zt)b[Zt]=st[Zt]}return b.length=this.stride,Gt}return Z},S.prototype.containsXY=function(u,p){var b=this.flatCoordinates,Z=u-b[0],st=p-b[1];return Z*Z+st*st<=this.getRadiusSquared_()},S.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},S.prototype.computeExtent=function(u){var p=this.flatCoordinates,b=p[this.stride]-p[0];return(0,D.T9)(p[0]-b,p[1]-b,p[0]+b,p[1]+b,u)},S.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},S.prototype.getRadiusSquared_=function(){var u=this.flatCoordinates[this.stride]-this.flatCoordinates[0],p=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return u*u+p*p},S.prototype.getType=function(){return o.Z.CIRCLE},S.prototype.intersectsExtent=function(u){var p=this.getExtent();if((0,D.kK)(u,p)){var b=this.getCenter();return u[0]<=b[0]&&u[2]>=b[0]||u[1]<=b[1]&&u[3]>=b[1]||(0,D.H6)(u,this.intersectsCoordinate.bind(this))}return!1},S.prototype.setCenter=function(u){var p=this.stride,b=this.flatCoordinates[p]-this.flatCoordinates[0],Z=u.slice();Z[p]=Z[0]+b;for(var st=1;st<p;++st)Z[p+st]=u[st];this.setFlatCoordinates(this.layout,Z),this.changed()},S.prototype.setCenterAndRadius=function(u,p,b){this.setLayout(b,u,0),this.flatCoordinates||(this.flatCoordinates=[]);var Z=this.flatCoordinates,st=(0,at.IG)(Z,0,u,this.stride);Z[st++]=Z[0]+p;for(var mt=1,Ot=this.stride;mt<Ot;++mt)Z[st++]=Z[mt];Z.length=st,this.changed()},S.prototype.getCoordinates=function(){return null},S.prototype.setCoordinates=function(u,p){},S.prototype.setRadius=function(u){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+u,this.changed()},S.prototype.rotate=function(u,p){var b=this.getCenter(),Z=this.getStride();this.setCenter((0,nt.U1)(b,0,b.length,Z,u,p,b)),this.changed()},S.prototype.translate=function(u,p){var b=this.getCenter(),Z=this.getStride();this.setCenter((0,nt.Iu)(b,0,b.length,Z,u,p,b)),this.changed()},S}(ot.ZP);const Y=X;var N=m(6121),O=m(377),g=m(2729);var c=m(2009),y=m(9263),B=m(6182),j=m(6991),et=m(3359),T=m(1188),l=m(6581);function a(k,S,u,p,b,Z,st){var mt,Ot,Gt=(u-S)/p;if(1===Gt)mt=S;else if(2===Gt)mt=S,Ot=b;else if(0!==Gt){for(var Zt=k[S],zt=k[S+1],ce=0,ye=[0],fe=S+p;fe<u;fe+=p){var De=k[fe],Ke=k[fe+1];ce+=Math.sqrt((De-Zt)*(De-Zt)+(Ke-zt)*(Ke-zt)),ye.push(ce),Zt=De,zt=Ke}var _n=b*ce,Ve=(0,j.ry)(ye,_n);Ve<0?(Ot=(_n-ye[-Ve-2])/(ye[-Ve-1]-ye[-Ve-2]),mt=S+(-Ve-2)*p):mt=S+Ve*p}var mn=st>1?st:2,We=Z||new Array(mn);for(fe=0;fe<mn;++fe)We[fe]=void 0===mt?NaN:void 0===Ot?k[mt+fe]:(0,l.t7)(k[mt+fe],k[mt+p+fe],Ot);return We}function h(k,S,u,p,b,Z){if(u==S)return null;var st;if(b<k[S+p-1])return Z?((st=k.slice(S,S+p))[p-1]=b,st):null;if(k[u-1]<b)return Z?((st=k.slice(u-p,u))[p-1]=b,st):null;if(b==k[S+p-1])return k.slice(S,S+p);for(var mt=S/p,Ot=u/p;mt<Ot;){var Gt=mt+Ot>>1;b<k[(Gt+1)*p-1]?Ot=Gt:mt=Gt+1}var Zt=k[mt*p-1];if(b==Zt)return k.slice((mt-1)*p,(mt-1)*p+p);var ce=(b-Zt)/(k[(mt+1)*p-1]-Zt);st=[];for(var ye=0;ye<p-1;++ye)st.push((0,l.t7)(k[(mt-1)*p+ye],k[mt*p+ye],ce));return st.push(b),st}var C=m(5326),G=m(6062),Q=function(){var k=function(S,u){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var Z in b)b.hasOwnProperty(Z)&&(p[Z]=b[Z])})(S,u)};return function(S,u){function p(){this.constructor=S}k(S,u),S.prototype=null===u?Object.create(u):(p.prototype=u.prototype,new p)}}(),ft=function(k){function S(u,p){var b=k.call(this)||this;return b.flatMidpoint_=null,b.flatMidpointRevision_=-1,b.maxDelta_=-1,b.maxDeltaRevision_=-1,void 0===p||Array.isArray(u[0])?b.setCoordinates(u,p):b.setFlatCoordinates(p,u),b}return Q(S,k),S.prototype.appendCoordinate=function(u){this.flatCoordinates?(0,j.l7)(this.flatCoordinates,u):this.flatCoordinates=u.slice(),this.changed()},S.prototype.clone=function(){return new S(this.flatCoordinates.slice(),this.layout)},S.prototype.closestPointXY=function(u,p,b,Z){return Z<(0,D.qf)(this.getExtent(),u,p)?Z:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,y.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,y.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,u,p,b,Z))},S.prototype.forEachSegment=function(u){return(0,et.E)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,u)},S.prototype.getCoordinateAtM=function(u,p){return this.layout!=c.Z.XYM&&this.layout!=c.Z.XYZM?null:h(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,u,void 0!==p&&p)},S.prototype.getCoordinates=function(){return(0,T.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},S.prototype.getCoordinateAt=function(u,p){return a(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,u,p,this.stride)},S.prototype.getLength=function(){return(0,G.W)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},S.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},S.prototype.getSimplifiedGeometryInternal=function(u){var p=[];return p.length=(0,B.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,u,p,0),new S(p,c.Z.XY)},S.prototype.getType=function(){return o.Z.LINE_STRING},S.prototype.intersectsExtent=function(u){return(0,C.Kz)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,u)},S.prototype.setCoordinates=function(u,p){this.setLayout(p,u,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,at.Sg)(this.flatCoordinates,0,u,this.stride),this.changed()},S}(ot.ZP);const vt=ft;var Tt=function(){var k=function(S,u){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var Z in b)b.hasOwnProperty(Z)&&(p[Z]=b[Z])})(S,u)};return function(S,u){function p(){this.constructor=S}k(S,u),S.prototype=null===u?Object.create(u):(p.prototype=u.prototype,new p)}}(),St=function(k){function S(u,p,b){var Z=k.call(this,u)||this;return Z.map=p,Z.frameState=void 0!==b?b:null,Z}return Tt(S,k),S}(N.ZP);const Nt=St;var Wt=function(){var k=function(S,u){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var Z in b)b.hasOwnProperty(Z)&&(p[Z]=b[Z])})(S,u)};return function(S,u){function p(){this.constructor=S}k(S,u),S.prototype=null===u?Object.create(u):(p.prototype=u.prototype,new p)}}(),Qt=function(k){function S(u,p,b,Z,st){var mt=k.call(this,u,p,st)||this;return mt.originalEvent=b,mt.pixel_=null,mt.coordinate_=null,mt.dragging=void 0!==Z&&Z,mt}return Wt(S,k),Object.defineProperty(S.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(u){this.pixel_=u},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(u){this.coordinate_=u},enumerable:!1,configurable:!0}),S.prototype.preventDefault=function(){k.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},S.prototype.stopPropagation=function(){k.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},S}(Nt);const Ee=Qt,dt_DBLCLICK=O.Z.DBLCLICK;var Et=function(){var k=function(S,u){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var Z in b)b.hasOwnProperty(Z)&&(p[Z]=b[Z])})(S,u)};return function(S,u){function p(){this.constructor=S}k(S,u),S.prototype=null===u?Object.create(u):(p.prototype=u.prototype,new p)}}(),pt=function(k){function S(u,p,b){var Z=k.call(this)||this;if(Z.ends_=[],Z.maxDelta_=-1,Z.maxDeltaRevision_=-1,Array.isArray(u[0]))Z.setCoordinates(u,p);else if(void 0!==p&&b)Z.setFlatCoordinates(p,u),Z.ends_=b;else{for(var st=Z.getLayout(),mt=u,Ot=[],Gt=[],Zt=0,zt=mt.length;Zt<zt;++Zt){var ce=mt[Zt];0===Zt&&(st=ce.getLayout()),(0,j.l7)(Ot,ce.getFlatCoordinates()),Gt.push(Ot.length)}Z.setFlatCoordinates(st,Ot),Z.ends_=Gt}return Z}return Et(S,k),S.prototype.appendLineString=function(u){this.flatCoordinates?(0,j.l7)(this.flatCoordinates,u.getFlatCoordinates().slice()):this.flatCoordinates=u.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},S.prototype.clone=function(){return new S(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},S.prototype.closestPointXY=function(u,p,b,Z){return Z<(0,D.qf)(this.getExtent(),u,p)?Z:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,y.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,y.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,u,p,b,Z))},S.prototype.getCoordinateAtM=function(u,p,b){return this.layout!=c.Z.XYM&&this.layout!=c.Z.XYZM||0===this.flatCoordinates.length?null:function d(k,S,u,p,b,Z,st){if(st)return h(k,S,u[u.length-1],p,b,Z);var mt;if(b<k[p-1])return Z?((mt=k.slice(0,p))[p-1]=b,mt):null;if(k[k.length-1]<b)return Z?((mt=k.slice(k.length-p))[p-1]=b,mt):null;for(var Ot=0,Gt=u.length;Ot<Gt;++Ot){var Zt=u[Ot];if(S!=Zt){if(b<k[S+p-1])return null;if(b<=k[Zt-1])return h(k,S,Zt,p,b,!1);S=Zt}}return null}(this.flatCoordinates,0,this.ends_,this.stride,u,void 0!==p&&p,void 0!==b&&b)},S.prototype.getCoordinates=function(){return(0,T.o1)(this.flatCoordinates,0,this.ends_,this.stride)},S.prototype.getEnds=function(){return this.ends_},S.prototype.getLineString=function(u){return u<0||this.ends_.length<=u?null:new vt(this.flatCoordinates.slice(0===u?0:this.ends_[u-1],this.ends_[u]),this.layout)},S.prototype.getLineStrings=function(){for(var u=this.flatCoordinates,p=this.ends_,b=this.layout,Z=[],st=0,mt=0,Ot=p.length;mt<Ot;++mt){var Gt=p[mt],Zt=new vt(u.slice(st,Gt),b);Z.push(Zt),st=Gt}return Z},S.prototype.getFlatMidpoints=function(){for(var u=[],p=this.flatCoordinates,b=0,Z=this.ends_,st=this.stride,mt=0,Ot=Z.length;mt<Ot;++mt){var Gt=Z[mt],Zt=a(p,b,Gt,st,.5);(0,j.l7)(u,Zt),b=Gt}return u},S.prototype.getSimplifiedGeometryInternal=function(u){var p=[],b=[];return p.length=(0,B.UJ)(this.flatCoordinates,0,this.ends_,this.stride,u,p,0,b),new S(p,c.Z.XY,b)},S.prototype.getType=function(){return o.Z.MULTI_LINE_STRING},S.prototype.intersectsExtent=function(u){return(0,C.AW)(this.flatCoordinates,0,this.ends_,this.stride,u)},S.prototype.setCoordinates=function(u,p){this.setLayout(p,u,2),this.flatCoordinates||(this.flatCoordinates=[]);var b=(0,at._5)(this.flatCoordinates,0,u,this.stride,this.ends_);this.flatCoordinates.length=0===b.length?0:b[b.length-1],this.changed()},S}(ot.ZP);const J=pt;var W=m(4979),w=function(){var k=function(S,u){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var Z in b)b.hasOwnProperty(Z)&&(p[Z]=b[Z])})(S,u)};return function(S,u){function p(){this.constructor=S}k(S,u),S.prototype=null===u?Object.create(u):(p.prototype=u.prototype,new p)}}(),A=function(k){function S(u,p){var b=k.call(this)||this;return p&&!Array.isArray(u[0])?b.setFlatCoordinates(p,u):b.setCoordinates(u,p),b}return w(S,k),S.prototype.appendPoint=function(u){this.flatCoordinates?(0,j.l7)(this.flatCoordinates,u.getFlatCoordinates()):this.flatCoordinates=u.getFlatCoordinates().slice(),this.changed()},S.prototype.clone=function(){return new S(this.flatCoordinates.slice(),this.layout)},S.prototype.closestPointXY=function(u,p,b,Z){if(Z<(0,D.qf)(this.getExtent(),u,p))return Z;for(var st=this.flatCoordinates,mt=this.stride,Ot=0,Gt=st.length;Ot<Gt;Ot+=mt){var Zt=(0,l.bI)(u,p,st[Ot],st[Ot+1]);if(Zt<Z){Z=Zt;for(var zt=0;zt<mt;++zt)b[zt]=st[Ot+zt];b.length=mt}}return Z},S.prototype.getCoordinates=function(){return(0,T.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},S.prototype.getPoint=function(u){return u<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=u?null:new W.Z(this.flatCoordinates.slice(u*this.stride,(u+1)*this.stride),this.layout)},S.prototype.getPoints=function(){for(var u=this.flatCoordinates,p=this.layout,b=this.stride,Z=[],st=0,mt=u.length;st<mt;st+=b){var Ot=new W.Z(u.slice(st,st+b),p);Z.push(Ot)}return Z},S.prototype.getType=function(){return o.Z.MULTI_POINT},S.prototype.intersectsExtent=function(u){for(var p=this.flatCoordinates,b=this.stride,Z=0,st=p.length;Z<st;Z+=b)if((0,D.jE)(u,p[Z],p[Z+1]))return!0;return!1},S.prototype.setCoordinates=function(u,p){this.setLayout(p,u,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,at.Sg)(this.flatCoordinates,0,u,this.stride),this.changed()},S}(ot.ZP);const x=A;var H=m(3023),q=m(6797),ct=m(7075),wt=m(7695),Ut=m(9479),Ce=function(){var k=function(S,u){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var Z in b)b.hasOwnProperty(Z)&&(p[Z]=b[Z])})(S,u)};return function(S,u){function p(){this.constructor=S}k(S,u),S.prototype=null===u?Object.create(u):(p.prototype=u.prototype,new p)}}(),L=function(k){function S(u,p,b){var Z=k.call(this)||this;if(Z.endss_=[],Z.flatInteriorPointsRevision_=-1,Z.flatInteriorPoints_=null,Z.maxDelta_=-1,Z.maxDeltaRevision_=-1,Z.orientedRevision_=-1,Z.orientedFlatCoordinates_=null,!b&&!Array.isArray(u[0])){for(var st=Z.getLayout(),mt=u,Ot=[],Gt=[],Zt=0,zt=mt.length;Zt<zt;++Zt){var ce=mt[Zt];0===Zt&&(st=ce.getLayout());for(var ye=Ot.length,fe=ce.getEnds(),De=0,Ke=fe.length;De<Ke;++De)fe[De]+=ye;(0,j.l7)(Ot,ce.getFlatCoordinates()),Gt.push(fe)}p=st,u=Ot,b=Gt}return void 0!==p&&b?(Z.setFlatCoordinates(p,u),Z.endss_=b):Z.setCoordinates(u,p),Z}return Ce(S,k),S.prototype.appendPolygon=function(u){var p;if(this.flatCoordinates){var b=this.flatCoordinates.length;(0,j.l7)(this.flatCoordinates,u.getFlatCoordinates());for(var Z=0,st=(p=u.getEnds().slice()).length;Z<st;++Z)p[Z]+=b}else this.flatCoordinates=u.getFlatCoordinates().slice(),p=u.getEnds().slice(),this.endss_.push();this.endss_.push(p),this.changed()},S.prototype.clone=function(){for(var u=this.endss_.length,p=new Array(u),b=0;b<u;++b)p[b]=this.endss_[b].slice();return new S(this.flatCoordinates.slice(),this.layout,p)},S.prototype.closestPointXY=function(u,p,b,Z){return Z<(0,D.qf)(this.getExtent(),u,p)?Z:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,y.sD)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,y.gI)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,u,p,b,Z))},S.prototype.containsXY=function(u,p){return(0,Ut.Zl)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,u,p)},S.prototype.getArea=function(){return(0,wt.Eu)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},S.prototype.getCoordinates=function(u){var p;return void 0!==u?(p=this.getOrientedFlatCoordinates().slice(),(0,ct.dL)(p,0,this.endss_,this.stride,u)):p=this.flatCoordinates,(0,T.ug)(p,0,this.endss_,this.stride)},S.prototype.getEndss=function(){return this.endss_},S.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var u=function Ht(k,S,u,p){for(var b=[],Z=(0,D.lJ)(),st=0,mt=u.length;st<mt;++st){var Ot=u[st];Z=(0,D.GN)(k,S,Ot[0],p),b.push((Z[0]+Z[2])/2,(Z[1]+Z[3])/2),S=Ot[Ot.length-1]}return b}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,q.U)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,u),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},S.prototype.getInteriorPoints=function(){return new x(this.getFlatInteriorPoints().slice(),c.Z.XYM)},S.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var u=this.flatCoordinates;(0,ct.Oj)(u,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=u:(this.orientedFlatCoordinates_=u.slice(),this.orientedFlatCoordinates_.length=(0,ct.dL)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},S.prototype.getSimplifiedGeometryInternal=function(u){var p=[],b=[];return p.length=(0,B.Pp)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(u),p,0,b),new S(p,c.Z.XY,b)},S.prototype.getPolygon=function(u){if(u<0||this.endss_.length<=u)return null;var p;if(0===u)p=0;else{var b=this.endss_[u-1];p=b[b.length-1]}var Z=this.endss_[u].slice(),st=Z[Z.length-1];if(0!==p)for(var mt=0,Ot=Z.length;mt<Ot;++mt)Z[mt]-=p;return new H.ZP(this.flatCoordinates.slice(p,st),this.layout,Z)},S.prototype.getPolygons=function(){for(var u=this.layout,p=this.flatCoordinates,b=this.endss_,Z=[],st=0,mt=0,Ot=b.length;mt<Ot;++mt){var Gt=b[mt].slice(),Zt=Gt[Gt.length-1];if(0!==st)for(var zt=0,ce=Gt.length;zt<ce;++zt)Gt[zt]-=st;var ye=new H.ZP(p.slice(st,Zt),u,Gt);Z.push(ye),st=Zt}return Z},S.prototype.getType=function(){return o.Z.MULTI_POLYGON},S.prototype.intersectsExtent=function(u){return(0,C.oW)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,u)},S.prototype.setCoordinates=function(u,p){this.setLayout(p,u,3),this.flatCoordinates||(this.flatCoordinates=[]);var b=(0,at.QT)(this.flatCoordinates,0,u,this.stride,this.endss_);if(0===b.length)this.flatCoordinates.length=0;else{var Z=b[b.length-1];this.flatCoordinates.length=0===Z.length?0:Z[Z.length-1]}this.changed()},S}(ot.ZP);const V=L;var ht=m(6321),It=function(){var k=function(S,u){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var Z in b)b.hasOwnProperty(Z)&&(p[Z]=b[Z])})(S,u)};return function(S,u){function p(){this.constructor=S}k(S,u),S.prototype=null===u?Object.create(u):(p.prototype=u.prototype,new p)}}(),Kt=function(k){function S(u){var p=k.call(this)||this;return u&&u.handleEvent&&(p.handleEvent=u.handleEvent),p.map_=null,p.setActive(!0),p}return It(S,k),S.prototype.getActive=function(){return this.get("active")},S.prototype.getMap=function(){return this.map_},S.prototype.handleEvent=function(u){return!0},S.prototype.setActive=function(u){this.set("active",u)},S.prototype.setMap=function(u){this.map_=u},S}(ht.ZP);const ae=Kt;var se=m(8544),Yt=function(){var k=function(S,u){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var Z in b)b.hasOwnProperty(Z)&&(p[Z]=b[Z])})(S,u)};return function(S,u){function p(){this.constructor=S}k(S,u),S.prototype=null===u?Object.create(u):(p.prototype=u.prototype,new p)}}(),Se=function(k){function S(u){var p=this,b=u||{};return p=k.call(this,b)||this,b.handleDownEvent&&(p.handleDownEvent=b.handleDownEvent),b.handleDragEvent&&(p.handleDragEvent=b.handleDragEvent),b.handleMoveEvent&&(p.handleMoveEvent=b.handleMoveEvent),b.handleUpEvent&&(p.handleUpEvent=b.handleUpEvent),b.stopDown&&(p.stopDown=b.stopDown),p.handlingDownUpSequence=!1,p.trackedPointers_={},p.targetPointers=[],p}return Yt(S,k),S.prototype.getPointerCount=function(){return this.targetPointers.length},S.prototype.handleDownEvent=function(u){return!1},S.prototype.handleDragEvent=function(u){},S.prototype.handleEvent=function(u){if(!u.originalEvent)return!0;var p=!1;if(this.updateTrackedPointers_(u),this.handlingDownUpSequence){if("pointerdrag"==u.type)this.handleDragEvent(u),u.preventDefault();else if("pointerup"==u.type){var b=this.handleUpEvent(u);this.handlingDownUpSequence=b&&this.targetPointers.length>0}}else if("pointerdown"==u.type){var Z=this.handleDownEvent(u);this.handlingDownUpSequence=Z,p=this.stopDown(Z)}else"pointermove"==u.type&&this.handleMoveEvent(u);return!p},S.prototype.handleMoveEvent=function(u){},S.prototype.handleUpEvent=function(u){return!1},S.prototype.stopDown=function(u){return u},S.prototype.updateTrackedPointers_=function(u){if(function $(k){var S=k.type;return"pointerdown"===S||"pointerdrag"===S||"pointerup"===S}(u)){var p=u.originalEvent,b=p.pointerId.toString();"pointerup"==u.type?delete this.trackedPointers_[b]:("pointerdown"==u.type||b in this.trackedPointers_)&&(this.trackedPointers_[b]=p),this.targetPointers=(0,se.KX)(this.trackedPointers_)}},S}(ae);const rt=Se;var lt=m(6311),xt=m(5285),Ct=m(6117),Oe=Ct.uX,Cn=function(k){var S=k.originalEvent;return!S.altKey&&!(S.metaKey||S.ctrlKey)&&!S.shiftKey},hn=function(k){var S=k.originalEvent;return!S.altKey&&!(S.metaKey||S.ctrlKey)&&S.shiftKey},Xe=m(9500),Qe=m(254),fn=m(5012),dn=function(){var k=function(S,u){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var Z in b)b.hasOwnProperty(Z)&&(p[Z]=b[Z])})(S,u)};return function(S,u){function p(){this.constructor=S}k(S,u),S.prototype=null===u?Object.create(u):(p.prototype=u.prototype,new p)}}(),Ie=function(k){function S(u,p){var b=k.call(this,u)||this;return b.feature=p,b}return dn(S,k),S}(N.ZP),In=function(k){function S(u){var p=this,b=u;b.stopDown||(b.stopDown=Ct.Dv),(p=k.call(this,b)||this).shouldHandle_=!1,p.downPx_=null,p.freehand_=!1,p.source_=u.source?u.source:null,p.features_=u.features?u.features:null,p.snapTolerance_=u.snapTolerance?u.snapTolerance:12,p.type_=u.type,p.mode_=function On(k){var S;return k===o.Z.POINT||k===o.Z.MULTI_POINT?S="Point":k===o.Z.LINE_STRING||k===o.Z.MULTI_LINE_STRING?S="LineString":k===o.Z.POLYGON||k===o.Z.MULTI_POLYGON?S="Polygon":k===o.Z.CIRCLE&&(S="Circle"),S}(p.type_),p.stopClick_=!!u.stopClick,p.minPoints_=u.minPoints?u.minPoints:"Polygon"===p.mode_?3:2,p.maxPoints_=u.maxPoints?u.maxPoints:1/0,p.finishCondition_=u.finishCondition?u.finishCondition:Ct.uX;var Z=u.geometryFunction;if(!Z)if(p.type_===o.Z.CIRCLE)Z=function(Ot,Gt,Zt){var zt=Gt||new Y([NaN,NaN]),ce=(0,Qe.Vs)(Ot[0],Zt),ye=(0,fn.bI)(ce,(0,Qe.Vs)(Ot[1],Zt));zt.setCenterAndRadius(ce,Math.sqrt(ye));var fe=(0,Qe.Cs)();return fe&&zt.transform(Zt,fe),zt};else{var st,mt=p.mode_;"Point"===mt?st=W.Z:"LineString"===mt?st=vt:"Polygon"===mt&&(st=H.ZP),Z=function(Ot,Gt,Zt){var zt=Gt;return zt?zt.setCoordinates("Polygon"===mt?Ot[0].length?[Ot[0].concat([Ot[0][0]])]:[]:Ot):zt=new st(Ot),zt}}return p.geometryFunction_=Z,p.dragVertexDelay_=void 0!==u.dragVertexDelay?u.dragVertexDelay:500,p.finishCoordinate_=null,p.sketchFeature_=null,p.sketchPoint_=null,p.sketchCoords_=null,p.sketchLine_=null,p.sketchLineCoords_=null,p.squaredClickTolerance_=u.clickTolerance?u.clickTolerance*u.clickTolerance:36,p.overlay_=new lt.Z({source:new xt.Z({useSpatialIndex:!1,wrapX:!!u.wrapX&&u.wrapX}),style:u.style?u.style:pn(),updateWhileInteracting:!0}),p.geometryName_=u.geometryName,p.condition_=u.condition?u.condition:Cn,p.freehandCondition_=u.freehand?Oe:u.freehandCondition?u.freehandCondition:hn,p.addEventListener((0,ht.v_)("active"),p.updateState_),p}return dn(S,k),S.prototype.setMap=function(u){k.prototype.setMap.call(this,u),this.updateState_()},S.prototype.getOverlay=function(){return this.overlay_},S.prototype.handleEvent=function(u){u.originalEvent.type===O.Z.CONTEXTMENU&&u.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(u);var p="pointermove"===u.type,b=!0;return!this.freehand_&&this.lastDragTime_&&"pointerdrag"===u.type&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=u.pixel,this.shouldHandle_=!this.freehand_,p=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&"pointerdrag"===u.type&&null!==this.sketchFeature_?(this.addToDrawing_(u.coordinate),b=!1):this.freehand_&&"pointerdown"===u.type?b=!1:p?(b="pointermove"===u.type)&&this.freehand_?(this.handlePointerMove_(u),this.shouldHandle_&&u.preventDefault()):("mouse"==u.originalEvent.pointerType||"pointerdrag"===u.type&&void 0===this.downTimeout_)&&this.handlePointerMove_(u):u.type===dt_DBLCLICK&&(b=!1),k.prototype.handleEvent.call(this,u)&&b},S.prototype.handleDownEvent=function(u){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=u.pixel,this.finishCoordinate_||this.startDrawing_(u),!0):this.condition_(u)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Ee("pointermove",u.map,u.originalEvent,!1,u.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=u.pixel,!0):(this.lastDragTime_=void 0,!1)},S.prototype.handleUpEvent=function(u){var p=!0;return this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(u),this.shouldHandle_?(this.finishCoordinate_?this.freehand_||"Circle"===this.mode_?this.finishDrawing():this.atFinish_(u)?this.finishCondition_(u)&&this.finishDrawing():this.addToDrawing_(u.coordinate):(this.startDrawing_(u),"Point"===this.mode_&&this.finishDrawing()),p=!1):this.freehand_&&this.abortDrawing(),!p&&this.stopClick_&&u.stopPropagation(),p},S.prototype.handlePointerMove_=function(u){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var p=this.downPx_,b=u.pixel,Z=p[0]-b[0],st=p[1]-b[1],mt=Z*Z+st*st;if(this.shouldHandle_=this.freehand_?mt>this.squaredClickTolerance_:mt<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(u):this.createOrUpdateSketchPoint_(u)},S.prototype.atFinish_=function(u){var p=!1;if(this.sketchFeature_){var b=!1,Z=[this.finishCoordinate_];if("LineString"===this.mode_)b=this.sketchCoords_.length>this.minPoints_;else if("Polygon"===this.mode_){var st=this.sketchCoords_;b=st[0].length>this.minPoints_,Z=[st[0][0],st[0][st[0].length-2]]}if(b)for(var mt=u.map,Ot=0,Gt=Z.length;Ot<Gt;Ot++){var Zt=Z[Ot],zt=mt.getPixelFromCoordinate(Zt),ce=u.pixel,ye=ce[0]-zt[0],fe=ce[1]-zt[1],De=this.freehand_?1:this.snapTolerance_;if(p=Math.sqrt(ye*ye+fe*fe)<=De){this.finishCoordinate_=Zt;break}}}return p},S.prototype.createOrUpdateSketchPoint_=function(u){var p=u.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(p):(this.sketchPoint_=new g.Z(new W.Z(p)),this.updateSketchFeatures_())},S.prototype.startDrawing_=function(u){var p=u.coordinate,b=u.map.getView().getProjection();this.finishCoordinate_=p,"Point"===this.mode_?this.sketchCoords_=p.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[p.slice(),p.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[p.slice(),p.slice()],this.sketchLineCoords_&&(this.sketchLine_=new g.Z(new vt(this.sketchLineCoords_)));var Z=this.geometryFunction_(this.sketchCoords_,void 0,b);this.sketchFeature_=new g.Z,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(Z),this.updateSketchFeatures_(),this.dispatchEvent(new Ie("drawstart",this.sketchFeature_))},S.prototype.modifyDrawing_=function(u){var st,mt,Gt,p=u.coordinate,b=this.sketchFeature_.getGeometry(),Z=u.map.getView().getProjection();if("Point"===this.mode_?mt=this.sketchCoords_:"Polygon"===this.mode_?(mt=(st=this.sketchCoords_[0])[st.length-1],this.atFinish_(u)&&(p=this.finishCoordinate_.slice())):mt=(st=this.sketchCoords_)[st.length-1],mt[0]=p[0],mt[1]=p[1],this.geometryFunction_(this.sketchCoords_,b,Z),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(p),b.getType()==o.Z.POLYGON&&"Polygon"!==this.mode_){this.sketchLine_||(this.sketchLine_=new g.Z);var Zt=b.getLinearRing(0);(Gt=this.sketchLine_.getGeometry())?(Gt.setFlatCoordinates(Zt.getLayout(),Zt.getFlatCoordinates()),Gt.changed()):(Gt=new vt(Zt.getFlatCoordinates(),Zt.getLayout()),this.sketchLine_.setGeometry(Gt))}else this.sketchLineCoords_&&(Gt=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},S.prototype.addToDrawing_=function(u){var Z,st,p=this.sketchFeature_.getGeometry(),b=this.getMap().getView().getProjection();"LineString"===this.mode_?(this.finishCoordinate_=u.slice(),(st=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?st.pop():Z=!0),st.push(u.slice()),this.geometryFunction_(st,p,b)):"Polygon"===this.mode_&&((st=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?st.pop():Z=!0),st.push(u.slice()),Z&&(this.finishCoordinate_=st[0]),this.geometryFunction_(this.sketchCoords_,p,b)),this.updateSketchFeatures_(),Z&&this.finishDrawing()},S.prototype.removeLastPoint=function(){if(this.sketchFeature_){var b,u=this.sketchFeature_.getGeometry(),p=this.getMap().getView().getProjection();"LineString"===this.mode_?((b=this.sketchCoords_).splice(-2,1),this.geometryFunction_(b,u,p),b.length>=2&&(this.finishCoordinate_=b[b.length-2].slice())):"Polygon"===this.mode_&&((b=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(b),this.geometryFunction_(this.sketchCoords_,u,p)),0===b.length&&this.abortDrawing(),this.updateSketchFeatures_()}},S.prototype.finishDrawing=function(){var u=this.abortDrawing_();if(u){var p=this.sketchCoords_,b=u.getGeometry(),Z=this.getMap().getView().getProjection();"LineString"===this.mode_?(p.pop(),this.geometryFunction_(p,b,Z)):"Polygon"===this.mode_&&(p[0].pop(),this.geometryFunction_(p,b,Z),p=b.getCoordinates()),this.type_===o.Z.MULTI_POINT?u.setGeometry(new x([p])):this.type_===o.Z.MULTI_LINE_STRING?u.setGeometry(new J([p])):this.type_===o.Z.MULTI_POLYGON&&u.setGeometry(new V([p])),this.dispatchEvent(new Ie("drawend",u)),this.features_&&this.features_.push(u),this.source_&&this.source_.addFeature(u)}},S.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var u=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),u},S.prototype.abortDrawing=function(){var u=this.abortDrawing_();u&&this.dispatchEvent(new Ie("drawabort",u))},S.prototype.appendCoordinates=function(u){var p=this.mode_,b=[];"LineString"===p?b=this.sketchCoords_:"Polygon"===p&&(b=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]);for(var Z=b.pop(),st=0;st<u.length;st++)this.addToDrawing_(u[st]);this.addToDrawing_(Z)},S.prototype.extend=function(u){var b=u.getGeometry();this.sketchFeature_=u,this.sketchCoords_=b.getCoordinates();var Z=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=Z.slice(),this.sketchCoords_.push(Z.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new Ie("drawstart",this.sketchFeature_))},S.prototype.updateSketchFeatures_=function(){var u=[];this.sketchFeature_&&u.push(this.sketchFeature_),this.sketchLine_&&u.push(this.sketchLine_),this.sketchPoint_&&u.push(this.sketchPoint_);var p=this.overlay_.getSource();p.clear(!0),p.addFeatures(u)},S.prototype.updateState_=function(){var u=this.getMap(),p=this.getActive();(!u||!p)&&this.abortDrawing(),this.overlay_.setMap(p?u:null)},S}(rt);function pn(){var k=(0,Xe.Ly)();return function(S,u){return k[S.getGeometry().getType()]}}const gn=In},5264:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>et,j:()=>j});var o=m(6321);var T,D=m(3865),at=m(5414),nt=m(8544),U=m(6581),X=(T=function(l,a){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var C in d)d.hasOwnProperty(C)&&(h[C]=d[C])})(l,a)},function(l,a){function h(){this.constructor=l}T(l,a),l.prototype=null===a?Object.create(a):(h.prototype=a.prototype,new h)}),Y=function(T){function l(a){var h=T.call(this)||this,d=(0,nt.f0)({},a);return d.opacity=void 0!==a.opacity?a.opacity:1,(0,at.h)("number"==typeof d.opacity,64),d.visible=void 0===a.visible||a.visible,d.zIndex=a.zIndex,d.maxResolution=void 0!==a.maxResolution?a.maxResolution:1/0,d.minResolution=void 0!==a.minResolution?a.minResolution:0,d.minZoom=void 0!==a.minZoom?a.minZoom:-1/0,d.maxZoom=void 0!==a.maxZoom?a.maxZoom:1/0,h.className_=void 0!==d.className?a.className:"ol-layer",delete d.className,h.setProperties(d),h.state_=null,h}return X(l,T),l.prototype.getClassName=function(){return this.className_},l.prototype.getLayerState=function(a){var h=this.state_||{layer:this,managed:void 0===a||a},d=this.getZIndex();return h.opacity=(0,U.uZ)(Math.round(100*this.getOpacity())/100,0,1),h.sourceState=this.getSourceState(),h.visible=this.getVisible(),h.extent=this.getExtent(),h.zIndex=void 0!==d?d:!1===h.managed?1/0:0,h.maxResolution=this.getMaxResolution(),h.minResolution=Math.max(this.getMinResolution(),0),h.minZoom=this.getMinZoom(),h.maxZoom=this.getMaxZoom(),this.state_=h,h},l.prototype.getLayersArray=function(a){return(0,D.O3)()},l.prototype.getLayerStatesArray=function(a){return(0,D.O3)()},l.prototype.getExtent=function(){return this.get("extent")},l.prototype.getMaxResolution=function(){return this.get("maxResolution")},l.prototype.getMinResolution=function(){return this.get("minResolution")},l.prototype.getMinZoom=function(){return this.get("minZoom")},l.prototype.getMaxZoom=function(){return this.get("maxZoom")},l.prototype.getOpacity=function(){return this.get("opacity")},l.prototype.getSourceState=function(){return(0,D.O3)()},l.prototype.getVisible=function(){return this.get("visible")},l.prototype.getZIndex=function(){return this.get("zIndex")},l.prototype.setExtent=function(a){this.set("extent",a)},l.prototype.setMaxResolution=function(a){this.set("maxResolution",a)},l.prototype.setMinResolution=function(a){this.set("minResolution",a)},l.prototype.setMaxZoom=function(a){this.set("maxZoom",a)},l.prototype.setMinZoom=function(a){this.set("minZoom",a)},l.prototype.setOpacity=function(a){(0,at.h)("number"==typeof a,64),this.set("opacity",a)},l.prototype.setVisible=function(a){this.set("visible",a)},l.prototype.setZIndex=function(a){this.set("zIndex",a)},l.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),T.prototype.disposeInternal.call(this)},l}(o.ZP);const N=Y;var O=m(377),g=m(8968),f=m(1596),c=m(4061),y=function(){var T=function(l,a){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var C in d)d.hasOwnProperty(C)&&(h[C]=d[C])})(l,a)};return function(l,a){function h(){this.constructor=l}T(l,a),l.prototype=null===a?Object.create(a):(h.prototype=a.prototype,new h)}}(),B=function(T){function l(a){var h=this,d=(0,nt.f0)({},a);return delete d.source,(h=T.call(this,d)||this).mapPrecomposeKey_=null,h.mapRenderKey_=null,h.sourceChangeKey_=null,h.renderer_=null,a.render&&(h.render=a.render),a.map&&h.setMap(a.map),h.addEventListener((0,o.v_)("source"),h.handleSourcePropertyChange_),h.setSource(a.source?a.source:null),h}return y(l,T),l.prototype.getLayersArray=function(a){var h=a||[];return h.push(this),h},l.prototype.getLayerStatesArray=function(a){var h=a||[];return h.push(this.getLayerState()),h},l.prototype.getSource=function(){return this.get("source")||null},l.prototype.getSourceState=function(){var a=this.getSource();return a?a.getState():f.Z.UNDEFINED},l.prototype.handleSourceChange_=function(){this.changed()},l.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,c.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null);var a=this.getSource();a&&(this.sourceChangeKey_=(0,c.oL)(a,O.Z.CHANGE,this.handleSourceChange_,this)),this.changed()},l.prototype.getFeatures=function(a){return this.renderer_.getFeatures(a)},l.prototype.render=function(a,h){var d=this.getRenderer();if(d.prepareFrame(a))return d.renderFrame(a,h)},l.prototype.setMap=function(a){this.mapPrecomposeKey_&&((0,c.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),a||this.changed(),this.mapRenderKey_&&((0,c.bN)(this.mapRenderKey_),this.mapRenderKey_=null),a&&(this.mapPrecomposeKey_=(0,c.oL)(a,g.Z.PRECOMPOSE,function(h){var C=h.frameState.layerStatesArray,G=this.getLayerState(!1);(0,at.h)(!C.some(function(Q){return Q.layer===G.layer}),67),C.push(G)},this),this.mapRenderKey_=(0,c.oL)(this,O.Z.CHANGE,a.render,a),this.changed())},l.prototype.setSource=function(a){this.set("source",a)},l.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},l.prototype.hasRenderer=function(){return!!this.renderer_},l.prototype.createRenderer=function(){return null},l.prototype.disposeInternal=function(){this.setSource(null),T.prototype.disposeInternal.call(this)},l}(N);function j(T,l){if(!T.visible)return!1;var a=l.resolution;if(a<T.minResolution||a>=T.maxResolution)return!1;var h=l.zoom;return h>T.minZoom&&h<=T.maxZoom}const et=B},6311:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>Ti});var P,o=m(5264),ot=m(8544),D=m(9500),at=(P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)},function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),U=function(P){function s(t){var n=this,i=t||{},v=(0,ot.f0)({},i);return delete v.style,delete v.renderBuffer,delete v.updateWhileAnimating,delete v.updateWhileInteracting,(n=P.call(this,v)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return at(s,P),s.prototype.getDeclutter=function(){return this.declutter_},s.prototype.getFeatures=function(t){return P.prototype.getFeatures.call(this,t)},s.prototype.getRenderBuffer=function(){return this.renderBuffer_},s.prototype.getRenderOrder=function(){return this.get("renderOrder")},s.prototype.getStyle=function(){return this.style_},s.prototype.getStyleFunction=function(){return this.styleFunction_},s.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},s.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},s.prototype.setRenderOrder=function(t){this.set("renderOrder",t)},s.prototype.setStyle=function(t){this.style_=void 0!==t?t:D.yF,this.styleFunction_=null===t?void 0:(0,D.J$)(this.style_),this.changed()},s}(o.Z);const X=U;var Y={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},N=[Y.FILL],O=[Y.STROKE],g=[Y.BEGIN_PATH],f=[Y.CLOSE_PATH];const c=Y;var y=m(881),B=m(4143),j=function(){function P(){}return P.prototype.drawCustom=function(s,t,n){},P.prototype.drawGeometry=function(s){},P.prototype.setStyle=function(s){},P.prototype.drawCircle=function(s,t){},P.prototype.drawFeature=function(s,t){},P.prototype.drawGeometryCollection=function(s,t){},P.prototype.drawLineString=function(s,t){},P.prototype.drawMultiLineString=function(s,t){},P.prototype.drawMultiPoint=function(s,t){},P.prototype.drawMultiPolygon=function(s,t){},P.prototype.drawPoint=function(s,t){},P.prototype.drawPolygon=function(s,t){},P.prototype.drawText=function(s,t){},P.prototype.setFillStrokeStyle=function(s,t){},P.prototype.setImageStyle=function(s,t){},P.prototype.setTextStyle=function(s,t){},P}();const et=j;var T=m(6651),l=m(3303),a=m(8765),h=m(6991),d=m(1188),C=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),G=function(P){function s(t,n,i,v){var _=P.call(this)||this;return _.tolerance=t,_.maxExtent=n,_.pixelRatio=v,_.maxLineWidth=0,_.resolution=i,_.beginGeometryInstruction1_=null,_.beginGeometryInstruction2_=null,_.bufferedMaxExtent_=null,_.instructions=[],_.coordinates=[],_.tmpCoordinate_=[],_.hitDetectionInstructions=[],_.state={},_}return C(s,P),s.prototype.applyPixelRatio=function(t){var n=this.pixelRatio;return 1==n?t:t.map(function(i){return i*n})},s.prototype.appendFlatCoordinates=function(t,n,i,v,_,R){var M=this.coordinates.length,F=this.getBufferedMaxExtent();R&&(n+=v);var gt,Dt,Pt,tt=t[n],z=t[n+1],it=this.tmpCoordinate_,_t=!0;for(gt=n+v;gt<i;gt+=v)it[0]=t[gt],it[1]=t[gt+1],(Pt=(0,l.pX)(F,it))!==Dt?(_t&&(this.coordinates[M++]=tt,this.coordinates[M++]=z),this.coordinates[M++]=it[0],this.coordinates[M++]=it[1],_t=!1):Pt===B.Z.INTERSECTING?(this.coordinates[M++]=it[0],this.coordinates[M++]=it[1],_t=!1):_t=!0,tt=it[0],z=it[1],Dt=Pt;return(_&&_t||gt===n+v)&&(this.coordinates[M++]=tt,this.coordinates[M++]=z),M},s.prototype.drawCustomCoordinates_=function(t,n,i,v,_){for(var R=0,M=i.length;R<M;++R){var F=i[R],tt=this.appendFlatCoordinates(t,n,F,v,!1,!1);_.push(tt),n=F}return n},s.prototype.drawCustom=function(t,n,i){this.beginGeometry(t,n);var M,F,tt,z,it,v=t.getType(),_=t.getStride(),R=this.coordinates.length;if(v==y.Z.MULTI_POLYGON){M=t.getOrientedFlatCoordinates(),z=[];var _t=t.getEndss();it=0;for(var gt=0,Dt=_t.length;gt<Dt;++gt){var Pt=[];it=this.drawCustomCoordinates_(M,it,_t[gt],_,Pt),z.push(Pt)}this.instructions.push([c.CUSTOM,R,z,t,i,d.ug])}else v==y.Z.POLYGON||v==y.Z.MULTI_LINE_STRING?(tt=[],M=v==y.Z.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),it=this.drawCustomCoordinates_(M,0,t.getEnds(),_,tt),this.instructions.push([c.CUSTOM,R,tt,t,i,d.o1])):v==y.Z.LINE_STRING||v==y.Z.MULTI_POINT?(M=t.getFlatCoordinates(),F=this.appendFlatCoordinates(M,0,M.length,_,!1,!1),this.instructions.push([c.CUSTOM,R,F,t,i,d.Ml])):v==y.Z.POINT&&(M=t.getFlatCoordinates(),this.coordinates.push(M[0],M[1]),this.instructions.push([c.CUSTOM,R,F=this.coordinates.length,t,i]));this.endGeometry(n)},s.prototype.beginGeometry=function(t,n){var i=t.getExtent();this.beginGeometryInstruction1_=[c.BEGIN_GEOMETRY,n,0,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[c.BEGIN_GEOMETRY,n,0,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},s.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},s.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var n,v,_,i=t.length,R=-1;for(n=0;n<i;++n)(_=(v=t[n])[0])==c.END_GEOMETRY?R=n:_==c.BEGIN_GEOMETRY&&(v[2]=n,(0,h.FZ)(this.hitDetectionInstructions,R,n),R=-1)},s.prototype.setFillStrokeStyle=function(t,n){var i=this.state;if(t){var v=t.getColor();i.fillStyle=(0,T.y)(v||a.bL)}else i.fillStyle=void 0;if(n){var _=n.getColor();i.strokeStyle=(0,T.y)(_||a.Tx);var R=n.getLineCap();i.lineCap=void 0!==R?R:a.mb;var M=n.getLineDash();i.lineDash=M?M.slice():a.X9;var F=n.getLineDashOffset();i.lineDashOffset=F||a.He;var tt=n.getLineJoin();i.lineJoin=void 0!==tt?tt:a.rc;var z=n.getWidth();i.lineWidth=void 0!==z?z:a.yC;var it=n.getMiterLimit();i.miterLimit=void 0!==it?it:a.V4,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},s.prototype.createFill=function(t){var n=t.fillStyle,i=[c.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},s.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},s.prototype.createStroke=function(t){return[c.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},s.prototype.updateFillStyle=function(t,n){var i=t.fillStyle;("string"!=typeof i||t.currentFillStyle!=i)&&(void 0!==i&&this.instructions.push(n.call(this,t)),t.currentFillStyle=i)},s.prototype.updateStrokeStyle=function(t,n){var i=t.strokeStyle,v=t.lineCap,_=t.lineDash,R=t.lineDashOffset,M=t.lineJoin,F=t.lineWidth,tt=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=v||_!=t.currentLineDash&&!(0,h.fS)(t.currentLineDash,_)||t.currentLineDashOffset!=R||t.currentLineJoin!=M||t.currentLineWidth!=F||t.currentMiterLimit!=tt)&&(void 0!==i&&n.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=v,t.currentLineDash=_,t.currentLineDashOffset=R,t.currentLineJoin=M,t.currentLineWidth=F,t.currentMiterLimit=tt)},s.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[c.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)},s.prototype.getBufferedMaxExtent=function(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,l.d9)(this.maxExtent),this.maxLineWidth>0)&&(0,l.f3)(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_},s}(et);const Q=G;var ft=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),vt=function(P){function s(t,n,i,v){var _=P.call(this,t,n,i,v)||this;return _.declutterGroups_=null,_.hitDetectionImage_=null,_.image_=null,_.imagePixelRatio_=void 0,_.anchorX_=void 0,_.anchorY_=void 0,_.height_=void 0,_.opacity_=void 0,_.originX_=void 0,_.originY_=void 0,_.rotateWithView_=void 0,_.rotation_=void 0,_.scale_=void 0,_.width_=void 0,_}return ft(s,P),s.prototype.drawCoordinates_=function(t,n,i,v){return this.appendFlatCoordinates(t,n,i,v,!1,!1)},s.prototype.drawPoint=function(t,n){if(this.image_){this.beginGeometry(t,n);var i=t.getFlatCoordinates(),v=t.getStride(),_=this.coordinates.length,R=this.drawCoordinates_(i,0,i.length,v);this.instructions.push([c.DRAW_IMAGE,_,R,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,this.declutterGroups_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_)]),this.hitDetectionInstructions.push([c.DRAW_IMAGE,_,R,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(n)}},s.prototype.drawMultiPoint=function(t,n){if(this.image_){this.beginGeometry(t,n);var i=t.getFlatCoordinates(),v=t.getStride(),_=this.coordinates.length,R=this.drawCoordinates_(i,0,i.length,v);this.instructions.push([c.DRAW_IMAGE,_,R,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,this.declutterGroups_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_)]),this.hitDetectionInstructions.push([c.DRAW_IMAGE,_,R,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(n)}},s.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,P.prototype.finish.call(this)},s.prototype.setImageStyle=function(t,n){var i=t.getAnchor(),v=t.getSize(),_=t.getHitDetectionImage(),R=t.getImage(this.pixelRatio),M=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.declutterGroups_=n,this.hitDetectionImage_=_,this.image_=R,this.height_=v[1],this.opacity_=t.getOpacity(),this.originX_=M[0],this.originY_=M[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=v[0]},s}(Q);const Tt=vt;var St=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nt=function(P){function s(t,n,i,v){return P.call(this,t,n,i,v)||this}return St(s,P),s.prototype.drawFlatCoordinates_=function(t,n,i,v){var _=this.coordinates.length,R=this.appendFlatCoordinates(t,n,i,v,!1,!1),M=[c.MOVE_TO_LINE_TO,_,R];return this.instructions.push(M),this.hitDetectionInstructions.push(M),i},s.prototype.drawLineString=function(t,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],g);var R=t.getFlatCoordinates(),M=t.getStride();this.drawFlatCoordinates_(R,0,R.length,M),this.hitDetectionInstructions.push(O),this.endGeometry(n)}},s.prototype.drawMultiLineString=function(t,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],g);for(var R=t.getEnds(),M=t.getFlatCoordinates(),F=t.getStride(),tt=0,z=0,it=R.length;z<it;++z)tt=this.drawFlatCoordinates_(M,tt,R[z],F);this.hitDetectionInstructions.push(O),this.endGeometry(n)}},s.prototype.finish=function(){var t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(O),this.reverseHitDetectionInstructions(),this.state=null,P.prototype.finish.call(this)},s.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(O),t.lastStroke=this.coordinates.length),t.lastStroke=0,P.prototype.applyStroke.call(this,t),this.instructions.push(g)},s}(Q);const Wt=Nt;var Qt=m(6182),Ee=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),dt=function(P){function s(t,n,i,v){return P.call(this,t,n,i,v)||this}return Ee(s,P),s.prototype.drawFlatCoordinatess_=function(t,n,i,v){var _=this.state,R=void 0!==_.fillStyle,M=void 0!==_.strokeStyle,F=i.length;this.instructions.push(g),this.hitDetectionInstructions.push(g);for(var tt=0;tt<F;++tt){var z=i[tt],it=this.coordinates.length,_t=this.appendFlatCoordinates(t,n,z,v,!0,!M),gt=[c.MOVE_TO_LINE_TO,it,_t];this.instructions.push(gt),this.hitDetectionInstructions.push(gt),M&&(this.instructions.push(f),this.hitDetectionInstructions.push(f)),n=z}return R&&(this.instructions.push(N),this.hitDetectionInstructions.push(N)),M&&(this.instructions.push(O),this.hitDetectionInstructions.push(O)),n},s.prototype.drawCircle=function(t,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([c.SET_FILL_STYLE,a.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var R=t.getFlatCoordinates(),M=t.getStride(),F=this.coordinates.length;this.appendFlatCoordinates(R,0,R.length,M,!1,!1);var tt=[c.CIRCLE,F];this.instructions.push(g,tt),this.hitDetectionInstructions.push(g,tt),void 0!==i.fillStyle&&(this.instructions.push(N),this.hitDetectionInstructions.push(N)),void 0!==i.strokeStyle&&(this.instructions.push(O),this.hitDetectionInstructions.push(O)),this.endGeometry(n)}},s.prototype.drawPolygon=function(t,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([c.SET_FILL_STYLE,a.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var R=t.getEnds(),M=t.getOrientedFlatCoordinates(),F=t.getStride();this.drawFlatCoordinatess_(M,0,R,F),this.endGeometry(n)}},s.prototype.drawMultiPolygon=function(t,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([c.SET_FILL_STYLE,a.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([c.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var R=t.getEndss(),M=t.getOrientedFlatCoordinates(),F=t.getStride(),tt=0,z=0,it=R.length;z<it;++z)tt=this.drawFlatCoordinatess_(M,tt,R[z],F);this.endGeometry(n)}},s.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var n=this.coordinates,i=0,v=n.length;i<v;++i)n[i]=(0,Qt.uZ)(n[i],t);return P.prototype.finish.call(this)},s.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},s}(Q);const Et=dt;var J=m(3865);function W(P,s,t,n,i){var z,it,_t,gt,Dt,Pt,Lt,Rt,Mt,v=t,_=t,R=0,M=0,F=t;for(z=t;z<n;z+=i){var At=s[z],kt=s[z+1];void 0!==gt&&(Rt=At-gt,Mt=kt-Dt,_t=Math.sqrt(Rt*Rt+Mt*Mt),void 0!==Pt&&(M+=it,Math.acos((Pt*Rt+Lt*Mt)/(it*_t))>P&&(M>R&&(R=M,v=F,_=z),M=0,F=z-i)),it=_t,Pt=Rt,Lt=Mt),gt=At,Dt=kt}return(M+=_t)>R?[F,z]:[v,_]}var w=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),A={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},x=function(P){function s(t,n,i,v){var _=P.call(this,t,n,i,v)||this;return _.labels_=null,_.text_="",_.textOffsetX_=0,_.textOffsetY_=0,_.textRotateWithView_=void 0,_.textRotation_=0,_.textFillState_=null,_.fillStates={},_.textStrokeState_=null,_.strokeStates={},_.textState_={},_.textStates={},_.textKey_="",_.fillKey_="",_.strokeKey_="",_}return w(s,P),s.prototype.finish=function(){var t=P.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},s.prototype.drawText=function(t,n){var _=this.textState_;if(""!==this.text_&&_&&(this.textFillState_||this.textStrokeState_)){var it,_t,R=this.coordinates.length,M=t.getType(),F=null,tt=2,z=t.getStride();if("line"===_.placement){if(!(0,l.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;var gt=void 0;if(F=t.getFlatCoordinates(),M==y.Z.LINE_STRING)gt=[F.length];else if(M==y.Z.MULTI_LINE_STRING)gt=t.getEnds();else if(M==y.Z.POLYGON)gt=t.getEnds().slice(0,1);else if(M==y.Z.MULTI_POLYGON){var Dt=t.getEndss();for(gt=[],it=0,_t=Dt.length;it<_t;++it)gt.push(Dt[it][0])}this.beginGeometry(t,n);for(var Pt=_.textAlign,Lt=0,Rt=void 0,Mt=0,At=gt.length;Mt<At;++Mt){if(null==Pt){var kt=W(_.maxAngle,F,Lt,gt[Mt],z);Lt=kt[0],Rt=kt[1]}else Rt=gt[Mt];for(it=Lt;it<Rt;it+=z)this.coordinates.push(F[it],F[it+1]);tt=this.coordinates.length,Lt=gt[Mt];var ie=this.declutterGroups_?0===Mt?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(R,tt,ie),R=tt}this.endGeometry(n)}else{var Vt=null;switch(_.overflow||(Vt=[]),M){case y.Z.POINT:case y.Z.MULTI_POINT:tt=(F=t.getFlatCoordinates()).length;break;case y.Z.LINE_STRING:F=t.getFlatMidpoint();break;case y.Z.CIRCLE:F=t.getCenter();break;case y.Z.MULTI_LINE_STRING:z=2,tt=(F=t.getFlatMidpoints()).length;break;case y.Z.POLYGON:F=t.getFlatInteriorPoint(),_.overflow||Vt.push(F[2]/this.resolution),z=3;break;case y.Z.MULTI_POLYGON:var qt=t.getFlatInteriorPoints();for(F=[],it=0,_t=qt.length;it<_t;it+=3)_.overflow||Vt.push(qt[it+2]/this.resolution),F.push(qt[it],qt[it+1]);if(z=2,0==(tt=F.length))return}tt=this.appendFlatCoordinates(F,0,tt,z,!1,!1),this.saveTextStates_(),(_.backgroundFill||_.backgroundStroke)&&(this.setFillStrokeStyle(_.backgroundFill,_.backgroundStroke),_.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),_.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,n);var Jt=_.padding;if(Jt!=a.oB&&(_.scale[0]<0||_.scale[1]<0)){var ee=_.padding[0],Ft=_.padding[1],ne=_.padding[2],_e=_.padding[3];_.scale[0]<0&&(Ft=-Ft,_e=-_e),_.scale[1]<0&&(ee=-ee,ne=-ne),Jt=[ee,Ft,ne,_e]}var ve=this.pixelRatio;this.instructions.push([c.DRAW_IMAGE,R,tt,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,Jt==a.oB?a.oB:Jt.map(function(de){return de*ve}),!!_.backgroundFill,!!_.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,Vt]);var le=1/ve;this.hitDetectionInstructions.push([c.DRAW_IMAGE,R,tt,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[le,le],NaN,Jt,!!_.backgroundFill,!!_.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,Vt]),this.endGeometry(n)}}},s.prototype.saveTextStates_=function(){var t=this.textStrokeState_,n=this.textState_,i=this.textFillState_,v=this.strokeKey_;t&&(v in this.strokeStates||(this.strokeStates[v]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var _=this.textKey_;_ in this.textStates||(this.textStates[_]={font:n.font,textAlign:n.textAlign||a.PH,textBaseline:n.textBaseline||a.ru,scale:n.scale});var R=this.fillKey_;i&&(R in this.fillStates||(this.fillStates[R]={fillStyle:i.fillStyle}))},s.prototype.drawChars_=function(t,n,i){var v=this.textStrokeState_,_=this.textState_,R=this.strokeKey_,M=this.textKey_,F=this.fillKey_;this.saveTextStates_();var tt=this.pixelRatio,z=A[_.textBaseline],it=this.textOffsetY_*tt,_t=this.text_,gt=v?v.lineWidth*Math.abs(_.scale[0])/2:0;this.instructions.push([c.DRAW_CHARS,t,n,z,i,_.overflow,F,_.maxAngle,tt,it,R,gt*tt,_t,M,1]),this.hitDetectionInstructions.push([c.DRAW_CHARS,t,n,z,i,_.overflow,F,_.maxAngle,1,it,R,gt,_t,M,1/tt])},s.prototype.setTextStyle=function(t,n){var i,v,_;if(t){this.declutterGroups_=n;var R=t.getFill();R?((v=this.textFillState_)||(this.textFillState_=v={}),v.fillStyle=(0,T.y)(R.getColor()||a.bL)):this.textFillState_=v=null;var M=t.getStroke();if(M){(_=this.textStrokeState_)||(this.textStrokeState_=_={});var F=M.getLineDash(),tt=M.getLineDashOffset(),z=M.getWidth(),it=M.getMiterLimit();_.lineCap=M.getLineCap()||a.mb,_.lineDash=F?F.slice():a.X9,_.lineDashOffset=void 0===tt?a.He:tt,_.lineJoin=M.getLineJoin()||a.rc,_.lineWidth=void 0===z?a.yC:z,_.miterLimit=void 0===it?a.V4:it,_.strokeStyle=(0,T.y)(M.getColor()||a.Tx)}else this.textStrokeState_=_=null;i=this.textState_;var _t=t.getFont()||a.Df;(0,a.Qx)(_t);var gt=t.getScaleArray();i.overflow=t.getOverflow(),i.font=_t,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||a.ru,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||a.oB,i.scale=void 0===gt?[1,1]:gt;var Dt=t.getOffsetX(),Pt=t.getOffsetY(),Lt=t.getRotateWithView(),Rt=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===Dt?0:Dt,this.textOffsetY_=void 0===Pt?0:Pt,this.textRotateWithView_=void 0!==Lt&&Lt,this.textRotation_=void 0===Rt?0:Rt,this.strokeKey_=_?("string"==typeof _.strokeStyle?_.strokeStyle:(0,J.sq)(_.strokeStyle))+_.lineCap+_.lineDashOffset+"|"+_.lineWidth+_.lineJoin+_.miterLimit+"["+_.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=v?"string"==typeof v.fillStyle?v.fillStyle:"|"+(0,J.sq)(v.fillStyle):""}else this.text_=""},s}(Q),q={Circle:Et,Default:Q,Image:Tt,LineString:Wt,Polygon:Et,Text:x},ct=function(){function P(s,t,n,i,v){this.declutter_=v,this.declutterGroups_=null,this.tolerance_=s,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return P.prototype.addDeclutter=function(s){var t=null;return this.declutter_&&(s?(t=this.declutterGroups_)[0][0]++:this.declutterGroups_=t=[[1]]),t},P.prototype.finish=function(){var s={};for(var t in this.buildersByZIndex_){s[t]=s[t]||{};var n=this.buildersByZIndex_[t];for(var i in n){var v=n[i].finish();s[t][i]=v}}return s},P.prototype.getBuilder=function(s,t){var n=void 0!==s?s.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(this.buildersByZIndex_[n]=i={});var v=i[t];return void 0===v&&(v=new(0,q[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=v),v},P}();const wt=ct;var Ht=m(377),Ut=m(5913),Ce=m(1185),L=m(1596),V=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),ht=function(P){function s(t){var n=P.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=t,n}return V(s,P),s.prototype.getFeatures=function(t){return(0,J.O3)()},s.prototype.prepareFrame=function(t){return(0,J.O3)()},s.prototype.renderFrame=function(t,n){return(0,J.O3)()},s.prototype.loadedTileCallback=function(t,n,i){t[n]||(t[n]={}),t[n][i.tileCoord.toString()]=i},s.prototype.createLoadedTileFinder=function(t,n,i){return function(v,_){var R=this.loadedTileCallback.bind(this,i,v);return t.forEachLoadedTile(n,v,_,R)}.bind(this)},s.prototype.forEachFeatureAtCoordinate=function(t,n,i,v,_){},s.prototype.getDataAtPixel=function(t,n,i){return(0,J.O3)()},s.prototype.getLayer=function(){return this.layer_},s.prototype.handleFontsChanged=function(){},s.prototype.handleImageChange_=function(t){t.target.getState()===Ut.Z.LOADED&&this.renderIfReadyAndVisible()},s.prototype.loadImage=function(t){var n=t.getState();return n!=Ut.Z.LOADED&&n!=Ut.Z.ERROR&&t.addEventListener(Ht.Z.CHANGE,this.boundHandleImageChange_),n==Ut.Z.IDLE&&(t.load(),n=t.getState()),n==Ut.Z.LOADED},s.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==L.Z.READY&&t.changed()},s}(Ce.Z);const It=ht;var Kt=m(6121),he=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),ge=function(P){function s(t,n,i,v){var _=P.call(this,t)||this;return _.inversePixelTransform=n,_.frameState=i,_.context=v,_}return he(s,P),s}(Kt.ZP);const ae=ge;var se=m(8968),Yt=m(3232),Se=m(3185),Le=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),$=function(P){function s(t){var n=P.call(this,t)||this;return n.container=null,n.tempTransform=(0,Yt.Ue)(),n.pixelTransform=(0,Yt.Ue)(),n.inversePixelTransform=(0,Yt.Ue)(),n.context=null,n.containerReused=!1,n}return Le(s,P),s.prototype.useContainer=function(t,n,i){var _,R,v=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===v&&(M=t.firstElementChild)instanceof HTMLCanvasElement&&(R=M.getContext("2d")),!R||0!==R.canvas.width&&R.canvas.style.transform!==n?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=R,this.containerReused=!0),!this.container){(_=document.createElement("div")).className=v;var M,F=_.style;F.position="absolute",F.width="100%",F.height="100%",R=(0,Se.E4)(),_.appendChild(M=R.canvas),(F=M.style).position="absolute",F.left="0",F.transformOrigin="top left",this.container=_,this.context=R}},s.prototype.clip=function(t,n,i){var v=n.pixelRatio,_=n.size[0]*v/2,R=n.size[1]*v/2,M=n.viewState.rotation,F=(0,l.rL)(i),tt=(0,l.Xv)(i),z=(0,l.w$)(i),it=(0,l.hC)(i);(0,Yt.nn)(n.coordinateToPixelTransform,F),(0,Yt.nn)(n.coordinateToPixelTransform,tt),(0,Yt.nn)(n.coordinateToPixelTransform,z),(0,Yt.nn)(n.coordinateToPixelTransform,it),t.save(),(0,a.qs)(t,-M,_,R),t.beginPath(),t.moveTo(F[0]*v,F[1]*v),t.lineTo(tt[0]*v,tt[1]*v),t.lineTo(z[0]*v,z[1]*v),t.lineTo(it[0]*v,it[1]*v),t.clip(),(0,a.qs)(t,M,_,R)},s.prototype.clipUnrotated=function(t,n,i){var v=(0,l.rL)(i),_=(0,l.Xv)(i),R=(0,l.w$)(i),M=(0,l.hC)(i);(0,Yt.nn)(n.coordinateToPixelTransform,v),(0,Yt.nn)(n.coordinateToPixelTransform,_),(0,Yt.nn)(n.coordinateToPixelTransform,R),(0,Yt.nn)(n.coordinateToPixelTransform,M);var F=this.inversePixelTransform;(0,Yt.nn)(F,v),(0,Yt.nn)(F,_),(0,Yt.nn)(F,R),(0,Yt.nn)(F,M),t.save(),t.beginPath(),t.moveTo(Math.round(v[0]),Math.round(v[1])),t.lineTo(Math.round(_[0]),Math.round(_[1])),t.lineTo(Math.round(R[0]),Math.round(R[1])),t.lineTo(Math.round(M[0]),Math.round(M[1])),t.clip()},s.prototype.dispatchRenderEvent_=function(t,n,i){var v=this.getLayer();if(v.hasListener(t)){var _=new ae(t,this.inversePixelTransform,i,n);v.dispatchEvent(_)}},s.prototype.preRender=function(t,n){this.dispatchRenderEvent_(se.Z.PRERENDER,t,n)},s.prototype.postRender=function(t,n){this.dispatchRenderEvent_(se.Z.POSTRENDER,t,n)},s.prototype.getRenderTransform=function(t,n,i,v,_,R,M){var z=v/n;return(0,Yt.qC)(this.tempTransform,_/2,R/2,z,-z,-i,-t[0]+M,-t[1])},s.prototype.getDataAtPixel=function(t,n,i){var R,v=(0,Yt.nn)(this.inversePixelTransform,t.slice()),_=this.context;try{var M=Math.round(v[0]),F=Math.round(v[1]),tt=document.createElement("canvas"),z=tt.getContext("2d");tt.width=1,tt.height=1,z.clearRect(0,0,1,1),z.drawImage(_.canvas,M,F,1,1,0,0,1,1),R=z.getImageData(0,0,1,1).data}catch(it){return"SecurityError"===it.name?new Uint8Array:R}return 0===R[3]?null:R},s}(It);const rt=$;var xt=m(4575),Ct=m.n(xt),Xt=m(1286),$t=m(6581),te=m(7855);function pe(P,s,t,n,i,v,_,R,M,F,tt,z){var _t,it=[];if(z){var gt=(0,te.U1)(P,s,t,n,z,[P[s],P[s+1]]);_t=gt[0]>gt[gt.length-n]}else _t=P[s]>P[t-n];for(var Vt,qt,Dt=i.length,Pt=P[s],Lt=P[s+1],Rt=P[s+=n],Mt=P[s+1],At=0,kt=Math.sqrt(Math.pow(Rt-Pt,2)+Math.pow(Mt-Lt,2)),ie=!1,Jt=0;Jt<Dt;++Jt){for(var ee=i[Vt=_t?Dt-Jt-1:Jt],Ft=R*M(F,ee,tt),ne=v+Ft/2;s<t-n&&At+kt<ne;)Pt=Rt,Lt=Mt,Rt=P[s+=n],Mt=P[s+1],At+=kt,kt=Math.sqrt(Math.pow(Rt-Pt,2)+Math.pow(Mt-Lt,2));var _e=ne-At,ve=Math.atan2(Mt-Lt,Rt-Pt);if(_t&&(ve+=ve>0?-Math.PI:Math.PI),void 0!==qt){var le=ve-qt;if(ie=ie||0!==le,le+=le>Math.PI?-2*Math.PI:le<-Math.PI?2*Math.PI:0,Math.abs(le)>_)return null}qt=ve;var de=_e/kt,we=(0,$t.t7)(Pt,Rt,de),Te=(0,$t.t7)(Lt,Mt,de);it[Vt]=[we,Te,Ft/2,ve,ee],v+=Ft}return ie?it:[[it[0][0],it[0][1],it[0][2],it[0][3],i]]}var me=m(6062),Oe=(0,l.lJ)(),Ye=(0,Yt.Ue)(),Ze=[],Ne=[],Ae=[],Ge=[],kn=function(){function P(s,t,n,i,v){this.overlaps=n,this.pixelRatio=t,this.resolution=s,this.declutterItems=[],this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderBuffer_=v,this.renderedTransform_=(0,Yt.Ue)(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return P.prototype.createLabel=function(s,t,n,i){var v=s+t+n+i;if(this.labels_[v])return this.labels_[v];var _=i?this.strokeStates[i]:null,R=n?this.fillStates[n]:null,M=this.textStates[t],F=this.pixelRatio,tt=[M.scale[0]*F,M.scale[1]*F],z=A[M.textAlign||a.PH],it=i&&_.lineWidth?_.lineWidth:0,_t=s.split("\n"),gt=_t.length,Dt=[],Pt=(0,a.gs)(M.font,_t,Dt),Lt=(0,a.fk)(M.font),Mt=Pt+it,At=[],kt=(Mt+2)*tt[0],ie=(Lt*gt+it)*tt[1],Vt={width:kt<0?Math.floor(kt):Math.ceil(kt),height:ie<0?Math.floor(ie):Math.ceil(ie),contextInstructions:At};(1!=tt[0]||1!=tt[1])&&At.push("scale",tt),At.push("font",M.font),i&&(At.push("strokeStyle",_.strokeStyle),At.push("lineWidth",it),At.push("lineCap",_.lineCap),At.push("lineJoin",_.lineJoin),At.push("miterLimit",_.miterLimit),(Xt.Id?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(At.push("setLineDash",[_.lineDash]),At.push("lineDashOffset",_.lineDashOffset))),n&&At.push("fillStyle",R.fillStyle),At.push("textBaseline","middle"),At.push("textAlign","center");var Ft,Jt=.5-z,ee=z*Mt+Jt*it;if(i)for(Ft=0;Ft<gt;++Ft)At.push("strokeText",[_t[Ft],ee+Jt*Dt[Ft],.5*(it+Lt)+Ft*Lt]);if(n)for(Ft=0;Ft<gt;++Ft)At.push("fillText",[_t[Ft],ee+Jt*Dt[Ft],.5*(it+Lt)+Ft*Lt]);return this.labels_[v]=Vt,Vt},P.prototype.replayTextBackground_=function(s,t,n,i,v,_,R,M){s.beginPath(),s.moveTo.apply(s,t),s.lineTo.apply(s,n),s.lineTo.apply(s,i),s.lineTo.apply(s,v),s.lineTo.apply(s,t),_&&(this.alignFill_=_[2],M&&(s.fillStyle=_[1]),this.fill_(s)),R&&(this.setStrokeStyle_(s,R),s.stroke())},P.prototype.replayImageOrLabel_=function(s,t,n,i,v,_,R,M,F,tt,z,it,_t,gt,Dt,Pt,Lt,Rt,Mt){var At=Rt||Mt,kt=Pt+z>v.width?v.width-z:Pt,ie=F+it>v.height?v.height-it:F,Vt=Lt[3]+kt*gt[0]+Lt[1],qt=Lt[0]+ie*gt[1]+Lt[2],Jt=(n-=_*=gt[0])-Lt[3],ee=(i-=R*=gt[1])-Lt[0];(At||0!==_t)&&(Ze[0]=Jt,Ge[0]=Jt,Ze[1]=ee,Ne[1]=ee,Ne[0]=Jt+Vt,Ae[0]=Ne[0],Ae[1]=ee+qt,Ge[1]=Ae[1]);var Ft=null;if(0!==_t){var ne=n+_,_e=i+R;Ft=(0,Yt.qC)(Ye,ne,_e,1,1,_t,-ne,-_e),(0,Yt.nn)(Ye,Ze),(0,Yt.nn)(Ye,Ne),(0,Yt.nn)(Ye,Ae),(0,Yt.nn)(Ye,Ge),(0,l.T9)(Math.min(Ze[0],Ne[0],Ae[0],Ge[0]),Math.min(Ze[1],Ne[1],Ae[1],Ge[1]),Math.max(Ze[0],Ne[0],Ae[0],Ge[0]),Math.max(Ze[1],Ne[1],Ae[1],Ge[1]),Oe)}else(0,l.T9)(Jt,ee,Jt+Vt,ee+qt,Oe);var ve=0,le=0;if(M){var de=this.renderBuffer_;de[0]=Math.max(de[0],(0,l.dz)(Oe)),ve=de[0],de[1]=Math.max(de[1],(0,l.Cr)(Oe)),le=de[1]}var we=s.canvas,Te=Mt?Mt[2]*gt[0]/2:0,xe=Oe[0]-Te<=(we.width+ve)/t&&Oe[2]+Te>=-ve/t&&Oe[1]-Te<=(we.height+le)/t&&Oe[3]+Te>=-le/t;if(Dt&&(n=Math.round(n),i=Math.round(i)),M){if(!xe&&1==M[0])return!1;var ue=xe?[s,Ft?Ft.slice(0):null,tt,v,z,it,kt,ie,n,i,gt,Oe.slice()]:null;ue&&(At&&ue.push(Rt,Mt,Ze.slice(0),Ne.slice(0),Ae.slice(0),Ge.slice(0)),M.push(ue))}else xe&&(At&&this.replayTextBackground_(s,Ze,Ne,Ae,Ge,Rt,Mt,!1),(0,a._f)(s,Ft,tt,v,z,it,kt,ie,n,i,gt));return!0},P.prototype.fill_=function(s){if(this.alignFill_){var t=(0,Yt.nn)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;s.save(),s.translate(t[0]%n,t[1]%n),s.rotate(this.viewRotation_)}s.fill(),this.alignFill_&&s.restore()},P.prototype.setStrokeStyle_=function(s,t){s.strokeStyle=t[1],s.lineWidth=t[2],s.lineCap=t[3],s.lineJoin=t[4],s.miterLimit=t[5],s.setLineDash&&(s.lineDashOffset=t[7],s.setLineDash(t[6]))},P.prototype.renderDeclutter=function(s,t,n,i){for(var v=[],_=1,R=s.length;_<R;++_){var F=(M=s[_])[11];v.push({minX:F[0],minY:F[1],maxX:F[2],maxY:F[3],value:t})}i||(i=new(Ct())(9));var tt=!1;for(_=0,R=v.length;_<R;++_)if(i.collides(v[_])){tt=!0;break}if(!tt){i.load(v);for(var z=1,it=s.length;z<it;++z){var M,_t=(M=s[z])[0],gt=_t.globalAlpha;gt!==n&&(_t.globalAlpha=n),M.length>12&&this.replayTextBackground_(M[0],M[14],M[15],M[16],M[17],M[12],M[13],!0),a._f.apply(void 0,M),gt!==n&&(_t.globalAlpha=gt)}}return s.length=1,i},P.prototype.drawLabelWithPointPlacement_=function(s,t,n,i){var v=this.textStates[t],_=this.createLabel(s,t,i,n),R=this.strokeStates[n],M=this.pixelRatio,F=A[v.textAlign||a.PH],tt=A[v.textBaseline||a.ru],z=R&&R.lineWidth?R.lineWidth:0;return{label:_,anchorX:F*(_.width/M-2*v.scale[0])+2*(.5-F)*z,anchorY:tt*_.height/M+2*(.5-tt)*z}},P.prototype.execute_=function(s,t,n,i,v,_,R){var M;this.declutterItems.length=0,this.pixelCoordinates_&&(0,h.fS)(n,this.renderedTransform_)?M=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),M=(0,te.vT)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(0,Yt.lk)(this.renderedTransform_,n));for(var it,_t,gt,Dt,Pt,Lt,Rt,Mt,At,kt,ie,Vt,qt,Jt,xe,ue,Pe,F=0,tt=i.length,z=0,ee=0,Ft=0,ne=null,_e=null,ve=this.coordinateCache_,le=this.viewRotation_,de=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,we={context:s,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:le},Te=this.instructions!=i||this.overlaps?0:200;F<tt;){var bt=i[F];switch(bt[0]){case c.BEGIN_GEOMETRY:(xe=bt[1]).getGeometry()?void 0===R||(0,l.kK)(R,bt[3])?++F:F=bt[2]+1:F=bt[2];break;case c.BEGIN_PATH:ee>Te&&(this.fill_(s),ee=0),Ft>Te&&(s.stroke(),Ft=0),!ee&&!Ft&&(s.beginPath(),Dt=NaN,Pt=NaN),++F;break;case c.CIRCLE:var qe=M[z=bt[1]],He=M[z+1],yn=M[z+2]-qe,xn=M[z+3]-He,en=Math.sqrt(yn*yn+xn*xn);s.moveTo(qe+en,He),s.arc(qe,He,en,0,2*Math.PI,!0),++F;break;case c.CLOSE_PATH:s.closePath(),++F;break;case c.CUSTOM:z=bt[1],it=bt[2];var Ci=bt[4],nn=6==bt.length?bt[5]:void 0;we.geometry=bt[3],we.feature=xe,F in ve||(ve[F]=[]);var rn=ve[F];nn?nn(M,z,it,2,rn):(rn[0]=M[z],rn[1]=M[z+1],rn.length=2),Ci(rn,we),++F;break;case c.DRAW_IMAGE:z=bt[1],it=bt[2],_t=bt[4],gt=bt[5],At=_?null:bt[6];var Mn=bt[7],Ii=bt[8],bi=bt[9],Oi=bt[10],Jn=bt[11],Ln=bt[12],wi=bt[13],on=bt[14];if(!(kt=bt[3])&&bt.length>=19){var Nn=this.drawLabelWithPointPlacement_(ie=bt[18],Vt=bt[19],qt=bt[20],Jt=bt[21]);bt[3]=kt=Nn.label,bt[4]=_t=(Nn.anchorX-bt[22])*this.pixelRatio,bt[5]=gt=(Nn.anchorY-bt[23])*this.pixelRatio,bt[7]=Mn=kt.height,bt[14]=on=kt.width}var An=void 0;bt.length>24&&(An=bt[24]);var Dn=void 0,Fn=void 0,Zn=void 0;bt.length>16?(Dn=bt[15],Fn=bt[16],Zn=bt[17]):(Dn=a.oB,Fn=!1,Zn=!1),Jn&&de?Ln+=le:!Jn&&!de&&(Ln-=le);for(var Mi=0,Qn=0;z<it;z+=2)if(!(An&&An[Mi++]<on/this.pixelRatio)){if(At){var $n=Math.floor(Qn);Mt=At.length<$n+1?[At[0][0]]:At[$n]}(ze=this.replayImageOrLabel_(s,t,M[z],M[z+1],kt,_t,gt,Mt,Mn,Ii,bi,Oi,Ln,wi,v,on,Dn,Fn?ne:null,Zn?_e:null))&&Mt&&At[At.length-1]!==Mt&&At.push(Mt),Mt&&(Mt.length-1===Mt[0]&&this.declutterItems.push(this,Mt,xe),Qn+=1/Mt[0])}++F;break;case c.DRAW_CHARS:var qn=bt[1],Gn=bt[2],Bn=bt[3];Mt=_?null:bt[4];var Un=bt[5];Jt=bt[6];var Li=bt[7],ti=bt[8],ei=bt[9];qt=bt[10];var ni=bt[11];ie=bt[12];var ii=[bt[14],bt[14]],Wn=this.textStates[Vt=bt[13]],sn=Wn.font,En=[Wn.scale[0]*ti,Wn.scale[1]*ti],an=void 0;sn in this.widths_?an=this.widths_[sn]:this.widths_[sn]=an={};var ri=(0,me.W)(M,qn,Gn,2),oi=Math.abs(En[0])*(0,a.Kd)(sn,ie,an);if(Un||oi<=ri){var ln=pe(M,qn,Gn,2,ie,(ri-oi)*A[this.textStates[Vt].textAlign],Li,Math.abs(En[0]),a.Kd,sn,an,de?0:this.viewRotation_);if(ln){var ze=!1,je=void 0,Tn=void 0,Be=void 0,Me=void 0;if(qt)for(je=0,Tn=ln.length;je<Tn;++je)Be=this.createLabel((Me=ln[je])[4],Vt,"",qt),ze=this.replayImageOrLabel_(s,t,Me[0],Me[1],Be,_t=Me[2]+ni,gt=Bn*Be.height+2*(.5-Bn)*ni*En[1]/En[0]-ei,Mt,Be.height,1,0,0,Me[3],ii,!1,Be.width,a.oB,null,null)||ze;if(Jt)for(je=0,Tn=ln.length;je<Tn;++je)Be=this.createLabel((Me=ln[je])[4],Vt,Jt,""),ze=this.replayImageOrLabel_(s,t,Me[0],Me[1],Be,_t=Me[2],gt=Bn*Be.height-ei,Mt,Be.height,1,0,0,Me[3],ii,!1,Be.width,a.oB,null,null)||ze;ze&&this.declutterItems.push(this,Mt,xe)}}++F;break;case c.END_GEOMETRY:if(void 0!==_){var si=_(xe=bt[1]);if(si)return si}++F;break;case c.FILL:Te?ee++:this.fill_(s),++F;break;case c.MOVE_TO_LINE_TO:for(it=bt[2],Rt=(Pe=M[(z=bt[1])+1])+.5|0,((Lt=(ue=M[z])+.5|0)!==Dt||Rt!==Pt)&&(s.moveTo(ue,Pe),Dt=Lt,Pt=Rt),z+=2;z<it;z+=2)Lt=(ue=M[z])+.5|0,Rt=(Pe=M[z+1])+.5|0,(z==it-2||Lt!==Dt||Rt!==Pt)&&(s.lineTo(ue,Pe),Dt=Lt,Pt=Rt);++F;break;case c.SET_FILL_STYLE:ne=bt,this.alignFill_=bt[2],ee&&(this.fill_(s),ee=0,Ft&&(s.stroke(),Ft=0)),s.fillStyle=bt[1],++F;break;case c.SET_STROKE_STYLE:_e=bt,Ft&&(s.stroke(),Ft=0),this.setStrokeStyle_(s,bt),++F;break;case c.STROKE:Te?Ft++:s.stroke(),++F;break;default:++F}}ee&&this.fill_(s),Ft&&s.stroke()},P.prototype.execute=function(s,t,n,i,v){this.viewRotation_=i,this.execute_(s,t,n,this.instructions,v,void 0,void 0)},P.prototype.executeHitDetection=function(s,t,n,i,v){return this.viewRotation_=n,this.execute_(s,1,t,this.hitDetectionInstructions,!0,i,v)},P}();const Cn=kn;var ke=["Polygon","Circle","LineString","Image","Text","Default"],hn=function(){function P(s,t,n,i,v,_){this.maxExtent_=s,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=_,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,Yt.Ue)(),this.createExecutors_(v)}return P.prototype.clip=function(s,t){var n=this.getClipCoords(t);s.beginPath(),s.moveTo(n[0],n[1]),s.lineTo(n[2],n[3]),s.lineTo(n[4],n[5]),s.lineTo(n[6],n[7]),s.clip()},P.prototype.createExecutors_=function(s){for(var t in s){var n=this.executorsByZIndex_[t];void 0===n&&(this.executorsByZIndex_[t]=n={});var i=s[t],v=[this.renderBuffer_||0,this.renderBuffer_||0];for(var _ in i)n[_]=new Cn(this.resolution_,this.pixelRatio_,this.overlaps_,i[_],v)}},P.prototype.hasExecutors=function(s){for(var t in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[t],i=0,v=s.length;i<v;++i)if(s[i]in n)return!0;return!1},P.prototype.forEachFeatureAtCoordinate=function(s,t,n,i,v,_){var R=2*(i=Math.round(i))+1,M=(0,Yt.qC)(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-n,-s[0],-s[1]);this.hitDetectionContext_||(this.hitDetectionContext_=(0,Se.E4)(R,R));var tt,F=this.hitDetectionContext_;F.canvas.width!==R||F.canvas.height!==R?(F.canvas.width=R,F.canvas.height=R):F.clearRect(0,0,R,R),void 0!==this.renderBuffer_&&(tt=(0,l.lJ)(),(0,l.Wj)(tt,s),(0,l.f3)(tt,t*(this.renderBuffer_+i),tt));var it,z=function Xn(P){if(void 0!==un[P])return un[P];for(var s=2*P+1,t=new Array(s),n=0;n<s;n++)t[n]=new Array(s);for(var i=P,v=0,_=0;i>=v;)Ue(t,P+i,P+v),Ue(t,P+v,P+i),Ue(t,P-v,P+i),Ue(t,P-i,P+v),Ue(t,P-i,P-v),Ue(t,P-v,P-i),Ue(t,P+v,P-i),Ue(t,P+i,P-v),2*((_+=1+2*++v)-i)+1>0&&(_+=1-2*(i-=1));return un[P]=t,t}(i);function _t(kt){for(var ie=F.getImageData(0,0,R,R).data,Vt=0;Vt<R;Vt++)for(var qt=0;qt<R;qt++)if(z[Vt][qt]&&ie[4*(qt*R+Vt)+3]>0){var Jt=void 0;return(!(_&&("Image"==it||"Text"==it))||-1!==_.indexOf(kt))&&(Jt=v(kt)),Jt||void F.clearRect(0,0,R,R)}}var Dt,Pt,Lt,Rt,Mt,gt=Object.keys(this.executorsByZIndex_).map(Number);for(gt.sort(h.kK),Dt=gt.length-1;Dt>=0;--Dt){var At=gt[Dt].toString();for(Lt=this.executorsByZIndex_[At],Pt=ke.length-1;Pt>=0;--Pt)if(void 0!==(Rt=Lt[it=ke[Pt]])&&(Mt=Rt.executeHitDetection(F,M,n,_t,tt)))return Mt}},P.prototype.getClipCoords=function(s){var t=this.maxExtent_;if(!t)return null;var n=t[0],i=t[1],v=t[2],_=t[3],R=[n,i,n,_,v,_,v,i];return(0,te.vT)(R,0,8,2,s,R),R},P.prototype.isEmpty=function(){return(0,ot.xb)(this.executorsByZIndex_)},P.prototype.execute=function(s,t,n,i,v,_,R){var M=Object.keys(this.executorsByZIndex_).map(Number);M.sort(h.kK),this.maxExtent_&&(s.save(),this.clip(s,n));var tt,z,it,_t,gt,Dt,F=_||ke;for(tt=0,z=M.length;tt<z;++tt){var Pt=M[tt].toString();for(gt=this.executorsByZIndex_[Pt],it=0,_t=F.length;it<_t;++it){var Lt=F[it];if(void 0!==(Dt=gt[Lt]))if(!R||"Image"!=Lt&&"Text"!=Lt)Dt.execute(s,t,n,i,v);else{var Rt=R[Pt];Rt?Rt.push(Dt,n.slice(0)):R[Pt]=[Dt,n.slice(0)]}}}this.maxExtent_&&s.restore()},P}(),un={0:[[!0]]};function Ue(P,s,t){var n,i=Math.floor(P.length/2);if(s>=i)for(n=i;n<s;n++)P[n][t]=!0;else if(s<i)for(n=s+1;n<i;n++)P[n][t]=!0}const cn=hn;var Xe=m(7863),Qe=m(1617),fn=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),dn=function(P){function s(t,n,i,v,_,R,M){var F=P.call(this)||this;return F.context_=t,F.pixelRatio_=n,F.extent_=i,F.transform_=v,F.viewRotation_=_,F.squaredTolerance_=R,F.userTransform_=M,F.contextFillState_=null,F.contextStrokeState_=null,F.contextTextState_=null,F.fillState_=null,F.strokeState_=null,F.image_=null,F.imageAnchorX_=0,F.imageAnchorY_=0,F.imageHeight_=0,F.imageOpacity_=0,F.imageOriginX_=0,F.imageOriginY_=0,F.imageRotateWithView_=!1,F.imageRotation_=0,F.imageScale_=[0,0],F.imageWidth_=0,F.text_="",F.textOffsetX_=0,F.textOffsetY_=0,F.textRotateWithView_=!1,F.textRotation_=0,F.textScale_=[0,0],F.textFillState_=null,F.textStrokeState_=null,F.textState_=null,F.pixelCoordinates_=[],F.tmpLocalTransform_=(0,Yt.Ue)(),F}return fn(s,P),s.prototype.drawImages_=function(t,n,i,v){if(this.image_){var _=(0,te.vT)(t,n,i,2,this.transform_,this.pixelCoordinates_),R=this.context_,M=this.tmpLocalTransform_,F=R.globalAlpha;1!=this.imageOpacity_&&(R.globalAlpha=F*this.imageOpacity_);var tt=this.imageRotation_;this.imageRotateWithView_&&(tt+=this.viewRotation_);for(var z=0,it=_.length;z<it;z+=2){var _t=_[z]-this.imageAnchorX_,gt=_[z+1]-this.imageAnchorY_;if(0!==tt||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var Dt=_t+this.imageAnchorX_,Pt=gt+this.imageAnchorY_;(0,Yt.qC)(M,Dt,Pt,1,1,tt,-Dt,-Pt),R.setTransform.apply(R,M),R.translate(Dt,Pt),R.scale(this.imageScale_[0],this.imageScale_[1]),R.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),R.setTransform(1,0,0,1,0,0)}else R.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,_t,gt,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(R.globalAlpha=F)}},s.prototype.drawText_=function(t,n,i,v){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var _=(0,te.vT)(t,n,i,v,this.transform_,this.pixelCoordinates_),R=this.context_,M=this.textRotation_;for(this.textRotateWithView_&&(M+=this.viewRotation_);n<i;n+=v){var F=_[n]+this.textOffsetX_,tt=_[n+1]+this.textOffsetY_;if(0!==M||1!=this.textScale_[0]||1!=this.textScale_[1]){var z=(0,Yt.qC)(this.tmpLocalTransform_,F,tt,1,1,M,-F,-tt);R.setTransform.apply(R,z),R.translate(F,tt),R.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&R.strokeText(this.text_,0,0),this.textFillState_&&R.fillText(this.text_,0,0),R.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&R.strokeText(this.text_,F,tt),this.textFillState_&&R.fillText(this.text_,F,tt)}}},s.prototype.moveToLineTo_=function(t,n,i,v,_){var R=this.context_,M=(0,te.vT)(t,n,i,v,this.transform_,this.pixelCoordinates_);R.moveTo(M[0],M[1]);var F=M.length;_&&(F-=2);for(var tt=2;tt<F;tt+=2)R.lineTo(M[tt],M[tt+1]);return _&&R.closePath(),i},s.prototype.drawRings_=function(t,n,i,v){for(var _=0,R=i.length;_<R;++_)n=this.moveToLineTo_(t,n,i[_],v,!0);return n},s.prototype.drawCircle=function(t){if((0,l.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=(0,Qe.Kr)(t,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],v=n[3]-n[1],_=Math.sqrt(i*i+v*v),R=this.context_;R.beginPath(),R.arc(n[0],n[1],_,0,2*Math.PI),this.fillState_&&R.fill(),this.strokeState_&&R.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},s.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},s.prototype.setTransform=function(t){this.transform_=t},s.prototype.drawGeometry=function(t){switch(t.getType()){case y.Z.POINT:this.drawPoint(t);break;case y.Z.LINE_STRING:this.drawLineString(t);break;case y.Z.POLYGON:this.drawPolygon(t);break;case y.Z.MULTI_POINT:this.drawMultiPoint(t);break;case y.Z.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case y.Z.MULTI_POLYGON:this.drawMultiPolygon(t);break;case y.Z.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case y.Z.CIRCLE:this.drawCircle(t)}},s.prototype.drawFeature=function(t,n){var i=n.getGeometryFunction()(t);!i||!(0,l.kK)(this.extent_,i.getExtent())||(this.setStyle(n),this.drawGeometry(i))},s.prototype.drawGeometryCollection=function(t){for(var n=t.getGeometriesArray(),i=0,v=n.length;i<v;++i)this.drawGeometry(n[i])},s.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),""!==this.text_&&this.drawText_(n,0,n.length,i)},s.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),""!==this.text_&&this.drawText_(n,0,n.length,i)},s.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,l.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),n.stroke()}if(""!==this.text_){var v=t.getFlatMidpoint();this.drawText_(v,0,2,2)}}},s.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=t.getExtent();if((0,l.kK)(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,v=t.getFlatCoordinates(),_=0,R=t.getEnds(),M=t.getStride();i.beginPath();for(var F=0,tt=R.length;F<tt;++F)_=this.moveToLineTo_(v,_,R[F],M,!1);i.stroke()}if(""!==this.text_){var z=t.getFlatMidpoints();this.drawText_(z,0,z.length,2)}}},s.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,l.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},s.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,l.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getOrientedFlatCoordinates(),v=0,_=t.getEndss(),R=t.getStride();n.beginPath();for(var M=0,F=_.length;M<F;++M)v=this.drawRings_(i,v,_[M],R);this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var z=t.getFlatInteriorPoints();this.drawText_(z,0,z.length,2)}}},s.prototype.setContextFillState_=function(t){var n=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},s.prototype.setContextStrokeState_=function(t){var n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,n.lineCap=t.lineCap),n.setLineDash&&((0,h.fS)(i.lineDash,t.lineDash)||n.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},s.prototype.setContextTextState_=function(t){var n=this.context_,i=this.contextTextState_,v=t.textAlign?t.textAlign:a.PH;i?(i.font!=t.font&&(i.font=t.font,n.font=t.font),i.textAlign!=v&&(i.textAlign=v,n.textAlign=v),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=v,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:v,textBaseline:t.textBaseline})},s.prototype.setFillStrokeStyle=function(t,n){if(t){var i=t.getColor();this.fillState_={fillStyle:(0,T.y)(i||a.bL)}}else this.fillState_=null;if(n){var v=n.getColor(),_=n.getLineCap(),R=n.getLineDash(),M=n.getLineDashOffset(),F=n.getLineJoin(),tt=n.getWidth(),z=n.getMiterLimit();this.strokeState_={lineCap:void 0!==_?_:a.mb,lineDash:R||a.X9,lineDashOffset:M||a.He,lineJoin:void 0!==F?F:a.rc,lineWidth:this.pixelRatio_*(void 0!==tt?tt:a.yC),miterLimit:void 0!==z?z:a.V4,strokeStyle:(0,T.y)(v||a.Tx)}}else this.strokeState_=null},s.prototype.setImageStyle=function(t){if(t){var n=t.getSize();if(n){var i=t.getAnchor(),v=t.getImage(1),_=t.getOrigin(),R=t.getScaleArray();this.imageAnchorX_=i[0],this.imageAnchorY_=i[1],this.imageHeight_=n[1],this.image_=v,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=_[0],this.imageOriginY_=_[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=[this.pixelRatio_*R[0],this.pixelRatio_*R[1]],this.imageWidth_=n[0]}else this.image_=null}else this.image_=null},s.prototype.setTextStyle=function(t){if(t){var n=t.getFill();if(n){var i=n.getColor();this.textFillState_={fillStyle:(0,T.y)(i||a.bL)}}else this.textFillState_=null;var v=t.getStroke();if(v){var _=v.getColor(),R=v.getLineCap(),M=v.getLineDash(),F=v.getLineDashOffset(),tt=v.getLineJoin(),z=v.getWidth(),it=v.getMiterLimit();this.textStrokeState_={lineCap:void 0!==R?R:a.mb,lineDash:M||a.X9,lineDashOffset:F||a.He,lineJoin:void 0!==tt?tt:a.rc,lineWidth:void 0!==z?z:a.yC,miterLimit:void 0!==it?it:a.V4,strokeStyle:(0,T.y)(_||a.Tx)}}else this.textStrokeState_=null;var _t=t.getFont(),gt=t.getOffsetX(),Dt=t.getOffsetY(),Pt=t.getRotateWithView(),Lt=t.getRotation(),Rt=t.getScaleArray(),Mt=t.getText(),At=t.getTextAlign(),kt=t.getTextBaseline();this.textState_={font:void 0!==_t?_t:a.Df,textAlign:void 0!==At?At:a.PH,textBaseline:void 0!==kt?kt:a.ru},this.text_=void 0!==Mt?Mt:"",this.textOffsetX_=void 0!==gt?this.pixelRatio_*gt:0,this.textOffsetY_=void 0!==Dt?this.pixelRatio_*Dt:0,this.textRotateWithView_=void 0!==Pt&&Pt,this.textRotation_=void 0!==Lt?Lt:0,this.textScale_=[this.pixelRatio_*Rt[0],this.pixelRatio_*Rt[1]]}else this.text_=""},s}(et);const re=dn;var In=m(6856),pn=m(9227),vn=m(5414),bn=m(6068),On=function(){function P(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return P.prototype.clear=function(){this.cache_={},this.cacheSize_=0},P.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},P.prototype.expire=function(){if(this.canExpireCache()){var s=0;for(var t in this.cache_)0==(3&s++)&&!this.cache_[t].hasListener()&&(delete this.cache_[t],--this.cacheSize_)}},P.prototype.get=function(s,t,n){var i=gn(s,t,n);return i in this.cache_?this.cache_[i]:null},P.prototype.set=function(s,t,n,i){var v=gn(s,t,n);this.cache_[v]=i,++this.cacheSize_},P.prototype.setSize=function(s){this.maxCacheSize_=s,this.expire()},P}();function gn(P,s,t){return s+":"+P+":"+(t?(0,pn.XC)(t):"null")}var S=new On,u=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),p=function(P){function s(t,n,i,v){var _=P.call(this)||this;return _.extent=t,_.pixelRatio_=i,_.resolution=n,_.state=v,_}return u(s,P),s.prototype.changed=function(){this.dispatchEvent(Ht.Z.CHANGE)},s.prototype.getExtent=function(){return this.extent},s.prototype.getImage=function(){return(0,J.O3)()},s.prototype.getPixelRatio=function(){return this.pixelRatio_},s.prototype.getResolution=function(){return this.resolution},s.prototype.getState=function(){return this.state},s.prototype.load=function(){(0,J.O3)()},s}(bn.Z);const b=p;var Z=m(4061),st=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();function Ot(P,s,t){var n=P;if(n.src&&Xt.Tp){var i=n.decode(),v=!0;return i.then(function(){v&&s()}).catch(function(M){v&&("EncodingError"===M.name&&"Invalid image type."===M.message?s():t())}),function(){v=!1}}var R=[(0,Z.Vx)(n,Ht.Z.LOAD,s),(0,Z.Vx)(n,Ht.Z.ERROR,t)];return function(){R.forEach(Z.bN)}}!function(P){function s(t,n,i,v,_,R){var M=P.call(this,t,n,i,Ut.Z.IDLE)||this;return M.src_=v,M.image_=new Image,null!==_&&(M.image_.crossOrigin=_),M.unlisten_=null,M.state=Ut.Z.IDLE,M.imageLoadFunction_=R,M}st(s,P),s.prototype.getImage=function(){return this.image_},s.prototype.handleImageError_=function(){this.state=Ut.Z.ERROR,this.unlistenImage_(),this.changed()},s.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,l.Cr)(this.extent)/this.image_.height),this.state=Ut.Z.LOADED,this.unlistenImage_(),this.changed()},s.prototype.load=function(){(this.state==Ut.Z.IDLE||this.state==Ut.Z.ERROR)&&(this.state=Ut.Z.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Ot(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},s.prototype.setImage=function(t){this.image_=t},s.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(b);var Zt=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),zt=null,ce=function(P){function s(t,n,i,v,_,R){var M=P.call(this)||this;return M.hitDetectionImage_=null,M.image_=t||new Image,null!==v&&(M.image_.crossOrigin=v),M.canvas_={},M.color_=R,M.unlisten_=null,M.imageState_=_,M.size_=i,M.src_=n,M}return Zt(s,P),s.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===Ut.Z.LOADED){zt||(zt=(0,Se.E4)(1,1)),zt.drawImage(this.image_,0,0);try{zt.getImageData(0,0,1,1),this.tainted_=!1}catch(t){zt=null,this.tainted_=!0}}return!0===this.tainted_},s.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Ht.Z.CHANGE)},s.prototype.handleImageError_=function(){this.imageState_=Ut.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},s.prototype.handleImageLoad_=function(){this.imageState_=Ut.Z.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},s.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},s.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},s.prototype.getImageState=function(){return this.imageState_},s.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],n=this.size_[1],i=(0,Se.E4)(t,n);i.fillRect(0,0,t,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},s.prototype.getSize=function(){return this.size_},s.prototype.getSrc=function(){return this.src_},s.prototype.load=function(){if(this.imageState_==Ut.Z.IDLE){this.imageState_=Ut.Z.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Ot(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},s.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var n=document.createElement("canvas");this.canvas_[t]=n,n.width=Math.ceil(this.image_.width*t),n.height=Math.ceil(this.image_.height*t);var i=n.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),this.isTainted_()){var v=this.color_;return i.globalCompositeOperation="multiply",i.fillStyle="rgb("+v[0]+","+v[1]+","+v[2]+")",i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="destination-in",void i.drawImage(this.image_,0,0)}for(var _=i.getImageData(0,0,n.width,n.height),R=_.data,M=this.color_[0]/255,F=this.color_[1]/255,tt=this.color_[2]/255,z=0,it=R.length;z<it;z+=4)R[z]*=M,R[z+1]*=F,R[z+2]*=tt;i.putImageData(_,0,0)}},s.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},s}(bn.Z),De=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ke=function(P){function s(t){var n=this,i=t||{};(n=P.call(this,{opacity:void 0!==i.opacity?i.opacity:1,rotation:void 0!==i.rotation?i.rotation:0,scale:void 0!==i.scale?i.scale:1,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:"top-left",n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:"fraction",n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:"fraction",n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var F=void 0!==i.img?i.img:null,tt=void 0!==i.imgSize?i.imgSize:null,z=i.src;(0,vn.h)(!(void 0!==z&&F),4),(0,vn.h)(!F||F&&tt,5),(void 0===z||0===z.length)&&F&&(z=F.src||(0,J.sq)(F)),(0,vn.h)(void 0!==z&&z.length>0,6);var it=void 0!==i.src?Ut.Z.IDLE:Ut.Z.LOADED;return n.color_=void 0!==i.color?(0,pn._2)(i.color):null,n.iconImage_=function ye(P,s,t,n,i,v){var _=S.get(s,n,v);return _||(_=new ce(P,s,t,n,i,v),S.set(s,n,v,_)),_}(F,z,tt,n.crossOrigin_,it,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:"top-left",n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return De(s,P),s.prototype.clone=function(){var t=this.getScale();return new s({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},s.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,n=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!n)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=n[0]),"fraction"==this.anchorYUnits_&&(t[1]*=n[1])}if("top-left"!=this.anchorOrigin_){if(!n)return null;t===this.anchor_&&(t=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(t[0]=-t[0]+n[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(t[1]=-t[1]+n[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},s.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},s.prototype.getColor=function(){return this.color_},s.prototype.getImage=function(t){return this.iconImage_.getImage(t)},s.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},s.prototype.getImageSize=function(){return this.iconImage_.getSize()},s.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},s.prototype.getImageState=function(){return this.iconImage_.getImageState()},s.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},s.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,n=this.getDisplacement();if("top-left"!=this.offsetOrigin_){var i=this.getSize(),v=this.iconImage_.getSize();if(!i||!v)return null;t=t.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(t[0]=v[0]-i[0]-t[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(t[1]=v[1]-i[1]-t[1])}return t[0]+=n[0],t[1]+=n[1],this.origin_=t,this.origin_},s.prototype.getSrc=function(){return this.iconImage_.getSrc()},s.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},s.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Ht.Z.CHANGE,t)},s.prototype.load=function(){this.iconImage_.load()},s.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Ht.Z.CHANGE,t)},s}(In.Z);const _n=Ke;var jn={Point:function Fe(P,s,t,n){var i=t.getImage();if(i){if(i.getImageState()!=Ut.Z.LOADED)return;var v=P.getBuilder(t.getZIndex(),"Image");v.setImageStyle(i,P.addDeclutter(!1)),v.drawPoint(s,n)}var _=t.getText();if(_){var R=P.getBuilder(t.getZIndex(),"Text");R.setTextStyle(_,P.addDeclutter(!!i)),R.drawText(s,n)}},LineString:function fi(P,s,t,n){var i=t.getStroke();if(i){var v=P.getBuilder(t.getZIndex(),"LineString");v.setFillStrokeStyle(null,i),v.drawLineString(s,n)}var _=t.getText();if(_){var R=P.getBuilder(t.getZIndex(),"Text");R.setTextStyle(_,P.addDeclutter(!1)),R.drawText(s,n)}},Polygon:function gi(P,s,t,n){var i=t.getFill(),v=t.getStroke();if(i||v){var _=P.getBuilder(t.getZIndex(),"Polygon");_.setFillStrokeStyle(i,v),_.drawPolygon(s,n)}var R=t.getText();if(R){var M=P.getBuilder(t.getZIndex(),"Text");M.setTextStyle(R,P.addDeclutter(!1)),M.drawText(s,n)}},MultiPoint:function vi(P,s,t,n){var i=t.getImage();if(i){if(i.getImageState()!=Ut.Z.LOADED)return;var v=P.getBuilder(t.getZIndex(),"Image");v.setImageStyle(i,P.addDeclutter(!1)),v.drawMultiPoint(s,n)}var _=t.getText();if(_){var R=P.getBuilder(t.getZIndex(),"Text");R.setTextStyle(_,P.addDeclutter(!!i)),R.drawText(s,n)}},MultiLineString:function di(P,s,t,n){var i=t.getStroke();if(i){var v=P.getBuilder(t.getZIndex(),"LineString");v.setFillStrokeStyle(null,i),v.drawMultiLineString(s,n)}var _=t.getText();if(_){var R=P.getBuilder(t.getZIndex(),"Text");R.setTextStyle(_,P.addDeclutter(!1)),R.drawText(s,n)}},MultiPolygon:function pi(P,s,t,n){var i=t.getFill(),v=t.getStroke();if(v||i){var _=P.getBuilder(t.getZIndex(),"Polygon");_.setFillStrokeStyle(i,v),_.drawMultiPolygon(s,n)}var R=t.getText();if(R){var M=P.getBuilder(t.getZIndex(),"Text");M.setTextStyle(R,P.addDeclutter(!1)),M.drawText(s,n)}},GeometryCollection:function ci(P,s,t,n){var v,_,i=s.getGeometriesArray();for(v=0,_=i.length;v<_;++v)(0,jn[i[v].getType()])(P,i[v],t,n)},Circle:function hi(P,s,t,n){var i=t.getFill(),v=t.getStroke();if(i||v){var _=P.getBuilder(t.getZIndex(),"Circle");_.setFillStrokeStyle(i,v),_.drawCircle(s,n)}var R=t.getText();if(R){var M=P.getBuilder(t.getZIndex(),"Text");M.setTextStyle(R,P.addDeclutter(!1)),M.drawText(s,n)}}};function li(P,s){return parseInt((0,J.sq)(P),10)-parseInt((0,J.sq)(s),10)}function wn(P,s){return.5*P/s}function Kn(P,s,t,n,i,v){var _=!1,R=t.getImage();if(R){var M=R.getImageState();M==Ut.Z.LOADED||M==Ut.Z.ERROR?R.unlistenImageChange(i):(M==Ut.Z.IDLE&&R.load(),M=R.getImageState(),R.listenImageChange(i),_=!0)}return function ui(P,s,t,n,i){var v=t.getGeometryFunction()(s);if(v){var _=v.simplifyTransformed(n,i);t.getRenderer()?Hn(P,_,t,s):(0,jn[_.getType()])(P,_,t,s)}}(P,s,t,n,v),_}function Hn(P,s,t,n){if(s.getType()!=y.Z.GEOMETRY_COLLECTION)P.getBuilder(t.getZIndex(),"Default").drawCustom(s,n,t.getRenderer());else for(var i=s.getGeometries(),v=0,_=i.length;v<_;++v)Hn(P,i[v],t,n)}var $e=m(254),_i=m(5012),mi=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),zn=function(P){function s(t){var n=P.call(this,t)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=(0,l.lJ)(),n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.clipping=!0,n}return mi(s,P),s.prototype.useContainer=function(t,n,i){i<1&&(t=null),P.prototype.useContainer.call(this,t,n,i)},s.prototype.renderFrame=function(t,n){var i=t.pixelRatio,v=t.layerStatesArray[t.layerIndex];(0,Yt.n3)(this.pixelTransform,1/i,1/i),(0,Yt.nb)(this.inversePixelTransform,this.pixelTransform);var _=(0,Yt.BB)(this.pixelTransform);this.useContainer(n,_,v.opacity);var R=this.context,M=R.canvas,F=this.replayGroup_;if(!F||F.isEmpty())return!this.containerReused&&M.width>0&&(M.width=0),this.container;var tt=Math.round(t.size[0]*i),z=Math.round(t.size[1]*i);M.width!=tt||M.height!=z?(M.width=tt,M.height=z,M.style.transform!==_&&(M.style.transform=_)):this.containerReused||R.clearRect(0,0,tt,z),this.preRender(R,t);var it=t.extent,_t=t.viewState,gt=_t.center,Dt=_t.resolution,Pt=_t.projection,Lt=_t.rotation,Rt=Pt.getExtent(),Mt=this.getLayer().getSource(),At=!1;if(v.extent&&this.clipping){var kt=(0,$e.dY)(v.extent,Pt);(At=!(0,l.r4)(kt,t.extent)&&(0,l.kK)(kt,t.extent))&&this.clipUnrotated(R,t,kt)}var ie=t.viewHints,Vt=!(ie[Xe.Z.ANIMATING]||ie[Xe.Z.INTERACTING]),qt=this.getRenderTransform(gt,Dt,Lt,i,tt,z,0),Jt=this.getLayer().getDeclutter()?{}:null;if(F.execute(R,1,qt,Lt,Vt,void 0,Jt),Mt.getWrapX()&&Pt.canWrapX()&&!(0,l.r4)(Rt,it)){for(var ee=it[0],Ft=(0,l.dz)(Rt),ne=0;ee<Rt[0];){--ne;var ve=this.getRenderTransform(gt,Dt,Lt,i,tt,z,Ft*ne);F.execute(R,1,ve,Lt,Vt,void 0,Jt),ee+=Ft}for(ne=0,ee=it[2];ee>Rt[2];){++ne;var le=this.getRenderTransform(gt,Dt,Lt,i,tt,z,Ft*ne);F.execute(R,1,le,Lt,Vt,void 0,Jt),ee-=Ft}}if(Jt){var de=t.viewHints;!function Vn(P,s,t,n,i,v){for(var _=Object.keys(P).map(Number).sort(h.kK),R=0,M=_.length;R<M;++R)for(var F=P[_[R].toString()],tt=void 0,z=0,it=F.length;z<it;){var _t=F[z++],gt=F[z++];_t.execute(s,1,gt,t,i),_t!==tt&&_t.declutterItems.length>0&&(tt=_t,v.push({items:_t.declutterItems,opacity:n}))}}(Jt,R,Lt,1,!(de[Xe.Z.ANIMATING]||de[Xe.Z.INTERACTING]),t.declutterItems)}At&&R.restore(),this.postRender(R,t);var Te=v.opacity,xe=this.container;return Te!==parseFloat(xe.style.opacity)&&(xe.style.opacity=1===Te?"":String(Te)),this.renderedRotation_!==_t.rotation&&(this.renderedRotation_=_t.rotation,this.hitDetectionImageData_=null),this.container},s.prototype.getFeatures=function(t){return new Promise(function(n,i){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var v=[this.context.canvas.width,this.context.canvas.height];(0,Yt.nn)(this.pixelTransform,v);var _=this.renderedCenter_,R=this.renderedResolution_,M=this.renderedRotation_,F=this.renderedProjection_,tt=this.renderedExtent_,z=this.getLayer(),it=[],_t=v[0]/2,gt=v[1]/2;it.push(this.getRenderTransform(_,R,M,.5,_t,gt,0).slice());var Dt=z.getSource(),Pt=F.getExtent();if(Dt.getWrapX()&&F.canWrapX()&&!(0,l.r4)(Pt,tt)){for(var Lt=tt[0],Rt=(0,l.dz)(Pt),Mt=0;Lt<Pt[0];)--Mt,it.push(this.getRenderTransform(_,R,M,.5,_t,gt,Rt*Mt).slice()),Lt+=Rt;for(Mt=0,Lt=tt[2];Lt>Pt[2];)++Mt,it.push(this.getRenderTransform(_,R,M,.5,_t,gt,Rt*Mt).slice()),Lt-=Rt}this.hitDetectionImageData_=function Ve(P,s,t,n,i,v,_){var F=(0,Se.E4)(P[0]/2,P[1]/2);F.imageSmoothingEnabled=!1;for(var tt=F.canvas,z=new re(F,.5,i,null,_),it=t.length,_t=Math.floor(16777215/it),gt={},Dt=1;Dt<=it;++Dt){var Pt=t[Dt-1],Lt=Pt.getStyleFunction()||n;if(n){var Rt=Lt(Pt,v);if(Rt){Array.isArray(Rt)||(Rt=[Rt]);for(var At="#"+("000000"+(Dt*_t).toString(16)).slice(-6),kt=0,ie=Rt.length;kt<ie;++kt){var Vt=Rt[kt],qt=Vt.clone(),Jt=qt.getFill();Jt&&Jt.setColor(At);var ee=qt.getStroke();ee&&ee.setColor(At),qt.setText(void 0);var Ft=Vt.getImage();if(Ft){var ne=Ft.getImageSize();if(!ne)continue;var _e=document.createElement("canvas");_e.width=ne[0],_e.height=ne[1];var ve=_e.getContext("2d",{alpha:!1});ve.fillStyle=At;var le=ve.canvas;ve.fillRect(0,0,le.width,le.height),(0,Se.E4)(ne?ne[0]:le.width,ne?ne[1]:le.height).drawImage(le,0,0),qt.setImage(new _n({img:le,imgSize:ne,anchor:Ft.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:Ft.getOrigin(),size:Ft.getSize(),opacity:Ft.getOpacity(),scale:Ft.getScale(),rotation:Ft.getRotation(),rotateWithView:Ft.getRotateWithView()}))}var xe=Number(qt.getZIndex());(ue=gt[xe])||(gt[xe]=ue={},ue[y.Z.POLYGON]=[],ue[y.Z.CIRCLE]=[],ue[y.Z.LINE_STRING]=[],ue[y.Z.POINT]=[]);var Pe=qt.getGeometryFunction()(Pt);Pe&&(0,l.kK)(i,Pe.getExtent())&&ue[Pe.getType().replace("Multi","")].push(Pe,qt)}}}}for(var bt=Object.keys(gt).map(Number).sort(h.kK),Pn=(Dt=0,bt.length);Dt<Pn;++Dt){var ue=gt[bt[Dt]];for(var qe in ue){var He=ue[qe];for(kt=0,ie=He.length;kt<ie;kt+=2){z.setStyle(He[kt+1]);for(var tn=0,Rn=s.length;tn<Rn;++tn)z.setTransform(s[tn]),z.drawGeometry(He[kt])}}}return F.getImageData(0,0,tt.width,tt.height)}(v,it,this.renderedFeatures_,z.getStyleFunction(),tt,R,M)}n(function mn(P,s,t){var n=[];if(t){var i=4*(Math.round(P[0]/2)+Math.round(P[1]/2)*t.width),M=t.data[i+2]+256*(t.data[i+1]+256*t.data[i]),F=Math.floor(16777215/s.length);M&&M%F==0&&n.push(s[M/F-1])}return n}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},s.prototype.forEachFeatureAtCoordinate=function(t,n,i,v,_){if(this.replayGroup_){var R=n.viewState.resolution,M=n.viewState.rotation,F=this.getLayer(),tt={};return this.replayGroup_.forEachFeatureAtCoordinate(t,R,M,i,function(it){var _t=(0,J.sq)(it);if(!(_t in tt))return tt[_t]=!0,v(it,F)},F.getDeclutter()?_:null)}},s.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},s.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},s.prototype.prepareFrame=function(t){var n=this.getLayer(),i=n.getSource();if(!i)return!1;var v=t.viewHints[Xe.Z.ANIMATING],_=t.viewHints[Xe.Z.INTERACTING],R=n.getUpdateWhileAnimating(),M=n.getUpdateWhileInteracting();if(!this.dirty_&&!R&&v||!M&&_)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var F=t.extent,tt=t.viewState,z=tt.projection,it=tt.resolution,_t=t.pixelRatio,gt=n.getRevision(),Dt=n.getRenderBuffer(),Pt=n.getRenderOrder();void 0===Pt&&(Pt=li);var Lt=tt.center.slice(),Rt=(0,l.f3)(F,Dt*it),Mt=[Rt.slice()],At=z.getExtent();if(i.getWrapX()&&z.canWrapX()&&!(0,l.r4)(At,t.extent)){var kt=(0,l.dz)(At),ie=Math.max((0,l.dz)(Rt)/2,kt);Rt[0]=At[0]-ie,Rt[2]=At[2]+ie,(0,_i.Cf)(Lt,z);var Vt=(0,l.Cf)(Mt[0],z);Vt[0]<At[0]&&Vt[2]<At[2]?Mt.push([Vt[0]+kt,Vt[1],Vt[2]+kt,Vt[3]]):Vt[0]>At[0]&&Vt[2]>At[2]&&Mt.push([Vt[0]-kt,Vt[1],Vt[2]-kt,Vt[3]])}if(!this.dirty_&&this.renderedResolution_==it&&this.renderedRevision_==gt&&this.renderedRenderOrder_==Pt&&(0,l.r4)(this.renderedExtent_,Rt))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var ee,qt=new wt(wn(it,_t),Rt,it,_t,n.getDeclutter()),Jt=(0,$e.Cs)();if(Jt){for(var Ft=0,ne=Mt.length;Ft<ne;++Ft)i.loadFeatures((0,$e.Fj)(Mt[Ft],z),it,Jt);ee=(0,$e.WO)(Jt,z)}else for(Ft=0,ne=Mt.length;Ft<ne;++Ft)i.loadFeatures(Mt[Ft],it,z);var _e=function Fi(P,s){var t=wn(P,s);return t*t}(it,_t),ve=function(xe){var ue,Pe=xe.getStyleFunction()||n.getStyleFunction();if(Pe&&(ue=Pe(xe,it)),ue){var bt=this.renderFeature(xe,_e,ue,qt,ee);this.dirty_=this.dirty_||bt}}.bind(this),le=(0,$e.Fj)(Rt,z),de=i.getFeaturesInExtent(le);for(Pt&&de.sort(Pt),Ft=0,ne=de.length;Ft<ne;++Ft)ve(de[Ft]);this.renderedFeatures_=de;var we=qt.finish(),Te=new cn(Rt,it,_t,i.getOverlaps(),we,n.getRenderBuffer());return this.renderedResolution_=it,this.renderedRevision_=gt,this.renderedRenderOrder_=Pt,this.renderedExtent_=Rt,this.renderedCenter_=Lt,this.renderedProjection_=z,this.replayGroup_=Te,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},s.prototype.renderFeature=function(t,n,i,v,_){if(!i)return!1;var R=!1;if(Array.isArray(i))for(var M=0,F=i.length;M<F;++M)R=Kn(v,t,i[M],n,this.boundHandleStyleImageChange_,_)||R;else R=Kn(v,t,i,n,this.boundHandleStyleImageChange_,_);return R},s}(rt);const yi=zn;var xi=function(){var P=function(s,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var v in i)i.hasOwnProperty(v)&&(n[v]=i[v])})(s,t)};return function(s,t){function n(){this.constructor=s}P(s,t),s.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ei=function(P){function s(t){return P.call(this,t)||this}return xi(s,P),s.prototype.createRenderer=function(){return new yi(this)},s}(X);const Ti=Ei},254:(jt,yt,m)=>{"use strict";m.d(yt,{Wm:()=>o.W,UQ:()=>w,Vs:()=>ae,dY:()=>Yt,U2:()=>dt,Ck:()=>Ht,WO:()=>wt,Cs:()=>Kt,gD:()=>Wt,lO:()=>ge,Fj:()=>se});var o=m(3400),ot=function(){function $(rt){this.code_=rt.code,this.units_=rt.units,this.extent_=void 0!==rt.extent?rt.extent:null,this.worldExtent_=void 0!==rt.worldExtent?rt.worldExtent:null,this.axisOrientation_=void 0!==rt.axisOrientation?rt.axisOrientation:"enu",this.global_=void 0!==rt.global&&rt.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=rt.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=rt.metersPerUnit}return $.prototype.canWrapX=function(){return this.canWrapX_},$.prototype.getCode=function(){return this.code_},$.prototype.getExtent=function(){return this.extent_},$.prototype.getUnits=function(){return this.units_},$.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||o.W[this.units_]},$.prototype.getWorldExtent=function(){return this.worldExtent_},$.prototype.getAxisOrientation=function(){return this.axisOrientation_},$.prototype.isGlobal=function(){return this.global_},$.prototype.setGlobal=function(rt){this.global_=rt,this.canWrapX_=!(!rt||!this.extent_)},$.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},$.prototype.setDefaultTileGrid=function(rt){this.defaultTileGrid_=rt},$.prototype.setExtent=function(rt){this.extent_=rt,this.canWrapX_=!(!this.global_||!rt)},$.prototype.setWorldExtent=function(rt){this.worldExtent_=rt},$.prototype.setGetPointResolution=function(rt){this.getPointResolutionFunc_=rt},$.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},$}();const D=ot;var $,at=m(6581),nt=($=function(rt,lt){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xt,Ct){xt.__proto__=Ct}||function(xt,Ct){for(var Xt in Ct)Ct.hasOwnProperty(Xt)&&(xt[Xt]=Ct[Xt])})(rt,lt)},function(rt,lt){function xt(){this.constructor=rt}$(rt,lt),rt.prototype=null===lt?Object.create(lt):(xt.prototype=lt.prototype,new xt)}),U=6378137,X=Math.PI*U,Y=[-X,-X,X,X],N=[-180,-85,180,85],O=function($){function rt(lt){return $.call(this,{code:lt,units:o.Z.METERS,extent:Y,global:!0,worldExtent:N,getPointResolution:function(xt,Ct){return xt/(0,at.f9)(Ct[1]/U)}})||this}return nt(rt,$),rt}(D),g=[new O("EPSG:3857"),new O("EPSG:102100"),new O("EPSG:102113"),new O("EPSG:900913"),new O("urn:ogc:def:crs:EPSG:6.18:3:3857"),new O("urn:ogc:def:crs:EPSG::3857"),new O("http://www.opengis.net/gml/srs/epsg.xml#3857")];function f($,rt,lt){var xt=$.length,Ct=lt>1?lt:2,Xt=rt;void 0===Xt&&(Xt=Ct>2?$.slice():new Array(xt));for(var $t=X,te=0;te<xt;te+=Ct){Xt[te]=$t*$[te]/180;var pe=U*Math.log(Math.tan(Math.PI*(+$[te+1]+90)/360));pe>$t?pe=$t:pe<-$t&&(pe=-$t),Xt[te+1]=pe}return Xt}function c($,rt,lt){var xt=$.length,Ct=lt>1?lt:2,Xt=rt;void 0===Xt&&(Xt=Ct>2?$.slice():new Array(xt));for(var $t=0;$t<xt;$t+=Ct)Xt[$t]=180*$[$t]/X,Xt[$t+1]=360*Math.atan(Math.exp($[$t+1]/U))/Math.PI-90;return Xt}var y=function(){var $=function(rt,lt){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xt,Ct){xt.__proto__=Ct}||function(xt,Ct){for(var Xt in Ct)Ct.hasOwnProperty(Xt)&&(xt[Xt]=Ct[Xt])})(rt,lt)};return function(rt,lt){function xt(){this.constructor=rt}$(rt,lt),rt.prototype=null===lt?Object.create(lt):(xt.prototype=lt.prototype,new xt)}}(),j=[-180,-90,180,90],et=6378137*Math.PI/180,T=function($){function rt(lt,xt){return $.call(this,{code:lt,units:o.Z.DEGREES,extent:j,axisOrientation:xt,global:!0,metersPerUnit:et,worldExtent:j})||this}return y(rt,$),rt}(D),l=[new T("CRS:84"),new T("EPSG:4326","neu"),new T("urn:ogc:def:crs:EPSG::4326","neu"),new T("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new T("urn:ogc:def:crs:OGC:1.3:CRS84"),new T("urn:ogc:def:crs:OGC:2:84"),new T("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new T("urn:x-ogc:def:crs:EPSG:4326","neu")],a={},G={};function ft($,rt,lt){var xt=$.getCode(),Ct=rt.getCode();xt in G||(G[xt]={}),G[xt][Ct]=lt}m(3303);function Nt($,rt,lt){var xt;if(void 0!==rt){for(var Ct=0,Xt=$.length;Ct<Xt;++Ct)rt[Ct]=$[Ct];xt=rt}else xt=$.slice();return xt}function Wt($,rt,lt){if(void 0!==rt&&$!==rt){for(var xt=0,Ct=$.length;xt<Ct;++xt)rt[xt]=$[xt];$=rt}return $}function Qt($){(function C($,rt){a[$]=rt})($.getCode(),$),ft($,$,Nt)}function dt($){return"string"==typeof $?function d($){return a[$]||null}($):$||null}function pt($){(function Ee($){$.forEach(Qt)})($),$.forEach(function(rt){$.forEach(function(lt){rt!==lt&&ft(rt,lt,Nt)})})}function w($,rt){return $?"string"==typeof $?dt($):$:dt(rt)}function wt($,rt){var Ct=function Tt($,rt){var lt;return $ in G&&rt in G[$]&&(lt=G[$][rt]),lt}($.getCode(),rt.getCode());return Ct||(Ct=Wt),Ct}function Ht($,rt){return wt(dt($),dt(rt))}var V=null;function Kt(){return V}function ge($,rt){return $}function ae($,rt){return $}function se($,rt){return $}function Yt($,rt){return $}!function Le(){pt(g),pt(l),function J($,rt,lt,xt){$.forEach(function(Ct){rt.forEach(function(Xt){ft(Ct,Xt,lt),ft(Xt,Ct,xt)})})}(l,g,f,c)}()},3400:(jt,yt,m)=>{"use strict";m.d(yt,{W:()=>ot,Z:()=>D});var o={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},ot={};ot[o.DEGREES]=2*Math.PI*6370997/360,ot[o.FEET]=.3048,ot[o.METERS]=1,ot[o.USFEET]=1200/3937;const D=o},8968:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>o});const o={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},1596:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>o});const o={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},5285:(jt,yt,m)=>{"use strict";m.d(yt,{Z:()=>pt});var o=m(6609),ot=m(5194),D=m(6121),at=m(377),nt=m(4700),U=m(4575),X=m.n(U),Y=m(3303),N=m(3865),O=m(8544),g=function(){function J(W){this.rbush_=new(X())(W),this.items_={}}return J.prototype.insert=function(W,w){var A={minX:W[0],minY:W[1],maxX:W[2],maxY:W[3],value:w};this.rbush_.insert(A),this.items_[(0,N.sq)(w)]=A},J.prototype.load=function(W,w){for(var A=new Array(w.length),x=0,H=w.length;x<H;x++){var q=W[x],ct=w[x],wt={minX:q[0],minY:q[1],maxX:q[2],maxY:q[3],value:ct};A[x]=wt,this.items_[(0,N.sq)(ct)]=wt}this.rbush_.load(A)},J.prototype.remove=function(W){var w=(0,N.sq)(W),A=this.items_[w];return delete this.items_[w],null!==this.rbush_.remove(A)},J.prototype.update=function(W,w){var A=this.items_[(0,N.sq)(w)];(0,Y.fS)([A.minX,A.minY,A.maxX,A.maxY],W)||(this.remove(w),this.insert(W,w))},J.prototype.getAll=function(){return this.rbush_.all().map(function(w){return w.value})},J.prototype.getInExtent=function(W){return this.rbush_.search({minX:W[0],minY:W[1],maxX:W[2],maxY:W[3]}).map(function(x){return x.value})},J.prototype.forEach=function(W){return this.forEach_(this.getAll(),W)},J.prototype.forEachInExtent=function(W,w){return this.forEach_(this.getInExtent(W),w)},J.prototype.forEach_=function(W,w){for(var A,x=0,H=W.length;x<H;x++)if(A=w(W[x]))return A;return A},J.prototype.isEmpty=function(){return(0,O.xb)(this.items_)},J.prototype.clear=function(){this.rbush_.clear(),this.items_={}},J.prototype.getExtent=function(W){var w=this.rbush_.toJSON();return(0,Y.T9)(w.minX,w.minY,w.maxX,w.maxY,W)},J.prototype.concat=function(W){for(var w in this.rbush_.load(W.rbush_.all()),W.items_)this.items_[w]=W.items_[w]},J}();const f=g;var J,c=m(6321),y=m(1596),B=m(254),j=(J=function(W,w){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,x){A.__proto__=x}||function(A,x){for(var H in x)x.hasOwnProperty(H)&&(A[H]=x[H])})(W,w)},function(W,w){function A(){this.constructor=W}J(W,w),W.prototype=null===w?Object.create(w):(A.prototype=w.prototype,new A)}),et=function(J){function W(w){var A=J.call(this)||this;return A.projection_=(0,B.U2)(w.projection),A.attributions_=T(w.attributions),A.attributionsCollapsible_=void 0===w.attributionsCollapsible||w.attributionsCollapsible,A.loading=!1,A.state_=void 0!==w.state?w.state:y.Z.READY,A.wrapX_=void 0!==w.wrapX&&w.wrapX,A}return j(W,J),W.prototype.getAttributions=function(){return this.attributions_},W.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},W.prototype.getProjection=function(){return this.projection_},W.prototype.getResolutions=function(){return(0,N.O3)()},W.prototype.getState=function(){return this.state_},W.prototype.getWrapX=function(){return this.wrapX_},W.prototype.getContextOptions=function(){},W.prototype.refresh=function(){this.changed()},W.prototype.setAttributions=function(w){this.attributions_=T(w),this.changed()},W.prototype.setState=function(w){this.state_=w,this.changed()},W}(c.ZP);function T(J){return J?Array.isArray(J)?function(W){return J}:"function"==typeof J?J:function(W){return[J]}:null}const l=et;var h=m(6117);function d(J,W){return[[-1/0,-1/0,1/0,1/0]]}var Q=m(5414),ft=m(6991),vt=m(4061);function Wt(J,W){return function Nt(J,W,w,A){return function(x,H,q){var ct=new XMLHttpRequest;ct.open("GET","function"==typeof J?J(x,H,q):J,!0),"arraybuffer"==W.getType()&&(ct.responseType="arraybuffer"),ct.withCredentials=false,ct.onload=function(wt){if(!ct.status||ct.status>=200&&ct.status<300){var Ht=W.getType(),Ut=void 0;"json"==Ht||"text"==Ht?Ut=ct.responseText:"xml"==Ht?(Ut=ct.responseXML)||(Ut=(new DOMParser).parseFromString(ct.responseText,"application/xml")):"arraybuffer"==Ht&&(Ut=ct.response),Ut?w.call(this,W.readFeatures(Ut,{extent:x,featureProjection:q}),W.readProjection(Ut)):A.call(this)}else A.call(this)}.bind(this),ct.onerror=function(){A.call(this)}.bind(this),ct.send()}}(J,W,function(w,A){"function"==typeof this.addFeatures&&this.addFeatures(w)},h.Zn)}var Ee=function(){var J=function(W,w){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,x){A.__proto__=x}||function(A,x){for(var H in x)x.hasOwnProperty(H)&&(A[H]=x[H])})(W,w)};return function(W,w){function A(){this.constructor=W}J(W,w),W.prototype=null===w?Object.create(w):(A.prototype=w.prototype,new A)}}(),dt=function(J){function W(w,A){var x=J.call(this,w)||this;return x.feature=A,x}return Ee(W,J),W}(D.ZP),Et=function(J){function W(w){var A=this,x=w||{};(A=J.call(this,{attributions:x.attributions,projection:void 0,state:y.Z.READY,wrapX:void 0===x.wrapX||x.wrapX})||this).loader_=h.Zn,A.format_=x.format,A.overlaps_=void 0===x.overlaps||x.overlaps,A.url_=x.url,void 0!==x.loader?A.loader_=x.loader:void 0!==A.url_&&((0,Q.h)(A.format_,7),A.loader_=Wt(A.url_,A.format_)),A.strategy_=void 0!==x.strategy?x.strategy:d;var q,ct,H=void 0===x.useSpatialIndex||x.useSpatialIndex;return A.featuresRtree_=H?new f:null,A.loadedExtentsRtree_=new f,A.nullGeometryFeatures_={},A.idIndex_={},A.uidIndex_={},A.featureChangeKeys_={},A.featuresCollection_=null,Array.isArray(x.features)?ct=x.features:x.features&&(ct=(q=x.features).getArray()),!H&&void 0===q&&(q=new o.Z(ct)),void 0!==ct&&A.addFeaturesInternal(ct),void 0!==q&&A.bindFeaturesCollection_(q),A}return Ee(W,J),W.prototype.addFeature=function(w){this.addFeatureInternal(w),this.changed()},W.prototype.addFeatureInternal=function(w){var A=(0,N.sq)(w);if(this.addToIndex_(A,w)){this.setupChangeEvents_(A,w);var x=w.getGeometry();if(x){var H=x.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(H,w)}else this.nullGeometryFeatures_[A]=w;this.dispatchEvent(new dt("addfeature",w))}else this.featuresCollection_&&this.featuresCollection_.remove(w)},W.prototype.setupChangeEvents_=function(w,A){this.featureChangeKeys_[w]=[(0,vt.oL)(A,at.Z.CHANGE,this.handleFeatureChange_,this),(0,vt.oL)(A,nt.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]},W.prototype.addToIndex_=function(w,A){var x=!0,H=A.getId();return void 0!==H&&(H.toString()in this.idIndex_?x=!1:this.idIndex_[H.toString()]=A),x&&((0,Q.h)(!(w in this.uidIndex_),30),this.uidIndex_[w]=A),x},W.prototype.addFeatures=function(w){this.addFeaturesInternal(w),this.changed()},W.prototype.addFeaturesInternal=function(w){for(var A=[],x=[],H=[],q=0,ct=w.length;q<ct;q++){var Ht=(0,N.sq)(wt=w[q]);this.addToIndex_(Ht,wt)&&x.push(wt)}q=0;for(var Ut=x.length;q<Ut;q++){var wt;Ht=(0,N.sq)(wt=x[q]),this.setupChangeEvents_(Ht,wt);var Ce=wt.getGeometry();if(Ce){var L=Ce.getExtent();A.push(L),H.push(wt)}else this.nullGeometryFeatures_[Ht]=wt}this.featuresRtree_&&this.featuresRtree_.load(A,H),q=0;for(var V=x.length;q<V;q++)this.dispatchEvent(new dt("addfeature",x[q]))},W.prototype.bindFeaturesCollection_=function(w){var A=!1;this.addEventListener("addfeature",function(x){A||(A=!0,w.push(x.feature),A=!1)}),this.addEventListener("removefeature",function(x){A||(A=!0,w.remove(x.feature),A=!1)}),w.addEventListener(ot.Z.ADD,function(x){A||(A=!0,this.addFeature(x.element),A=!1)}.bind(this)),w.addEventListener(ot.Z.REMOVE,function(x){A||(A=!0,this.removeFeature(x.element),A=!1)}.bind(this)),this.featuresCollection_=w},W.prototype.clear=function(w){if(w){for(var A in this.featureChangeKeys_)this.featureChangeKeys_[A].forEach(vt.bN);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var H in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[H]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var q=new dt("clear");this.dispatchEvent(q),this.changed()},W.prototype.forEachFeature=function(w){if(this.featuresRtree_)return this.featuresRtree_.forEach(w);this.featuresCollection_&&this.featuresCollection_.forEach(w)},W.prototype.forEachFeatureAtCoordinateDirect=function(w,A){return this.forEachFeatureInExtent([w[0],w[1],w[0],w[1]],function(H){if(H.getGeometry().intersectsCoordinate(w))return A(H)})},W.prototype.forEachFeatureInExtent=function(w,A){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(w,A);this.featuresCollection_&&this.featuresCollection_.forEach(A)},W.prototype.forEachFeatureIntersectingExtent=function(w,A){return this.forEachFeatureInExtent(w,function(x){if(x.getGeometry().intersectsExtent(w)){var q=A(x);if(q)return q}})},W.prototype.getFeaturesCollection=function(){return this.featuresCollection_},W.prototype.getFeatures=function(){var w;return this.featuresCollection_?w=this.featuresCollection_.getArray():this.featuresRtree_&&(w=this.featuresRtree_.getAll(),(0,O.xb)(this.nullGeometryFeatures_)||(0,ft.l7)(w,(0,O.KX)(this.nullGeometryFeatures_))),w},W.prototype.getFeaturesAtCoordinate=function(w){var A=[];return this.forEachFeatureAtCoordinateDirect(w,function(x){A.push(x)}),A},W.prototype.getFeaturesInExtent=function(w){return this.featuresRtree_?this.featuresRtree_.getInExtent(w):this.featuresCollection_?this.featuresCollection_.getArray():[]},W.prototype.getClosestFeatureToCoordinate=function(w,A){var x=w[0],H=w[1],q=null,ct=[NaN,NaN],wt=1/0,Ht=[-1/0,-1/0,1/0,1/0],Ut=A||h.uX;return this.featuresRtree_.forEachInExtent(Ht,function(Ce){if(Ut(Ce)){var L=Ce.getGeometry(),V=wt;if((wt=L.closestPointXY(x,H,ct,wt))<V){q=Ce;var ht=Math.sqrt(wt);Ht[0]=x-ht,Ht[1]=H-ht,Ht[2]=x+ht,Ht[3]=H+ht}}}),q},W.prototype.getExtent=function(w){return this.featuresRtree_.getExtent(w)},W.prototype.getFeatureById=function(w){var A=this.idIndex_[w.toString()];return void 0!==A?A:null},W.prototype.getFeatureByUid=function(w){var A=this.uidIndex_[w];return void 0!==A?A:null},W.prototype.getFormat=function(){return this.format_},W.prototype.getOverlaps=function(){return this.overlaps_},W.prototype.getUrl=function(){return this.url_},W.prototype.handleFeatureChange_=function(w){var A=w.target,x=(0,N.sq)(A),H=A.getGeometry();if(H){var q=H.getExtent();x in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[x],this.featuresRtree_&&this.featuresRtree_.insert(q,A)):this.featuresRtree_&&this.featuresRtree_.update(q,A)}else x in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(A),this.nullGeometryFeatures_[x]=A);var ct=A.getId();if(void 0!==ct){var wt=ct.toString();this.idIndex_[wt]!==A&&(this.removeFromIdIndex_(A),this.idIndex_[wt]=A)}else this.removeFromIdIndex_(A),this.uidIndex_[x]=A;this.changed(),this.dispatchEvent(new dt("changefeature",A))},W.prototype.hasFeature=function(w){var A=w.getId();return void 0!==A?A in this.idIndex_:(0,N.sq)(w)in this.uidIndex_},W.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,O.xb)(this.nullGeometryFeatures_)},W.prototype.loadFeatures=function(w,A,x){var H=this.loadedExtentsRtree_,q=this.strategy_(w,A);this.loading=!1;for(var ct=function(Ce,L){var V=q[Ce];H.forEachInExtent(V,function(It){return(0,Y.r4)(It.extent,V)})||(wt.loader_.call(wt,V,A,x),H.insert(V,{extent:V.slice()}),wt.loading=wt.loader_!==h.Zn)},wt=this,Ht=0,Ut=q.length;Ht<Ut;++Ht)ct(Ht)},W.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),J.prototype.refresh.call(this)},W.prototype.removeLoadedExtent=function(w){var x,A=this.loadedExtentsRtree_;A.forEachInExtent(w,function(H){if((0,Y.fS)(H.extent,w))return x=H,!0}),x&&A.remove(x)},W.prototype.removeFeature=function(w){var A=(0,N.sq)(w);A in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[A]:this.featuresRtree_&&this.featuresRtree_.remove(w),this.removeFeatureInternal(w),this.changed()},W.prototype.removeFeatureInternal=function(w){var A=(0,N.sq)(w);this.featureChangeKeys_[A].forEach(vt.bN),delete this.featureChangeKeys_[A];var x=w.getId();void 0!==x&&delete this.idIndex_[x.toString()],delete this.uidIndex_[A],this.dispatchEvent(new dt("removefeature",w))},W.prototype.removeFromIdIndex_=function(w){var A=!1;for(var x in this.idIndex_)if(this.idIndex_[x]===w){delete this.idIndex_[x],A=!0;break}return A},W.prototype.setLoader=function(w){this.loader_=w},W.prototype.setUrl=function(w){(0,Q.h)(this.format_,7),this.setLoader(Wt(w,this.format_))},W}(l);const pt=Et},9500:(jt,yt,m)=>{"use strict";m.d(yt,{J$:()=>X,yF:()=>N,Ly:()=>O,ZP:()=>f});var o=m(2933),ot=m(5789),D=m(881),at=m(7039),nt=m(5414),U=function(){function c(y){var B=y||{};this.geometry_=null,this.geometryFunction_=g,void 0!==B.geometry&&this.setGeometry(B.geometry),this.fill_=void 0!==B.fill?B.fill:null,this.image_=void 0!==B.image?B.image:null,this.renderer_=void 0!==B.renderer?B.renderer:null,this.stroke_=void 0!==B.stroke?B.stroke:null,this.text_=void 0!==B.text?B.text:null,this.zIndex_=B.zIndex}return c.prototype.clone=function(){var y=this.getGeometry();return y&&"object"==typeof y&&(y=y.clone()),new c({geometry:y,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},c.prototype.getRenderer=function(){return this.renderer_},c.prototype.setRenderer=function(y){this.renderer_=y},c.prototype.getGeometry=function(){return this.geometry_},c.prototype.getGeometryFunction=function(){return this.geometryFunction_},c.prototype.getFill=function(){return this.fill_},c.prototype.setFill=function(y){this.fill_=y},c.prototype.getImage=function(){return this.image_},c.prototype.setImage=function(y){this.image_=y},c.prototype.getStroke=function(){return this.stroke_},c.prototype.setStroke=function(y){this.stroke_=y},c.prototype.getText=function(){return this.text_},c.prototype.setText=function(y){this.text_=y},c.prototype.getZIndex=function(){return this.zIndex_},c.prototype.setGeometry=function(y){"function"==typeof y?this.geometryFunction_=y:"string"==typeof y?this.geometryFunction_=function(B){return B.get(y)}:y?void 0!==y&&(this.geometryFunction_=function(){return y}):this.geometryFunction_=g,this.geometry_=y},c.prototype.setZIndex=function(y){this.zIndex_=y},c}();function X(c){var y,B;"function"==typeof c?y=c:(Array.isArray(c)?B=c:((0,nt.h)("function"==typeof c.getZIndex,41),B=[c]),y=function(){return B});return y}var Y=null;function N(c,y){if(!Y){var B=new ot.Z({color:"rgba(255,255,255,0.4)"}),j=new at.Z({color:"#3399CC",width:1.25});Y=[new U({image:new o.Z({fill:B,stroke:j,radius:5}),fill:B,stroke:j})]}return Y}function O(){var c={},y=[255,255,255,1],B=[0,153,255,1];return c[D.Z.POLYGON]=[new U({fill:new ot.Z({color:[255,255,255,.5]})})],c[D.Z.MULTI_POLYGON]=c[D.Z.POLYGON],c[D.Z.LINE_STRING]=[new U({stroke:new at.Z({color:y,width:5})}),new U({stroke:new at.Z({color:B,width:3})})],c[D.Z.MULTI_LINE_STRING]=c[D.Z.LINE_STRING],c[D.Z.CIRCLE]=c[D.Z.POLYGON].concat(c[D.Z.LINE_STRING]),c[D.Z.POINT]=[new U({image:new o.Z({radius:6,fill:new ot.Z({color:B}),stroke:new at.Z({color:y,width:1.5})}),zIndex:1/0})],c[D.Z.MULTI_POINT]=c[D.Z.POINT],c[D.Z.GEOMETRY_COLLECTION]=c[D.Z.POLYGON].concat(c[D.Z.LINE_STRING],c[D.Z.POINT]),c}function g(c){return c.getGeometry()}const f=U},3232:(jt,yt,m)=>{"use strict";m.d(yt,{Ue:()=>D,lk:()=>X,nn:()=>Y,n3:()=>g,qC:()=>c,nb:()=>j,BB:()=>T});var o=m(5414);function D(){return[1,0,0,1,0,0]}function X(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5],l}function Y(l,a){var h=a[0],d=a[1];return a[0]=l[0]*h+l[2]*d+l[4],a[1]=l[1]*h+l[3]*d+l[5],a}function g(l,a,h){return function U(l,a,h,d,C,G,Q){return l[0]=a,l[1]=h,l[2]=d,l[3]=C,l[4]=G,l[5]=Q,l}(l,a,0,0,h,0,0)}function c(l,a,h,d,C,G,Q,ft){var vt=Math.sin(G),Tt=Math.cos(G);return l[0]=d*Tt,l[1]=C*vt,l[2]=-d*vt,l[3]=C*Tt,l[4]=Q*d*Tt-ft*d*vt+a,l[5]=Q*C*vt+ft*C*Tt+h,l}function j(l,a){var h=function et(l){return l[0]*l[3]-l[1]*l[2]}(a);(0,o.h)(0!==h,32);var d=a[0],C=a[1],G=a[2],Q=a[3],ft=a[4],vt=a[5];return l[0]=Q/h,l[1]=-C/h,l[2]=-G/h,l[3]=d/h,l[4]=(G*vt-Q*ft)/h,l[5]=-(d*vt-C*ft)/h,l}function T(l){return"matrix("+l.join(", ")+")"}new Array(6)},4575:function(jt){jt.exports=function(){"use strict";function yt(T,l,a,h,d){m(T,l,a||0,h||T.length-1,d||ot)}function m(T,l,a,h,d){for(;h>a;){if(h-a>600){var C=h-a+1,G=l-a+1,Q=Math.log(C),ft=.5*Math.exp(2*Q/3),vt=.5*Math.sqrt(Q*ft*(C-ft)/C)*(G-C/2<0?-1:1);m(T,l,Math.max(a,Math.floor(l-G*ft/C+vt)),Math.min(h,Math.floor(l+(C-G)*ft/C+vt)),d)}var Nt=T[l],Wt=a,Qt=h;for(o(T,a,l),d(T[h],Nt)>0&&o(T,a,h);Wt<Qt;){for(o(T,Wt,Qt),Wt++,Qt--;d(T[Wt],Nt)<0;)Wt++;for(;d(T[Qt],Nt)>0;)Qt--}0===d(T[a],Nt)?o(T,a,Qt):o(T,++Qt,h),Qt<=l&&(a=Qt+1),l<=Qt&&(h=Qt-1)}}function o(T,l,a){var h=T[l];T[l]=T[a],T[a]=h}function ot(T,l){return T<l?-1:T>l?1:0}var D=function(l){void 0===l&&(l=9),this._maxEntries=Math.max(4,l),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function at(T,l,a){if(!a)return l.indexOf(T);for(var h=0;h<l.length;h++)if(a(T,l[h]))return h;return-1}function nt(T,l){U(T,0,T.children.length,l,T)}function U(T,l,a,h,d){d||(d=j(null)),d.minX=1/0,d.minY=1/0,d.maxX=-1/0,d.maxY=-1/0;for(var C=l;C<a;C++){var G=T.children[C];X(d,T.leaf?h(G):G)}return d}function X(T,l){return T.minX=Math.min(T.minX,l.minX),T.minY=Math.min(T.minY,l.minY),T.maxX=Math.max(T.maxX,l.maxX),T.maxY=Math.max(T.maxY,l.maxY),T}function Y(T,l){return T.minX-l.minX}function N(T,l){return T.minY-l.minY}function O(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function g(T){return T.maxX-T.minX+(T.maxY-T.minY)}function f(T,l){return(Math.max(l.maxX,T.maxX)-Math.min(l.minX,T.minX))*(Math.max(l.maxY,T.maxY)-Math.min(l.minY,T.minY))}function c(T,l){var a=Math.max(T.minX,l.minX),h=Math.max(T.minY,l.minY),d=Math.min(T.maxX,l.maxX),C=Math.min(T.maxY,l.maxY);return Math.max(0,d-a)*Math.max(0,C-h)}function y(T,l){return T.minX<=l.minX&&T.minY<=l.minY&&l.maxX<=T.maxX&&l.maxY<=T.maxY}function B(T,l){return l.minX<=T.maxX&&l.minY<=T.maxY&&l.maxX>=T.minX&&l.maxY>=T.minY}function j(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function et(T,l,a,h,d){for(var C=[l,a];C.length;)if(!((a=C.pop())-(l=C.pop())<=h)){var G=l+Math.ceil((a-l)/h/2)*h;yt(T,G,l,a,d),C.push(l,G,G,a)}}return D.prototype.all=function(){return this._all(this.data,[])},D.prototype.search=function(l){var a=this.data,h=[];if(!B(l,a))return h;for(var d=this.toBBox,C=[];a;){for(var G=0;G<a.children.length;G++){var Q=a.children[G],ft=a.leaf?d(Q):Q;B(l,ft)&&(a.leaf?h.push(Q):y(l,ft)?this._all(Q,h):C.push(Q))}a=C.pop()}return h},D.prototype.collides=function(l){var a=this.data;if(!B(l,a))return!1;for(var h=[];a;){for(var d=0;d<a.children.length;d++){var C=a.children[d],G=a.leaf?this.toBBox(C):C;if(B(l,G)){if(a.leaf||y(l,G))return!0;h.push(C)}}a=h.pop()}return!1},D.prototype.load=function(l){if(!l||!l.length)return this;if(l.length<this._minEntries){for(var a=0;a<l.length;a++)this.insert(l[a]);return this}var h=this._build(l.slice(),0,l.length-1,0);if(this.data.children.length)if(this.data.height===h.height)this._splitRoot(this.data,h);else{if(this.data.height<h.height){var d=this.data;this.data=h,h=d}this._insert(h,this.data.height-h.height-1,!0)}else this.data=h;return this},D.prototype.insert=function(l){return l&&this._insert(l,this.data.height-1),this},D.prototype.clear=function(){return this.data=j([]),this},D.prototype.remove=function(l,a){if(!l)return this;for(var Q,ft,vt,h=this.data,d=this.toBBox(l),C=[],G=[];h||C.length;){if(h||(h=C.pop(),ft=C[C.length-1],Q=G.pop(),vt=!0),h.leaf){var Tt=at(l,h.children,a);if(-1!==Tt)return h.children.splice(Tt,1),C.push(h),this._condense(C),this}vt||h.leaf||!y(h,d)?ft?(Q++,h=ft.children[Q],vt=!1):h=null:(C.push(h),G.push(Q),Q=0,ft=h,h=h.children[0])}return this},D.prototype.toBBox=function(l){return l},D.prototype.compareMinX=function(l,a){return l.minX-a.minX},D.prototype.compareMinY=function(l,a){return l.minY-a.minY},D.prototype.toJSON=function(){return this.data},D.prototype.fromJSON=function(l){return this.data=l,this},D.prototype._all=function(l,a){for(var h=[];l;)l.leaf?a.push.apply(a,l.children):h.push.apply(h,l.children),l=h.pop();return a},D.prototype._build=function(l,a,h,d){var Q,C=h-a+1,G=this._maxEntries;if(C<=G)return nt(Q=j(l.slice(a,h+1)),this.toBBox),Q;d||(d=Math.ceil(Math.log(C)/Math.log(G)),G=Math.ceil(C/Math.pow(G,d-1))),(Q=j([])).leaf=!1,Q.height=d;var ft=Math.ceil(C/G),vt=ft*Math.ceil(Math.sqrt(G));et(l,a,h,vt,this.compareMinX);for(var Tt=a;Tt<=h;Tt+=vt){var St=Math.min(Tt+vt-1,h);et(l,Tt,St,ft,this.compareMinY);for(var Nt=Tt;Nt<=St;Nt+=ft){var Wt=Math.min(Nt+ft-1,St);Q.children.push(this._build(l,Nt,Wt,d-1))}}return nt(Q,this.toBBox),Q},D.prototype._chooseSubtree=function(l,a,h,d){for(;d.push(a),!a.leaf&&d.length-1!==h;){for(var C=1/0,G=1/0,Q=void 0,ft=0;ft<a.children.length;ft++){var vt=a.children[ft],Tt=O(vt),St=f(l,vt)-Tt;St<G?(G=St,C=Tt<C?Tt:C,Q=vt):St===G&&Tt<C&&(C=Tt,Q=vt)}a=Q||a.children[0]}return a},D.prototype._insert=function(l,a,h){var d=h?l:this.toBBox(l),C=[],G=this._chooseSubtree(d,this.data,a,C);for(G.children.push(l),X(G,d);a>=0&&C[a].children.length>this._maxEntries;)this._split(C,a),a--;this._adjustParentBBoxes(d,C,a)},D.prototype._split=function(l,a){var h=l[a],d=h.children.length,C=this._minEntries;this._chooseSplitAxis(h,C,d);var G=this._chooseSplitIndex(h,C,d),Q=j(h.children.splice(G,h.children.length-G));Q.height=h.height,Q.leaf=h.leaf,nt(h,this.toBBox),nt(Q,this.toBBox),a?l[a-1].children.push(Q):this._splitRoot(h,Q)},D.prototype._splitRoot=function(l,a){this.data=j([l,a]),this.data.height=l.height+1,this.data.leaf=!1,nt(this.data,this.toBBox)},D.prototype._chooseSplitIndex=function(l,a,h){for(var d,C=1/0,G=1/0,Q=a;Q<=h-a;Q++){var ft=U(l,0,Q,this.toBBox),vt=U(l,Q,h,this.toBBox),Tt=c(ft,vt),St=O(ft)+O(vt);Tt<C?(C=Tt,d=Q,G=St<G?St:G):Tt===C&&St<G&&(G=St,d=Q)}return d||h-a},D.prototype._chooseSplitAxis=function(l,a,h){var d=l.leaf?this.compareMinX:Y,C=l.leaf?this.compareMinY:N;this._allDistMargin(l,a,h,d)<this._allDistMargin(l,a,h,C)&&l.children.sort(d)},D.prototype._allDistMargin=function(l,a,h,d){l.children.sort(d);for(var C=this.toBBox,G=U(l,0,a,C),Q=U(l,h-a,h,C),ft=g(G)+g(Q),vt=a;vt<h-a;vt++){var Tt=l.children[vt];X(G,l.leaf?C(Tt):Tt),ft+=g(G)}for(var St=h-a-1;St>=a;St--){var Nt=l.children[St];X(Q,l.leaf?C(Nt):Nt),ft+=g(Q)}return ft},D.prototype._adjustParentBBoxes=function(l,a,h){for(var d=h;d>=0;d--)X(a[d],l)},D.prototype._condense=function(l){for(var a=l.length-1,h=void 0;a>=0;a--)0===l[a].children.length?a>0?(h=l[a-1].children).splice(h.indexOf(l[a]),1):this.clear():nt(l[a],this.toBBox)},D}()},4997:(jt,yt,m)=>{"use strict";var ot=m(8139),D=m(9959);ot.Observable.prototype.debounceTime=D.debounceTime},1381:(jt,yt,m)=>{"use strict";var ot=m(8139),D=m(3943);ot.Observable.prototype.distinctUntilChanged=D.distinctUntilChanged},9959:(jt,yt,m)=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});var o=m(8139),ot=m(6636);yt.debounceTime=function D(at,nt){return void 0===nt&&(nt=o.asyncScheduler),ot.debounceTime(at,nt)(this)}},3943:(jt,yt,m)=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});var o=m(6636);yt.distinctUntilChanged=function ot(D,at){return o.distinctUntilChanged(D,at)(this)}},6636:(jt,yt,m)=>{"use strict";m.r(yt),m.d(yt,{audit:()=>o.U,auditTime:()=>ot.e,buffer:()=>at,bufferCount:()=>Y,bufferTime:()=>y,bufferToggle:()=>G,bufferWhen:()=>vt,catchError:()=>Nt.K,combineAll:()=>Qt,combineLatest:()=>pt,concat:()=>W,concatAll:()=>w.u,concatMap:()=>A.b,concatMapTo:()=>x,count:()=>H,debounce:()=>wt.D,debounceTime:()=>Ht,defaultIfEmpty:()=>V.d,delay:()=>ht.g,delayWhen:()=>Kt,dematerialize:()=>Yt,distinct:()=>$,distinctUntilChanged:()=>xt.x,distinctUntilKeyChanged:()=>Ct,elementAt:()=>me,endWith:()=>Ye,every:()=>Ze,exhaust:()=>Ge,exhaustMap:()=>hn,expand:()=>Xn,filter:()=>$t.h,finalize:()=>Xe.x,find:()=>Qe,findIndex:()=>re,first:()=>Re.P,flatMap:()=>fe.VS,groupBy:()=>Ie.v,ignoreElements:()=>In,isEmpty:()=>bn,last:()=>k.Z,map:()=>ke.U,mapTo:()=>S.h,materialize:()=>p,max:()=>Zt,merge:()=>ce,mergeAll:()=>ye.J,mergeMap:()=>fe.zg,mergeMapTo:()=>De,mergeScan:()=>Ke,min:()=>mn,multicast:()=>We.O,observeOn:()=>jn.QV,onErrorResumeNext:()=>li,pairwise:()=>Kn,partition:()=>fi,pluck:()=>di,publish:()=>vi,publishBehavior:()=>$e,publishLast:()=>mi,publishReplay:()=>yi,race:()=>Ei,reduce:()=>Gt,refCount:()=>it.x,repeat:()=>P,repeatWhen:()=>n,retry:()=>_,retryWhen:()=>F,sample:()=>_t,sampleTime:()=>Pt,scan:()=>st.R,sequenceEqual:()=>At,share:()=>qt.B,shareReplay:()=>Jt,single:()=>ne,skip:()=>le,skipLast:()=>Te,skipUntil:()=>Pe,skipWhile:()=>qe,startWith:()=>Rn.O,subscribeOn:()=>Si,switchAll:()=>Mn,switchMap:()=>nn.w,switchMapTo:()=>Ii,take:()=>pe.q,takeLast:()=>mt.h,takeUntil:()=>bi.R,takeWhile:()=>Oi,tap:()=>wi.b,throttle:()=>Nn,throttleTime:()=>An,throwIfEmpty:()=>te.T,timeInterval:()=>Qn,timeout:()=>ti,timeoutWith:()=>Gn,timestamp:()=>ei,toArray:()=>Wn,window:()=>sn,windowCount:()=>ri,windowTime:()=>Ai,windowToggle:()=>si,windowWhen:()=>Ui,withLatestFrom:()=>ki,zip:()=>ji,zipAll:()=>Ki});var o=m(384),ot=m(7568),D=m(1177);function at(E){return function(r){return r.lift(new nt(E))}}class nt{constructor(e){this.closingNotifier=e}call(e,r){return r.subscribe(new U(e,this.closingNotifier))}}class U extends D.Ds{constructor(e,r){super(e),this.buffer=[],this.add((0,D.ft)(r,new D.IY(this)))}_next(e){this.buffer.push(e)}notifyNext(){const e=this.buffer;this.buffer=[],this.destination.next(e)}}var X=m(3489);function Y(E,e=null){return function(I){return I.lift(new N(E,e))}}class N{constructor(e,r){this.bufferSize=e,this.startBufferEvery=r,this.subscriberClass=r&&e!==r?g:O}call(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}class O extends X.L{constructor(e,r){super(e),this.bufferSize=r,this.buffer=[]}_next(e){const r=this.buffer;r.push(e),r.length==this.bufferSize&&(this.destination.next(r),this.buffer=[])}_complete(){const e=this.buffer;e.length>0&&this.destination.next(e),super._complete()}}class g extends X.L{constructor(e,r,I){super(e),this.bufferSize=r,this.startBufferEvery=I,this.buffers=[],this.count=0}_next(e){const{bufferSize:r,startBufferEvery:I,buffers:K,count:ut}=this;this.count++,ut%I==0&&K.push([]);for(let Bt=K.length;Bt--;){const oe=K[Bt];oe.push(e),oe.length===r&&(K.splice(Bt,1),this.destination.next(oe))}}_complete(){const{buffers:e,destination:r}=this;for(;e.length>0;){let I=e.shift();I.length>0&&r.next(I)}super._complete()}}var f=m(353),c=m(2866);function y(E){let e=arguments.length,r=f.P;(0,c.K)(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);let I=null;e>=2&&(I=arguments[1]);let K=Number.POSITIVE_INFINITY;return e>=3&&(K=arguments[2]),function(Bt){return Bt.lift(new B(E,I,K,r))}}class B{constructor(e,r,I,K){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=I,this.scheduler=K}call(e,r){return r.subscribe(new et(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class j{constructor(){this.buffer=[]}}class et extends X.L{constructor(e,r,I,K,ut){super(e),this.bufferTimeSpan=r,this.bufferCreationInterval=I,this.maxBufferSize=K,this.scheduler=ut,this.contexts=[];const Bt=this.openContext();if(this.timespanOnly=null==I||I<0,this.timespanOnly)this.add(Bt.closeAction=ut.schedule(T,r,{subscriber:this,context:Bt,bufferTimeSpan:r}));else{const be={bufferTimeSpan:r,bufferCreationInterval:I,subscriber:this,scheduler:ut};this.add(Bt.closeAction=ut.schedule(a,r,{subscriber:this,context:Bt})),this.add(ut.schedule(l,I,be))}}_next(e){const r=this.contexts,I=r.length;let K;for(let ut=0;ut<I;ut++){const Bt=r[ut],oe=Bt.buffer;oe.push(e),oe.length==this.maxBufferSize&&(K=Bt)}K&&this.onBufferFull(K)}_error(e){this.contexts.length=0,super._error(e)}_complete(){const{contexts:e,destination:r}=this;for(;e.length>0;){const I=e.shift();r.next(I.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(e){this.closeContext(e);const r=e.closeAction;if(r.unsubscribe(),this.remove(r),!this.closed&&this.timespanOnly){e=this.openContext();const I=this.bufferTimeSpan;this.add(e.closeAction=this.scheduler.schedule(T,I,{subscriber:this,context:e,bufferTimeSpan:I}))}}openContext(){const e=new j;return this.contexts.push(e),e}closeContext(e){this.destination.next(e.buffer);const r=this.contexts;(r?r.indexOf(e):-1)>=0&&r.splice(r.indexOf(e),1)}}function T(E){const e=E.subscriber,r=E.context;r&&e.closeContext(r),e.closed||(E.context=e.openContext(),E.context.closeAction=this.schedule(E,E.bufferTimeSpan))}function l(E){const{bufferCreationInterval:e,bufferTimeSpan:r,subscriber:I,scheduler:K}=E,ut=I.openContext();I.closed||(I.add(ut.closeAction=K.schedule(a,r,{subscriber:I,context:ut})),this.schedule(E,e))}function a(E){const{subscriber:e,context:r}=E;e.closeContext(r)}var h=m(4096),d=m(448),C=m(826);function G(E,e){return function(I){return I.lift(new Q(E,e))}}class Q{constructor(e,r){this.openings=e,this.closingSelector=r}call(e,r){return r.subscribe(new ft(e,this.openings,this.closingSelector))}}class ft extends C.L{constructor(e,r,I){super(e),this.closingSelector=I,this.contexts=[],this.add((0,d.D)(this,r))}_next(e){const r=this.contexts,I=r.length;for(let K=0;K<I;K++)r[K].buffer.push(e)}_error(e){const r=this.contexts;for(;r.length>0;){const I=r.shift();I.subscription.unsubscribe(),I.buffer=null,I.subscription=null}this.contexts=null,super._error(e)}_complete(){const e=this.contexts;for(;e.length>0;){const r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,super._complete()}notifyNext(e,r){e?this.closeBuffer(e):this.openBuffer(r)}notifyComplete(e){this.closeBuffer(e.context)}openBuffer(e){try{const I=this.closingSelector.call(this,e);I&&this.trySubscribe(I)}catch(r){this._error(r)}}closeBuffer(e){const r=this.contexts;if(r&&e){const{buffer:I,subscription:K}=e;this.destination.next(I),r.splice(r.indexOf(e),1),this.remove(K),K.unsubscribe()}}trySubscribe(e){const r=this.contexts,K=new h.w,ut={buffer:[],subscription:K};r.push(ut);const Bt=(0,d.D)(this,e,ut);!Bt||Bt.closed?this.closeBuffer(ut):(Bt.context=ut,this.add(Bt),K.add(Bt))}}function vt(E){return function(e){return e.lift(new Tt(E))}}class Tt{constructor(e){this.closingSelector=e}call(e,r){return r.subscribe(new St(e,this.closingSelector))}}class St extends D.Ds{constructor(e,r){super(e),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}_next(e){this.buffer.push(e)}_complete(){const e=this.buffer;e&&this.destination.next(e),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let I,{closingSubscription:e}=this;e&&(this.remove(e),e.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:K}=this;I=K()}catch(K){return this.error(K)}e=new h.w,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add((0,D.ft)(I,new D.IY(this))),this.subscribing=!1}}var Nt=m(7221),Wt=m(6053);function Qt(E){return e=>e.lift(new Wt.Ms(E))}var Ee=m(6688),dt=m(3527);function pt(...E){let e=null;return"function"==typeof E[E.length-1]&&(e=E.pop()),1===E.length&&(0,Ee.k)(E[0])&&(E=E[0].slice()),r=>r.lift.call((0,dt.D)([r,...E]),new Wt.Ms(e))}var J=m(1961);function W(...E){return e=>e.lift.call((0,J.z)(e,...E))}var w=m(534),A=m(1406);function x(E,e){return(0,A.b)(()=>E,e)}function H(E){return e=>e.lift(new q(E,e))}class q{constructor(e,r){this.predicate=e,this.source=r}call(e,r){return r.subscribe(new ct(e,this.predicate,this.source))}}class ct extends X.L{constructor(e,r,I){super(e),this.predicate=r,this.source=I,this.count=0,this.index=0}_next(e){this.predicate?this._tryPredicate(e):this.count++}_tryPredicate(e){let r;try{r=this.predicate(e,this.index++,this.source)}catch(I){return void this.destination.error(I)}r&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}var wt=m(8849);function Ht(E,e=f.P){return r=>r.lift(new Ut(E,e))}class Ut{constructor(e,r){this.dueTime=e,this.scheduler=r}call(e,r){return r.subscribe(new Ce(e,this.dueTime,this.scheduler))}}class Ce extends X.L{constructor(e,r,I){super(e),this.dueTime=r,this.scheduler=I,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(L,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function L(E){E.debouncedNext()}var V=m(7314),ht=m(943),It=m(4202);function Kt(E,e){return e?r=>new ae(r,e).lift(new he(E)):r=>r.lift(new he(E))}class he{constructor(e){this.delayDurationSelector=e}call(e,r){return r.subscribe(new ge(e,this.delayDurationSelector))}}class ge extends C.L{constructor(e,r){super(e),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(e,r,I,K,ut){this.destination.next(e),this.removeSubscription(ut),this.tryComplete()}notifyError(e,r){this._error(e)}notifyComplete(e){const r=this.removeSubscription(e);r&&this.destination.next(r),this.tryComplete()}_next(e){const r=this.index++;try{const I=this.delayDurationSelector(e,r);I&&this.tryDelay(I,e)}catch(I){this.destination.error(I)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(e){e.unsubscribe();const r=this.delayNotifierSubscriptions.indexOf(e);return-1!==r&&this.delayNotifierSubscriptions.splice(r,1),e.outerValue}tryDelay(e,r){const I=(0,d.D)(this,e,r);I&&!I.closed&&(this.destination.add(I),this.delayNotifierSubscriptions.push(I))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class ae extends It.y{constructor(e,r){super(),this.source=e,this.subscriptionDelay=r}_subscribe(e){this.subscriptionDelay.subscribe(new se(e,this.source))}}class se extends X.L{constructor(e,r){super(),this.parent=e,this.source=r,this.sourceSubscribed=!1}_next(e){this.subscribeToSource()}_error(e){this.unsubscribe(),this.parent.error(e)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function Yt(){return function(e){return e.lift(new Se)}}class Se{call(e,r){return r.subscribe(new Le(e))}}class Le extends X.L{constructor(e){super(e)}_next(e){e.observe(this.destination)}}function $(E,e){return r=>r.lift(new rt(E,e))}class rt{constructor(e,r){this.keySelector=e,this.flushes=r}call(e,r){return r.subscribe(new lt(e,this.keySelector,this.flushes))}}class lt extends D.Ds{constructor(e,r,I){super(e),this.keySelector=r,this.values=new Set,I&&this.add((0,D.ft)(I,new D.IY(this)))}notifyNext(){this.values.clear()}notifyError(e){this._error(e)}_next(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)}_useKeySelector(e){let r;const{destination:I}=this;try{r=this.keySelector(e)}catch(K){return void I.error(K)}this._finalizeNext(r,e)}_finalizeNext(e,r){const{values:I}=this;I.has(e)||(I.add(e),this.destination.next(r))}}var xt=m(5778);function Ct(E,e){return(0,xt.x)((r,I)=>e?e(r[E],I[E]):r[E]===I[E])}var Xt=m(4231),$t=m(2198),te=m(4907),pe=m(2986);function me(E,e){if(E<0)throw new Xt.W;const r=arguments.length>=2;return I=>I.pipe((0,$t.h)((K,ut)=>ut===E),(0,pe.q)(1),r?(0,V.d)(e):(0,te.T)(()=>new Xt.W))}var Oe=m(1086);function Ye(...E){return e=>(0,J.z)(e,(0,Oe.of)(...E))}function Ze(E,e){return r=>r.lift(new Ne(E,e,r))}class Ne{constructor(e,r,I){this.predicate=e,this.thisArg=r,this.source=I}call(e,r){return r.subscribe(new Ae(e,this.predicate,this.thisArg,this.source))}}class Ae extends X.L{constructor(e,r,I,K){super(e),this.predicate=r,this.thisArg=I,this.source=K,this.index=0,this.thisArg=I||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let r=!1;try{r=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(I){return void this.destination.error(I)}r||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ge(){return E=>E.lift(new kn)}class kn{call(e,r){return r.subscribe(new Cn(e))}}class Cn extends D.Ds{constructor(e){super(e),this.hasCompleted=!1,this.hasSubscription=!1}_next(e){this.hasSubscription||(this.hasSubscription=!0,this.add((0,D.ft)(e,new D.IY(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var ke=m(4850);function hn(E,e){return e?r=>r.pipe(hn((I,K)=>(0,dt.D)(E(I,K)).pipe((0,ke.U)((ut,Bt)=>e(I,ut,K,Bt))))):r=>r.lift(new un(E))}class un{constructor(e){this.project=e}call(e,r){return r.subscribe(new Ue(e,this.project))}}class Ue extends D.Ds{constructor(e,r){super(e),this.project=r,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(e){this.hasSubscription||this.tryNext(e)}tryNext(e){let r;const I=this.index++;try{r=this.project(e,I)}catch(K){return void this.destination.error(K)}this.hasSubscription=!0,this._innerSub(r)}_innerSub(e){const r=new D.IY(this),I=this.destination;I.add(r);const K=(0,D.ft)(e,r);K!==r&&I.add(K)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Xn(E,e=Number.POSITIVE_INFINITY,r){return e=(e||0)<1?Number.POSITIVE_INFINITY:e,I=>I.lift(new Vn(E,e,r))}class Vn{constructor(e,r,I){this.project=e,this.concurrent=r,this.scheduler=I}call(e,r){return r.subscribe(new cn(e,this.project,this.concurrent,this.scheduler))}}class cn extends D.Ds{constructor(e,r,I,K){super(e),this.project=r,this.concurrent=I,this.scheduler=K,this.index=0,this.active=0,this.hasCompleted=!1,I<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(e){const{subscriber:r,result:I,value:K,index:ut}=e;r.subscribeToProjection(I,K,ut)}_next(e){const r=this.destination;if(r.closed)return void this._complete();const I=this.index++;if(this.active<this.concurrent){r.next(e);try{const{project:K}=this,ut=K(e,I);this.scheduler?this.destination.add(this.scheduler.schedule(cn.dispatch,0,{subscriber:this,result:ut,value:e,index:I})):this.subscribeToProjection(ut,e,I)}catch(K){r.error(K)}}else this.buffer.push(e)}subscribeToProjection(e,r,I){this.active++,this.destination.add((0,D.ft)(e,new D.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this._next(e)}notifyComplete(){const e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Xe=m(537);function Qe(E,e){if("function"!=typeof E)throw new TypeError("predicate is not a function");return r=>r.lift(new fn(E,r,!1,e))}class fn{constructor(e,r,I,K){this.predicate=e,this.source=r,this.yieldIndex=I,this.thisArg=K}call(e,r){return r.subscribe(new dn(e,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class dn extends X.L{constructor(e,r,I,K,ut){super(e),this.predicate=r,this.source=I,this.yieldIndex=K,this.thisArg=ut,this.index=0}notifyComplete(e){const r=this.destination;r.next(e),r.complete(),this.unsubscribe()}_next(e){const{predicate:r,thisArg:I}=this,K=this.index++;try{r.call(I||this,e,K,this.source)&&this.notifyComplete(this.yieldIndex?K:e)}catch(ut){this.destination.error(ut)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function re(E,e){return r=>r.lift(new fn(E,r,!0,e))}var Re=m(7224),Ie=m(4002);function In(){return function(e){return e.lift(new pn)}}class pn{call(e,r){return r.subscribe(new vn(e))}}class vn extends X.L{_next(e){}}function bn(){return E=>E.lift(new On)}class On{call(e,r){return r.subscribe(new gn(e))}}class gn extends X.L{constructor(e){super(e)}notifyComplete(e){const r=this.destination;r.next(e),r.complete()}_next(e){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var k=m(8127),S=m(7604),u=m(9312);function p(){return function(e){return e.lift(new b)}}class b{call(e,r){return r.subscribe(new Z(e))}}class Z extends X.L{constructor(e){super(e)}_next(e){this.destination.next(u.P.createNext(e))}_error(e){const r=this.destination;r.next(u.P.createError(e)),r.complete()}_complete(){const e=this.destination;e.next(u.P.createComplete()),e.complete()}}var st=m(2014),mt=m(2821),Ot=m(4843);function Gt(E,e){return arguments.length>=2?function(I){return(0,Ot.z)((0,st.R)(E,e),(0,mt.h)(1),(0,V.d)(e))(I)}:function(I){return(0,Ot.z)((0,st.R)((K,ut,Bt)=>E(K,ut,Bt+1)),(0,mt.h)(1))(I)}}function Zt(E){return Gt("function"==typeof E?(r,I)=>E(r,I)>0?r:I:(r,I)=>r>I?r:I)}var zt=m(6787);function ce(...E){return e=>e.lift.call((0,zt.T)(e,...E))}var ye=m(9146),fe=m(1709);function De(E,e,r=Number.POSITIVE_INFINITY){return"function"==typeof e?(0,fe.zg)(()=>E,e,r):("number"==typeof e&&(r=e),(0,fe.zg)(()=>E,r))}function Ke(E,e,r=Number.POSITIVE_INFINITY){return I=>I.lift(new _n(E,e,r))}class _n{constructor(e,r,I){this.accumulator=e,this.seed=r,this.concurrent=I}call(e,r){return r.subscribe(new Ve(e,this.accumulator,this.seed,this.concurrent))}}class Ve extends D.Ds{constructor(e,r,I,K){super(e),this.accumulator=r,this.acc=I,this.concurrent=K,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){if(this.active<this.concurrent){const r=this.index++,I=this.destination;let K;try{const{accumulator:ut}=this;K=ut(this.acc,e,r)}catch(ut){return I.error(ut)}this.active++,this._innerSub(K)}else this.buffer.push(e)}_innerSub(e){const r=new D.IY(this),I=this.destination;I.add(r);const K=(0,D.ft)(e,r);K!==r&&I.add(K)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(e){const{destination:r}=this;this.acc=e,this.hasValue=!0,r.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function mn(E){return Gt("function"==typeof E?(r,I)=>E(r,I)<0?r:I:(r,I)=>r<I?r:I)}var We=m(2536),jn=m(7770);function li(...E){return 1===E.length&&(0,Ee.k)(E[0])&&(E=E[0]),e=>e.lift(new wn(E))}class wn{constructor(e){this.nextSources=e}call(e,r){return r.subscribe(new hi(e,this.nextSources))}}class hi extends D.Ds{constructor(e,r){super(e),this.destination=e,this.nextSources=r}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(e){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const e=this.nextSources.shift();if(e){const r=new D.IY(this),I=this.destination;I.add(r);const K=(0,D.ft)(e,r);K!==r&&I.add(K)}else this.destination.complete()}}function Kn(){return E=>E.lift(new ui)}class ui{call(e,r){return r.subscribe(new Hn(e))}}class Hn extends X.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let r;this.hasPrev?r=[this.prev,e]:this.hasPrev=!0,this.prev=e,r&&this.destination.next(r)}}var ci=m(5884);function fi(E,e){return r=>[(0,$t.h)(E,e)(r),(0,$t.h)((0,ci.f)(E,e))(r)]}function di(...E){const e=E.length;if(0===e)throw new Error("list of properties cannot be empty.");return r=>(0,ke.U)(function pi(E,e){return I=>{let K=I;for(let ut=0;ut<e;ut++){const Bt=null!=K?K[E[ut]]:void 0;if(void 0===Bt)return;K=Bt}return K}}(E,e))(r)}var Fe=m(8929);function vi(E){return E?(0,We.O)(()=>new Fe.xQ,E):(0,We.O)(new Fe.xQ)}var gi=m(591);function $e(E){return e=>(0,We.O)(new gi.X(E))(e)}var _i=m(2185);function mi(){return E=>(0,We.O)(new _i.c)(E)}var zn=m(839);function yi(E,e,r,I){r&&"function"!=typeof r&&(I=r);const K="function"==typeof r?r:void 0,ut=new zn.t(E,e,I);return Bt=>(0,We.O)(()=>ut,K)(Bt)}var xi=m(1946);function Ei(...E){return function(r){return 1===E.length&&(0,Ee.k)(E[0])&&(E=E[0]),r.lift.call((0,xi.S3)(r,...E))}}var Ti=m(8896);function P(E=-1){return e=>0===E?(0,Ti.c)():e.lift(new s(E<0?-1:E-1,e))}class s{constructor(e,r){this.count=e,this.source=r}call(e,r){return r.subscribe(new t(e,this.count,this.source))}}class t extends X.L{constructor(e,r,I){super(e),this.count=r,this.source=I}complete(){if(!this.isStopped){const{source:e,count:r}=this;if(0===r)return super.complete();r>-1&&(this.count=r-1),e.subscribe(this._unsubscribeAndRecycle())}}}function n(E){return e=>e.lift(new i(E))}class i{constructor(e){this.notifier=e}call(e,r){return r.subscribe(new v(e,this.notifier,r))}}class v extends D.Ds{constructor(e,r,I){super(e),this.notifier=r,this.source=I,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:e,retriesSubscription:r}=this;e&&(e.unsubscribe(),this.notifications=void 0),r&&(r.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:e}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=e,this}subscribeToRetries(){let e;this.notifications=new Fe.xQ;try{const{notifier:r}=this;e=r(this.notifications)}catch(r){return super.complete()}this.retries=e,this.retriesSubscription=(0,D.ft)(e,new D.IY(this))}}function _(E=-1){return e=>e.lift(new R(E,e))}class R{constructor(e,r){this.count=e,this.source=r}call(e,r){return r.subscribe(new M(e,this.count,this.source))}}class M extends X.L{constructor(e,r,I){super(e),this.count=r,this.source=I}error(e){if(!this.isStopped){const{source:r,count:I}=this;if(0===I)return super.error(e);I>-1&&(this.count=I-1),r.subscribe(this._unsubscribeAndRecycle())}}}function F(E){return e=>e.lift(new tt(E,e))}class tt{constructor(e,r){this.notifier=e,this.source=r}call(e,r){return r.subscribe(new z(e,this.notifier,this.source))}}class z extends D.Ds{constructor(e,r,I){super(e),this.notifier=r,this.source=I}error(e){if(!this.isStopped){let r=this.errors,I=this.retries,K=this.retriesSubscription;if(I)this.errors=void 0,this.retriesSubscription=void 0;else{r=new Fe.xQ;try{const{notifier:ut}=this;I=ut(r)}catch(ut){return super.error(ut)}K=(0,D.ft)(I,new D.IY(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=I,this.retriesSubscription=K,r.next(e)}}_unsubscribe(){const{errors:e,retriesSubscription:r}=this;e&&(e.unsubscribe(),this.errors=void 0),r&&(r.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:e}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)}}var it=m(4327);function _t(E){return e=>e.lift(new gt(E))}class gt{constructor(e){this.notifier=e}call(e,r){const I=new Dt(e),K=r.subscribe(I);return K.add((0,D.ft)(this.notifier,new D.IY(I))),K}}class Dt extends D.Ds{constructor(){super(...arguments),this.hasValue=!1}_next(e){this.value=e,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Pt(E,e=f.P){return r=>r.lift(new Lt(E,e))}class Lt{constructor(e,r){this.period=e,this.scheduler=r}call(e,r){return r.subscribe(new Rt(e,this.period,this.scheduler))}}class Rt extends X.L{constructor(e,r,I){super(e),this.period=r,this.scheduler=I,this.hasValue=!1,this.add(I.schedule(Mt,r,{subscriber:this,period:r}))}_next(e){this.lastValue=e,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function Mt(E){let{subscriber:e,period:r}=E;e.notifyNext(),this.schedule(E,r)}function At(E,e){return r=>r.lift(new kt(E,e))}class kt{constructor(e,r){this.compareTo=e,this.comparator=r}call(e,r){return r.subscribe(new ie(e,this.compareTo,this.comparator))}}class ie extends X.L{constructor(e,r,I){super(e),this.compareTo=r,this.comparator=I,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(r.subscribe(new Vt(e,this)))}_next(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:e,_b:r,comparator:I}=this;for(;e.length>0&&r.length>0;){let K=e.shift(),ut=r.shift(),Bt=!1;try{Bt=I?I(K,ut):K===ut}catch(oe){this.destination.error(oe)}Bt||this.emit(!1)}}emit(e){const{destination:r}=this;r.next(e),r.complete()}nextB(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class Vt extends X.L{constructor(e,r){super(e),this.parent=r}_next(e){this.parent.nextB(e)}_error(e){this.parent.error(e),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var qt=m(8117);function Jt(E,e,r){let I;return I=E&&"object"==typeof E?E:{bufferSize:E,windowTime:e,refCount:!1,scheduler:r},K=>K.lift(function ee({bufferSize:E=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:r,scheduler:I}){let K,Bt,ut=0,oe=!1,be=!1;return function(Yn){let Je;ut++,!K||oe?(oe=!1,K=new zn.t(E,e,I),Je=K.subscribe(this),Bt=Yn.subscribe({next(Di){K.next(Di)},error(Di){oe=!0,K.error(Di)},complete(){be=!0,Bt=void 0,K.complete()}}),be&&(Bt=void 0)):Je=K.subscribe(this),this.add(()=>{ut--,Je.unsubscribe(),Je=void 0,Bt&&!be&&r&&0===ut&&(Bt.unsubscribe(),Bt=void 0,K=void 0)})}}(I))}var Ft=m(4450);function ne(E){return e=>e.lift(new _e(E,e))}class _e{constructor(e,r){this.predicate=e,this.source=r}call(e,r){return r.subscribe(new ve(e,this.predicate,this.source))}}class ve extends X.L{constructor(e,r,I){super(e),this.predicate=r,this.source=I,this.seenValue=!1,this.index=0}applySingleValue(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)}_next(e){const r=this.index++;this.predicate?this.tryNext(e,r):this.applySingleValue(e)}tryNext(e,r){try{this.predicate(e,r,this.source)&&this.applySingleValue(e)}catch(I){this.destination.error(I)}}_complete(){const e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new Ft.K)}}function le(E){return e=>e.lift(new de(E))}class de{constructor(e){this.total=e}call(e,r){return r.subscribe(new we(e,this.total))}}class we extends X.L{constructor(e,r){super(e),this.total=r,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function Te(E){return e=>e.lift(new xe(E))}class xe{constructor(e){if(this._skipCount=e,this._skipCount<0)throw new Xt.W}call(e,r){return r.subscribe(0===this._skipCount?new X.L(e):new ue(e,this._skipCount))}}class ue extends X.L{constructor(e,r){super(e),this._skipCount=r,this._count=0,this._ring=new Array(r)}_next(e){const r=this._skipCount,I=this._count++;if(I<r)this._ring[I]=e;else{const K=I%r,ut=this._ring,Bt=ut[K];ut[K]=e,this.destination.next(Bt)}}}function Pe(E){return e=>e.lift(new bt(E))}class bt{constructor(e){this.notifier=e}call(e,r){return r.subscribe(new Pn(e,this.notifier))}}class Pn extends D.Ds{constructor(e,r){super(e),this.hasValue=!1;const I=new D.IY(this);this.add(I),this.innerSubscription=I;const K=(0,D.ft)(r,I);K!==I&&(this.add(K),this.innerSubscription=K)}_next(e){this.hasValue&&super._next(e)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function qe(E){return e=>e.lift(new He(E))}class He{constructor(e){this.predicate=e}call(e,r){return r.subscribe(new tn(e,this.predicate))}}class tn extends X.L{constructor(e,r){super(e),this.predicate=r,this.skipping=!0,this.index=0}_next(e){const r=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||r.next(e)}tryCallPredicate(e){try{const r=this.predicate(e,this.index++);this.skipping=Boolean(r)}catch(r){this.destination.error(r)}}}var Rn=m(1059),yn=m(2950),xn=m(4241);class en extends It.y{constructor(e,r=0,I=yn.e){super(),this.source=e,this.delayTime=r,this.scheduler=I,(!(0,xn.k)(r)||r<0)&&(this.delayTime=0),(!I||"function"!=typeof I.schedule)&&(this.scheduler=yn.e)}static create(e,r=0,I=yn.e){return new en(e,r,I)}static dispatch(e){const{source:r,subscriber:I}=e;return this.add(r.subscribe(I))}_subscribe(e){return this.scheduler.schedule(en.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function Si(E,e=0){return function(I){return I.lift(new Ci(E,e))}}class Ci{constructor(e,r){this.scheduler=e,this.delay=r}call(e,r){return new en(r,this.delay,this.scheduler).subscribe(e)}}var nn=m(7545),rn=m(5379);function Mn(){return(0,nn.w)(rn.y)}function Ii(E,e){return e?(0,nn.w)(()=>E,e):(0,nn.w)(()=>E)}var bi=m(7625);function Oi(E,e=!1){return r=>r.lift(new Jn(E,e))}class Jn{constructor(e,r){this.predicate=e,this.inclusive=r}call(e,r){return r.subscribe(new Ln(e,this.predicate,this.inclusive))}}class Ln extends X.L{constructor(e,r,I){super(e),this.predicate=r,this.inclusive=I,this.index=0}_next(e){const r=this.destination;let I;try{I=this.predicate(e,this.index++)}catch(K){return void r.error(K)}this.nextOrComplete(e,I)}nextOrComplete(e,r){const I=this.destination;Boolean(r)?I.next(e):(this.inclusive&&I.next(e),I.complete())}}var wi=m(2994);const on={leading:!0,trailing:!1};function Nn(E,e=on){return r=>r.lift(new Pi(E,!!e.leading,!!e.trailing))}class Pi{constructor(e,r,I){this.durationSelector=e,this.leading=r,this.trailing=I}call(e,r){return r.subscribe(new Ri(e,this.durationSelector,this.leading,this.trailing))}}class Ri extends D.Ds{constructor(e,r,I,K){super(e),this.destination=e,this.durationSelector=r,this._leading=I,this._trailing=K,this._hasValue=!1}_next(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))}send(){const{_hasValue:e,_sendValue:r}=this;e&&(this.destination.next(r),this.throttle(r)),this._hasValue=!1,this._sendValue=void 0}throttle(e){const r=this.tryDurationSelector(e);r&&this.add(this._throttled=(0,D.ft)(r,new D.IY(this)))}tryDurationSelector(e){try{return this.durationSelector(e)}catch(r){return this.destination.error(r),null}}throttlingDone(){const{_throttled:e,_trailing:r}=this;e&&e.unsubscribe(),this._throttled=void 0,r&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function An(E,e=f.P,r=on){return I=>I.lift(new Dn(E,e,r.leading,r.trailing))}class Dn{constructor(e,r,I,K){this.duration=e,this.scheduler=r,this.leading=I,this.trailing=K}call(e,r){return r.subscribe(new Fn(e,this.duration,this.scheduler,this.leading,this.trailing))}}class Fn extends X.L{constructor(e,r,I,K,ut){super(e),this.duration=r,this.scheduler=I,this.leading=K,this.trailing=ut,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Zn,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function Zn(E){const{subscriber:e}=E;e.clearThrottle()}var Mi=m(8514);function Qn(E=f.P){return e=>(0,Mi.P)(()=>e.pipe((0,st.R)(({current:r},I)=>({value:I,current:E.now(),last:r}),{current:E.now(),value:void 0,last:void 0}),(0,ke.U)(({current:r,last:I,value:K})=>new $n(K,r-I))))}class $n{constructor(e,r){this.value=e,this.interval=r}}var ze=m(854),qn=m(2697);function Gn(E,e,r=f.P){return I=>{let K=(0,qn.J)(E),ut=K?+E-r.now():Math.abs(E);return I.lift(new Bn(ut,K,e,r))}}class Bn{constructor(e,r,I,K){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=I,this.scheduler=K}call(e,r){return r.subscribe(new Un(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Un extends D.Ds{constructor(e,r,I,K,ut){super(e),this.absoluteTimeout=r,this.waitFor=I,this.withObservable=K,this.scheduler=ut,this.scheduleTimeout()}static dispatchTimeout(e){const{withObservable:r}=e;e._unsubscribeAndRecycle(),e.add((0,D.ft)(r,new D.IY(e)))}scheduleTimeout(){const{action:e}=this;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Un.dispatchTimeout,this.waitFor,this))}_next(e){this.absoluteTimeout||this.scheduleTimeout(),super._next(e)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var Li=m(1737);function ti(E,e=f.P){return Gn(E,(0,Li._)(new ze.W),e)}function ei(E=f.P){return(0,ke.U)(e=>new ni(e,E.now()))}class ni{constructor(e,r){this.value=e,this.timestamp=r}}function ii(E,e,r){return 0===r?[e]:(E.push(e),E)}function Wn(){return Gt(ii,[])}function sn(E){return function(r){return r.lift(new En(E))}}class En{constructor(e){this.windowBoundaries=e}call(e,r){const I=new an(e),K=r.subscribe(I);return K.closed||I.add((0,D.ft)(this.windowBoundaries,new D.IY(I))),K}}class an extends D.Ds{constructor(e){super(e),this.window=new Fe.xQ,e.next(this.window)}notifyNext(){this.openWindow()}notifyError(e){this._error(e)}notifyComplete(){this._complete()}_next(e){this.window.next(e)}_error(e){this.window.error(e),this.destination.error(e)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const e=this.window;e&&e.complete();const r=this.destination,I=this.window=new Fe.xQ;r.next(I)}}function ri(E,e=0){return function(I){return I.lift(new oi(E,e))}}class oi{constructor(e,r){this.windowSize=e,this.startWindowEvery=r}call(e,r){return r.subscribe(new Ni(e,this.windowSize,this.startWindowEvery))}}class Ni extends X.L{constructor(e,r,I){super(e),this.destination=e,this.windowSize=r,this.startWindowEvery=I,this.windows=[new Fe.xQ],this.count=0,e.next(this.windows[0])}_next(e){const r=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,I=this.destination,K=this.windowSize,ut=this.windows,Bt=ut.length;for(let be=0;be<Bt&&!this.closed;be++)ut[be].next(e);const oe=this.count-K+1;if(oe>=0&&oe%r==0&&!this.closed&&ut.shift().complete(),++this.count%r==0&&!this.closed){const be=new Fe.xQ;ut.push(be),I.next(be)}}_error(e){const r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().error(e);this.destination.error(e)}_complete(){const e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function Ai(E){let e=f.P,r=null,I=Number.POSITIVE_INFINITY;return(0,c.K)(arguments[3])&&(e=arguments[3]),(0,c.K)(arguments[2])?e=arguments[2]:(0,xn.k)(arguments[2])&&(I=Number(arguments[2])),(0,c.K)(arguments[1])?e=arguments[1]:(0,xn.k)(arguments[1])&&(r=Number(arguments[1])),function(ut){return ut.lift(new ln(E,r,I,e))}}class ln{constructor(e,r,I,K){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=I,this.scheduler=K}call(e,r){return r.subscribe(new Tn(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class je extends Fe.xQ{constructor(){super(...arguments),this._numberOfNextedValues=0}next(e){this._numberOfNextedValues++,super.next(e)}get numberOfNextedValues(){return this._numberOfNextedValues}}class Tn extends X.L{constructor(e,r,I,K,ut){super(e),this.destination=e,this.windowTimeSpan=r,this.windowCreationInterval=I,this.maxWindowSize=K,this.scheduler=ut,this.windows=[];const Bt=this.openWindow();if(null!==I&&I>=0){const be={windowTimeSpan:r,windowCreationInterval:I,subscriber:this,scheduler:ut};this.add(ut.schedule(Me,r,{subscriber:this,window:Bt,context:null})),this.add(ut.schedule(Be,I,be))}else this.add(ut.schedule(Sn,r,{subscriber:this,window:Bt,windowTimeSpan:r}))}_next(e){const r=this.windows,I=r.length;for(let K=0;K<I;K++){const ut=r[K];ut.closed||(ut.next(e),ut.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(ut))}}_error(e){const r=this.windows;for(;r.length>0;)r.shift().error(e);this.destination.error(e)}_complete(){const e=this.windows;for(;e.length>0;){const r=e.shift();r.closed||r.complete()}this.destination.complete()}openWindow(){const e=new je;return this.windows.push(e),this.destination.next(e),e}closeWindow(e){e.complete();const r=this.windows;r.splice(r.indexOf(e),1)}}function Sn(E){const{subscriber:e,windowTimeSpan:r,window:I}=E;I&&e.closeWindow(I),E.window=e.openWindow(),this.schedule(E,r)}function Be(E){const{windowTimeSpan:e,subscriber:r,scheduler:I,windowCreationInterval:K}=E,ut=r.openWindow();let oe={action:this,subscription:null};oe.subscription=I.schedule(Me,e,{subscriber:r,window:ut,context:oe}),this.add(oe.subscription),this.schedule(E,K)}function Me(E){const{subscriber:e,window:r,context:I}=E;I&&I.action&&I.subscription&&I.action.remove(I.subscription),e.closeWindow(r)}function si(E,e){return r=>r.lift(new Gi(E,e))}class Gi{constructor(e,r){this.openings=e,this.closingSelector=r}call(e,r){return r.subscribe(new Bi(e,this.openings,this.closingSelector))}}class Bi extends C.L{constructor(e,r,I){super(e),this.openings=r,this.closingSelector=I,this.contexts=[],this.add(this.openSubscription=(0,d.D)(this,r,r))}_next(e){const{contexts:r}=this;if(r){const I=r.length;for(let K=0;K<I;K++)r[K].window.next(e)}}_error(e){const{contexts:r}=this;if(this.contexts=null,r){const I=r.length;let K=-1;for(;++K<I;){const ut=r[K];ut.window.error(e),ut.subscription.unsubscribe()}}super._error(e)}_complete(){const{contexts:e}=this;if(this.contexts=null,e){const r=e.length;let I=-1;for(;++I<r;){const K=e[I];K.window.complete(),K.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:e}=this;if(this.contexts=null,e){const r=e.length;let I=-1;for(;++I<r;){const K=e[I];K.window.unsubscribe(),K.subscription.unsubscribe()}}}notifyNext(e,r,I,K,ut){if(e===this.openings){let Bt;try{const{closingSelector:Je}=this;Bt=Je(r)}catch(Je){return this.error(Je)}const oe=new Fe.xQ,be=new h.w,ai={window:oe,subscription:be};this.contexts.push(ai);const Yn=(0,d.D)(this,Bt,ai);Yn.closed?this.closeWindow(this.contexts.length-1):(Yn.context=ai,be.add(Yn)),this.destination.next(oe)}else this.closeWindow(this.contexts.indexOf(e))}notifyError(e){this.error(e)}notifyComplete(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))}closeWindow(e){if(-1===e)return;const{contexts:r}=this,I=r[e],{window:K,subscription:ut}=I;r.splice(e,1),K.complete(),ut.unsubscribe()}}function Ui(E){return function(r){return r.lift(new Wi(E))}}class Wi{constructor(e){this.closingSelector=e}call(e,r){return r.subscribe(new Yi(e,this.closingSelector))}}class Yi extends C.L{constructor(e,r){super(e),this.destination=e,this.closingSelector=r,this.openWindow()}notifyNext(e,r,I,K,ut){this.openWindow(ut)}notifyError(e){this._error(e)}notifyComplete(e){this.openWindow(e)}_next(e){this.window.next(e)}_error(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(e=null){e&&(this.remove(e),e.unsubscribe());const r=this.window;r&&r.complete();const I=this.window=new Fe.xQ;let K;this.destination.next(I);try{const{closingSelector:ut}=this;K=ut()}catch(ut){return this.destination.error(ut),void this.window.error(ut)}this.add(this.closingNotification=(0,d.D)(this,K))}}function ki(...E){return e=>{let r;return"function"==typeof E[E.length-1]&&(r=E.pop()),e.lift(new Xi(E,r))}}class Xi{constructor(e,r){this.observables=e,this.project=r}call(e,r){return r.subscribe(new Vi(e,this.observables,this.project))}}class Vi extends C.L{constructor(e,r,I){super(e),this.observables=r,this.project=I,this.toRespond=[];const K=r.length;this.values=new Array(K);for(let ut=0;ut<K;ut++)this.toRespond.push(ut);for(let ut=0;ut<K;ut++)this.add((0,d.D)(this,r[ut],void 0,ut))}notifyNext(e,r,I){this.values[I]=r;const K=this.toRespond;if(K.length>0){const ut=K.indexOf(I);-1!==ut&&K.splice(ut,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const r=[e,...this.values];this.project?this._tryProject(r):this.destination.next(r)}}_tryProject(e){let r;try{r=this.project.apply(this,e)}catch(I){return void this.destination.error(I)}this.destination.next(r)}}var Zi=m(1746);function ji(...E){return function(r){return r.lift.call((0,Zi.$R)(r,...E))}}function Ki(E){return e=>e.lift(new Zi.mx(E))}},4078:jt=>{"use strict";jt.exports='.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 2px solid blue;\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-Index: 10;\n}\n\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-Index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-Index: 9;\n  box-sizing: border-box;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  user-select: text;\n}\n\n.ol-grabbing {\n  cursor: grabbing;\n}\n\n.ol-grab {\n  cursor: move;\n  cursor: grab;\n}\n\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-size: 1.14em;\n  font-weight: bold;\n  text-decoration: none;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n}\n\n.ol-attribution ul {\n  margin: 0;\n  padding: 0 .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n}\n\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n\n.ol-attribution ul, .ol-attribution button {\n  display: inline-block;\n}\n\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: inline-block;\n}\n\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n\n.ol-overviewmap:not(.ol-collapsed) button{\n  bottom: 1px;\n  left: 2px;\n  position: absolute;\n}\n\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n'}}]);