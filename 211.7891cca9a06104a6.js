"use strict";(self.webpackChunkng=self.webpackChunkng||[]).push([[211],{1211:(ge,f,o)=>{o.r(f),o.d(f,{AssetModule:()=>ce});var l=o(2252),e=o(5e3);let b=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-object-type"]],decls:1,vars:0,template:function(s,t){1&s&&e._UZ(0,"router-outlet")},directives:[l.lC],encapsulation:2}),i})();var r=o(3075),c=o(9713),M=o(2642),Z=o(7830),p=o(520),m=o(8248),h=o(1038),g=o(9808),q=o(5726),C=o(4221),y=o(4918),v=o(4841),_=o(8315),T=o(9679);function S(i,a){1&i&&(e.TgZ(0,"div",34),e._uU(1," The 'Name' field could not start with space or '-' sign. "),e.qZA())}function U(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const s=e.oxw().$implicit;e.xp6(1),e.hij(" /",s.communicationType," ")}}function I(i,a){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.YNc(2,U,2,1,"span",42),e.qZA()),2&i){const s=a.$implicit;e.xp6(1),e.hij(" ",s.capabilityType," "),e.xp6(1),e.Q6J("ngIf",s.communicationType)}}function k(i,a){if(1&i){const s=e.EpF();e.TgZ(0,"tr",35),e.TgZ(1,"td",36),e.TgZ(2,"div",37),e.TgZ(3,"input",38),e.NdJ("change",function(){const d=e.CHM(s).$implicit;return e.oxw().addRemoveAssetModel(d.id,d.assetModelType)}),e.qZA(),e._UZ(4,"label",39),e.qZA(),e.qZA(),e.TgZ(5,"td",40),e._uU(6),e.qZA(),e.TgZ(7,"td",40),e._uU(8),e.qZA(),e.TgZ(9,"td",40),e.TgZ(10,"ul"),e.YNc(11,I,3,2,"li",41),e.qZA(),e.qZA(),e.qZA()}if(2&i){const s=a.$implicit;e.xp6(3),e.s9C("id",s.id),e.Q6J("value",s.id)("checked",s.checked),e.xp6(1),e.s9C("for",s.id),e.xp6(2),e.Oqu(s.name),e.xp6(2),e.Oqu(s.dsc),e.xp6(3),e.Q6J("ngForOf",s.capabilitySet)}}function D(i,a){1&i&&(e.TgZ(0,"div",43),e._uU(1,"Selecting one of the asset models is required "),e.qZA())}function N(i,a){1&i&&(e.TgZ(0,"div",44),e._uU(1,"'It must contain 12 hexadecimal digits. One way to represent them is to form six pairs of the characters separated with a hyphen (-) or colon(:). For example, 01-23-45-67-89-AB is a valid MAC address.' "),e.qZA())}function J(i,a){1&i&&(e.TgZ(0,"div",34),e._uU(1,"'The PIN should contain 16 characters'."),e.qZA())}function O(i,a){1&i&&(e.TgZ(0,"div",34),e._uU(1," The 'PIN' field could not start and end with space. "),e.qZA())}function Q(i,a){1&i&&(e.TgZ(0,"div",34),e._uU(1,"'The SID should contain 16 characters'."),e.qZA())}function w(i,a){1&i&&(e.TgZ(0,"div",34),e._uU(1," The 'SID' field could not start and end with space. "),e.qZA())}function E(i,a){1&i&&(e.TgZ(0,"div",34),e._uU(1," The 'UID' field could not start and end with space. "),e.qZA())}function x(i,a){if(1&i&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&i){const s=a.$implicit;e.s9C("value",s),e.xp6(1),e.Oqu(s)}}const P=function(){return{key:"all",name:"Select",width:"38px",sortable:!1,checkAll:!1}},Y=function(){return{key:"name",name:"Name",sortable:!0,minWidth:"80px",searchInput:!0}},L=function(){return{key:"dsc",name:"Description",sortable:!0,searchKey:"dsc",minWidth:"145px",searchInput:!0}},R=function(){return{key:"Capability Type",name:"Capability Type",sortable:!1,minWidth:"180px",type:"select",searchInput:!1}},V=function(i,a,s,t){return[i,a,s,t]};let A=(()=>{class i{constructor(s,t,n){this.http=s,this.alertMessageService=t,this.paginateService=n,this.submitted=!1,this.assetModel=[],this.assetModels=[],this.statusDates=[],this.AF=new r.cw({name:new r.NI("",[r.kI.required,r.kI.maxLength(150),r.kI.minLength(5),r.kI.pattern(M.S.regex.noSpace)]),dsc:new r.NI("",[r.kI.maxLength(250)]),macAddress:new r.NI(null,[r.kI.required,r.kI.min(0),r.kI.max(9999999999999.99),r.kI.pattern("^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$")]),pin:new r.NI("",[r.kI.required,r.kI.pattern("^[^\\s]+(\\s+[^\\s]+)*$"),r.kI.minLength(16),r.kI.maxLength(16)]),sid:new r.NI(null,[r.kI.required,r.kI.pattern("^[^\\s]+(\\s+[^\\s]+)*$"),r.kI.minLength(16),r.kI.maxLength(16)]),uid:new r.NI(null,[r.kI.required,r.kI.pattern("^[^\\s]+(\\s+[^\\s]+)*$"),r.kI.minLength(5),r.kI.maxLength(23)]),assetStatus:new r.NI("",[r.kI.required])}),this.searchData={}}get getPaginateService(){return this.paginateService}getFormValues(){return this.AF.value}addRemoveAssetModel(s,t){this.assetModel=[],this.assetModel.push({id:s}),"GATEWAY"===t||"MIXED"===t?(this.AF.get("macAddress").enable(),this.AF.get("pin").enable(),this.AF.get("sid").enable()):(this.AF.get("macAddress").disable(),this.AF.get("pin").disable(),this.AF.get("sid").disable()),console.log(this.assetModel,"MODEL")}checkCheckedAsset(s){for(let t=0;t<this.assetModel.length;t++)if(this.assetModel[t].id===s)return!0}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}ngOnInit(){this.paginateService.paginateSetShowCountInStorage(25),this.paginateService.restartPaginate(),this.http.get(c.A.httpUrl.resource_server+"/asset/asset-status").subscribe(s=>{this.statusDates=s}),this.subscription=this.paginateService.getResult.subscribe(s=>this.getResult(s))}getResult(s){if(this.paginateService.checkPageEmpty()){(0,Z.K)(s)&&(this.searchData=s);const t="?"+this.paginateService.getRequestParamsFromObject(this.searchData)+"&status=ENABLE";this.http.get(c.A.httpUrl.resource_server+"/asset-model"+t).subscribe(n=>{this.paginateService.allRecordCount=n.totalElements,this.paginateService.calculatePaginate(n.content),this.assetModels=n.content},n=>{404===n.status&&this.alertMessageService.addDangerMessage(n.error.message)})}}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(p.eN),e.Y36(m.O),e.Y36(h.r))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-asset-form"]],decls:69,vars:49,consts:[[3,"formGroup"],[1,"card-body"],[1,"form-group"],["for","name"],["id","name","type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback",3,"field","name"],[1,"invalid-feedback",3,"field"],["class","invalid-feedback",4,"ngIf"],["for","dsc"],["id","dsc","name","description","rows","5","formControlName","dsc",1,"form-control",3,"ngClass"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"row"],[1,"col-sm-12","col-md-6"],[1,"col-sm-12","table-parent"],[3,"headerParams","invalidTable"],["class","odd",4,"ngFor","ngForOf"],["class","d-block invalid-feedback",4,"ngIf"],[1,"form-group","col-sm-3"],["for","length"],["id","length","type","text","formControlName","macAddress",1,"form-control",3,"ngClass"],["class","invalid-feedback text-center",4,"ngIf"],["for","width"],["id","width","type","text","formControlName","pin",1,"form-control",3,"ngClass"],["for","height"],["id","height","type","text","formControlName","sid",1,"form-control",3,"ngClass"],["for","weight"],["id","weight","type","text","formControlName","uid",1,"form-control",3,"ngClass"],[1,"form-group","col-sm-12"],["for","assetModelStatus"],["id","assetModelStatus","formControlName","assetStatus",1,"form-control",3,"ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"invalid-feedback"],[1,"odd"],[1,"pl-3"],[1,"text-center"],["type","radio","name","item.name",1,"",2,"cursor","pointer",3,"id","value","checked","change"],[1,"",3,"for"],[1,""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-block","invalid-feedback"],[1,"invalid-feedback","text-center"],[3,"value"]],template:function(s,t){1&s&&(e.TgZ(0,"form",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"label",3),e._uU(4,"Name"),e.qZA(),e._UZ(5,"input",4),e._UZ(6,"app-required-validator",5),e._UZ(7,"app-max-length-validator",6),e._UZ(8,"app-min-length-validator",6),e.YNc(9,S,2,0,"div",7),e.qZA(),e.TgZ(10,"div",2),e.TgZ(11,"label",8),e._uU(12,"Description"),e.qZA(),e._UZ(13,"textarea",9),e._UZ(14,"app-required-validator",5),e._UZ(15,"app-max-length-validator",6),e.qZA(),e.TgZ(16,"div",10),e.TgZ(17,"div",11),e.TgZ(18,"div",12),e._uU(19,"Asset Models"),e.qZA(),e.TgZ(20,"div",1),e.TgZ(21,"div",13),e._UZ(22,"app-paginate-show-count",14),e.qZA(),e.TgZ(23,"div",13),e.TgZ(24,"div",15),e.TgZ(25,"app-sortable-table-header",16),e.TgZ(26,"tbody"),e.YNc(27,k,12,7,"tr",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(28,D,2,0,"div",18),e._UZ(29,"app-paginate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",13),e.TgZ(31,"div",19),e.TgZ(32,"label",20),e._uU(33,"Mac Address"),e.qZA(),e._UZ(34,"input",21),e._UZ(35,"app-required-validator",5),e.YNc(36,N,2,0,"div",22),e._UZ(37,"app-max-length-validator",6),e.qZA(),e.TgZ(38,"div",19),e.TgZ(39,"label",23),e._uU(40,"PIN"),e.qZA(),e._UZ(41,"input",24),e._UZ(42,"app-required-validator",5),e.YNc(43,J,2,0,"div",7),e.YNc(44,O,2,0,"div",7),e.qZA(),e.TgZ(45,"div",19),e.TgZ(46,"label",25),e._uU(47,"SID"),e.qZA(),e._UZ(48,"input",26),e._UZ(49,"app-required-validator",5),e.YNc(50,Q,2,0,"div",7),e.YNc(51,w,2,0,"div",7),e.qZA(),e.TgZ(52,"div",19),e.TgZ(53,"label",27),e._uU(54,"UID "),e.qZA(),e._UZ(55,"input",28),e._UZ(56,"app-required-validator",5),e._UZ(57,"app-max-length-validator",6),e._UZ(58,"app-min-length-validator",6),e.YNc(59,E,2,0,"div",7),e.qZA(),e.qZA(),e.TgZ(60,"div",13),e.TgZ(61,"div",29),e.TgZ(62,"label",30),e._uU(63,"Status"),e.qZA(),e.TgZ(64,"select",31),e.TgZ(65,"option",32),e._uU(66,"Please select status"),e.qZA(),e.YNc(67,x,2,2,"option",33),e.qZA(),e._UZ(68,"app-required-validator",5),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&s&&(e.Q6J("formGroup",t.AF),e.xp6(5),e.Q6J("ngClass",t.submitted||t.AF.get("name").touched?t.AF.get("name").invalid?"is-invalid ":"is-valid":""),e.xp6(1),e.Q6J("field",t.AF.get("name"))("name","Name"),e.xp6(1),e.Q6J("field",t.AF.get("name")),e.xp6(1),e.Q6J("field",t.AF.get("name")),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.AF.get("name").touched)&&t.AF.get("name").invalid&&t.AF.get("name").getError("pattern")),e.xp6(4),e.Q6J("ngClass",t.submitted||t.AF.get("dsc").touched?t.AF.get("dsc").invalid?"is-invalid ":"is-valid":""),e.xp6(1),e.Q6J("field",t.AF.get("dsc"))("name","Description"),e.xp6(1),e.Q6J("field",t.AF.get("dsc")),e.xp6(10),e.Q6J("headerParams",e.l5B(44,V,e.DdM(40,P),e.DdM(41,Y),e.DdM(42,L),e.DdM(43,R)))("invalidTable",0===t.assetModel.length&&t.submitted),e.xp6(2),e.Q6J("ngForOf",t.getPaginateService.paginateResult[t.getPaginateService.page]),e.xp6(1),e.Q6J("ngIf",0===t.assetModel.length&&t.submitted),e.xp6(6),e.Q6J("ngClass",t.submitted||t.AF.get("macAddress").touched?t.AF.get("macAddress").invalid?"is-invalid ":"is-valid":""),e.xp6(1),e.Q6J("field",t.AF.get("macAddress"))("name","Mac Address"),e.xp6(1),e.Q6J("ngIf",null==t.AF.get("macAddress").errors?null:t.AF.get("macAddress").errors.pattern),e.xp6(1),e.Q6J("field",t.AF.get("macAddress")),e.xp6(4),e.Q6J("ngClass",t.submitted||t.AF.get("pin").touched?t.AF.get("pin").invalid?"is-invalid ":"is-valid":""),e.xp6(1),e.Q6J("field",t.AF.get("pin"))("name","PIN"),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.AF.get("pin").touched)&&t.AF.get("pin").invalid&&(t.AF.get("pin").getError("maxlength")||t.AF.get("pin").getError("minlength"))&&!t.AF.get("pin").getError("pattern")),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.AF.get("pin").touched)&&t.AF.get("pin").invalid&&t.AF.get("pin").getError("pattern")),e.xp6(4),e.Q6J("ngClass",t.submitted||t.AF.get("sid").touched?t.AF.get("sid").invalid?"is-invalid ":"is-valid":""),e.xp6(1),e.Q6J("field",t.AF.get("sid"))("name","SID"),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.AF.get("sid").touched)&&t.AF.get("sid").invalid&&(t.AF.get("sid").getError("maxlength")||t.AF.get("sid").getError("minlength"))&&!t.AF.get("sid").getError("pattern")),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.AF.get("sid").touched)&&t.AF.get("sid").invalid&&t.AF.get("sid").getError("pattern")),e.xp6(4),e.Q6J("ngClass",t.submitted||t.AF.get("uid").touched?t.AF.get("uid").invalid?"is-invalid ":"is-valid":""),e.xp6(1),e.Q6J("field",t.AF.get("uid"))("name","UID"),e.xp6(1),e.Q6J("field",t.AF.get("uid")),e.xp6(1),e.Q6J("field",t.AF.get("uid")),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.AF.get("uid").touched)&&t.AF.get("uid").invalid&&t.AF.get("uid").getError("pattern")),e.xp6(5),e.Q6J("ngClass",t.submitted||t.AF.get("assetStatus").touched?t.AF.get("assetStatus").invalid?"is-invalid ":"is-valid":""),e.xp6(3),e.Q6J("ngForOf",t.statusDates),e.xp6(1),e.Q6J("field",t.AF.get("assetStatus"))("name","Status"))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,g.mk,q.r,C.f,y.W,g.O5,v.S,_.X,g.sg,T.c,r.EJ,r.YN,r.Kr],styles:[".my-drop-zone[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer}.my-drop-zone[_ngcontent-%COMP%]   .file_input_parent[_ngcontent-%COMP%]{overflow:hidden;position:relative;cursor:pointer}.my-drop-zone[_ngcontent-%COMP%]   .file_input_parent[_ngcontent-%COMP%]   .input_file[_ngcontent-%COMP%]{display:none}.invalid-assetModel[_ngcontent-%COMP%]{border:.13rem solid #f86c6b}"]}),i})(),j=(()=>{class i{constructor(s,t,n,d){this.http=s,this.router=t,this.paginateService=n,this.alertMessageService=d,this.paginateService.sessionPrefix="ASSET_FORM_NEW"}add(){if(this.AForm.submitted=!0,this.AForm.AF.valid&&this.AForm.assetModel.length>0){const s=this.AForm.getFormValues();s.assetModel=this.AForm.assetModel[0],this.http.put(c.A.httpUrl.resource_server+"/asset",s).subscribe(()=>{this.alertMessageService.addSuccessMessage("Asset has been successfully added."),this.router.navigate(["/aya/asset/list"])},t=>{this.alertMessageService.addDangerMessage(t.error.message)})}}ngOnInit(){}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(p.eN),e.Y36(l.F0),e.Y36(h.r),e.Y36(m.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-object-type"]],viewQuery:function(s,t){if(1&s&&e.Gf(A,7),2&s){let n;e.iGM(n=e.CRH())&&(t.AForm=n.first)}},decls:12,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"card-footer"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"fa","fa-plus"],["routerLink","../",1,"btn","btn-sm","btn-danger","mx-1"],[1,"cui-arrow-left"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"strong"),e._uU(3,"Add Asset"),e.qZA(),e.qZA(),e._UZ(4,"app-asset-form"),e.TgZ(5,"div",2),e.TgZ(6,"button",3),e.NdJ("click",function(){return t.add()}),e._UZ(7,"i",4),e._uU(8," Add"),e.qZA(),e.TgZ(9,"a",5),e.TgZ(10,"i",6),e._uU(11," Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA())},directives:[A,l.yS],styles:[""]}),i})(),G=(()=>{class i{constructor(s,t,n,d,u){this.http=s,this.route=t,this.router=n,this.paginateService=d,this.alertMessageService=u,this.paginateService.sessionPrefix="ASSET_FORM_EDIT"}setFormValue(){this.AssetF.AF.get("name").setValue(this.asset.name),this.AssetF.AF.get("dsc").setValue(this.asset.dsc),this.AssetF.AF.get("macAddress").setValue(this.asset.macAddress),this.AssetF.AF.get("pin").setValue(this.asset.pin),this.AssetF.AF.get("sid").setValue(this.asset.sid),this.AssetF.AF.get("uid").setValue(this.asset.uid),this.AssetF.AF.get("assetStatus").setValue(this.asset.assetStatus),"GATEWAY"!==this.AssetF.isGateway&&"MIXED"!==this.AssetF.isGateway&&(this.AssetF.AF.get("macAddress").disable(),this.AssetF.AF.get("pin").disable(),this.AssetF.AF.get("sid").disable()),setTimeout(()=>{for(let s=0;s<this.AssetF.assetModels.length;s++)this.asset.assetModel.id===this.AssetF.assetModels[s].id&&(this.AssetF.assetModel.push({id:this.AssetF.assetModels[s].id}),this.AssetF.assetModels[s].checked=!0)},100)}ngOnInit(){this.assetId=+this.route.snapshot.paramMap.get("id"),this.http.get(c.A.httpUrl.resource_server+"/asset/"+this.assetId).subscribe(s=>{this.asset=s,this.AssetF.isGateway=s.assetModel.assetModelType,this.setFormValue()})}edit(){if(this.AssetF.submitted=!0,this.AssetF.AF.valid&&this.AssetF.assetModel.length>0){const s=this.AssetF.getFormValues();s.id=this.assetId,s.assetModel=this.AssetF.assetModel[0],this.http.patch(c.A.httpUrl.resource_server+"/asset",s).subscribe(()=>{this.alertMessageService.addSuccessMessage("Asset has been successfully edited."),this.router.navigate(["/aya/asset/list"])},t=>{this.alertMessageService.addDangerMessage(t.error.message)})}}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(p.eN),e.Y36(l.gz),e.Y36(l.F0),e.Y36(h.r),e.Y36(m.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-object-type"]],viewQuery:function(s,t){if(1&s&&e.Gf(A,7),2&s){let n;e.iGM(n=e.CRH())&&(t.AssetF=n.first)}},decls:12,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"card-footer"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-pencil"],["routerLink","../../",1,"btn","btn-sm","btn-danger","mx-1"],[1,"cui-arrow-left"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"strong"),e._uU(3,"Edit Asset"),e.qZA(),e.qZA(),e._UZ(4,"app-asset-form"),e.TgZ(5,"div",2),e.TgZ(6,"button",3),e.NdJ("click",function(){return t.edit()}),e._UZ(7,"i",4),e._uU(8,"Edit"),e.qZA(),e.TgZ(9,"a",5),e.TgZ(10,"i",6),e._uU(11," Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA())},directives:[A,l.yS],styles:[""]}),i})();var F=o(18);const W=["confirmDeleteModal"],K=function(i){return["../",i,"edit"]};function $(i,a){if(1&i){const s=e.EpF();e.TgZ(0,"tr",30),e.TgZ(1,"td",31),e._uU(2),e.qZA(),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td",32),e._uU(6),e.qZA(),e.TgZ(7,"td",32),e._uU(8),e.qZA(),e.TgZ(9,"td",32),e._uU(10),e.qZA(),e.TgZ(11,"td",33),e.TgZ(12,"span",34),e._uU(13),e.qZA(),e.qZA(),e.TgZ(14,"td",32),e._uU(15),e.qZA(),e.TgZ(16,"td",35),e.TgZ(17,"a",36),e.TgZ(18,"span",37),e._UZ(19,"i",4),e.qZA(),e.qZA(),e.TgZ(20,"button",38),e.NdJ("click",function(){const d=e.CHM(s).$implicit;return e.oxw().showDeleteModal(d.id)}),e._UZ(21,"i",39),e.qZA(),e.qZA(),e.qZA()}if(2&i){const s=a.$implicit,t=a.index,n=e.oxw();e.xp6(2),e.Oqu(n.getPaginateService.page*n.getPaginateService.showCount+t+1),e.xp6(2),e.Oqu(s.name),e.xp6(2),e.Oqu(s.dsc),e.xp6(2),e.Oqu(s.macAddress),e.xp6(2),e.Oqu(s.uid),e.xp6(2),e.ekj("badge-danger","IN_PRODUCTION"===s.assetStatus)("badge-success","IN_INVENTORY"===s.assetStatus),e.xp6(1),e.hij(" ",s.assetStatus," "),e.xp6(2),e.Oqu(null==s.assetModel?null:s.assetModel.name),e.xp6(2),e.Q6J("routerLink",e.VKq(12,K,s.id))}}const X=function(){return{key:"id",name:"No",sortable:!1}},z=function(){return{key:"name",name:"Name",sortable:!0,minWidth:"80px",searchInput:!0}},B=function(){return{key:"dsc",name:"Description",sortable:!0,searchKey:"dsc",minWidth:"115px",searchInput:!0}},H=function(){return{key:"macAddress",name:"Mac Address",sortable:!0,searchKey:"macAddress",minWidth:"125px",searchInput:!0}},ee=function(){return{key:"uid",name:"UID",sortable:!0,searchKey:"uid",minWidth:"65px",searchInput:!0}},te=function(i){return{key:"assetStatus",name:"Status",sortable:!0,searchKey:"assetStatus",minWidth:"80px",searchInput:!0,type:"select",selectData:i}},se=function(i){return{key:"assetModelId",name:"Asset Model",sortable:!1,searchKey:"assetModelId",searchInput:!0,type:"select",selectData:i}},ie=function(){return{key:"action",name:"Action",width:"38px",sortable:!1}},ae=function(i,a,s,t,n,d,u,ue){return[i,a,s,t,n,d,u,ue]},ne=[{path:"",redirectTo:"list"},{path:"",component:b,children:[{path:"list",component:(()=>{class i{constructor(s,t,n){this.http=s,this.alertMessageService=t,this.paginateService=n,this.statusDates=[],this.assetModelsDates=[],this.searchData={},this.paginateService.sessionPrefix="LIST_ASSET"}get getPaginateService(){return this.paginateService}ngOnInit(){console.log("ngOnInit asset"),this.paginateService.restartPaginate(),this.http.get(c.A.httpUrl.resource_server+"/asset/asset-status").subscribe(s=>{this.statusDates.push({id:null,name:"All"});for(let t=0;t<s.length;t++)this.statusDates.push({id:s[t],name:s[t]})},s=>{404===s.status&&this.alertMessageService.addDangerMessage(s.error.message)}),this.http.get(c.A.httpUrl.resource_server+"/asset-model").subscribe(s=>{this.assetModelsDates.push({id:null,name:"All"});for(let t=0;t<s.content.length;t++)this.assetModelsDates.push({id:s.content[t].id,name:s.content[t].name})},s=>{404===s.status&&this.alertMessageService.addDangerMessage(s.error.message)}),this.subscription=this.paginateService.getResult.subscribe(s=>this.getResult(s))}ngAfterViewInit(){console.log("ngAfterViewInit asset")}ngOnDestroy(){console.log("ngOnDestroy asset"),this.subscription&&this.subscription.unsubscribe()}showDeleteModal(s){this.deleteAssetId=s,this.deleteModal.show()}refreshAll(){this.paginateService.setEmptyPaginateResult(),this.getResult()}deleteSelectedItem(){this.http.delete(c.A.httpUrl.resource_server+"/asset/"+this.deleteAssetId).subscribe(()=>{this.alertMessageService.addSuccessMessage("Asset successfully deleted"),this.deleteModal.hide(),this.refreshAll()},s=>{this.alertMessageService.addDangerMessage(s.error.message),this.deleteModal.hide()})}getResult(s){if(console.log(s,"asset getResult"),this.paginateService.checkPageEmpty()){(0,Z.K)(s)&&(this.searchData=s);const t="?"+this.paginateService.getRequestParamsFromObject(this.searchData);this.http.get(c.A.httpUrl.resource_server+"/asset"+t).subscribe(n=>{this.paginateService.allRecordCount=n.totalElements,this.paginateService.calculatePaginate(n.content)},n=>{404===n.status&&this.alertMessageService.addDangerMessage(n.error.message)})}}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(p.eN),e.Y36(m.O),e.Y36(h.r))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-asset"]],viewQuery:function(s,t){if(1&s&&e.Gf(W,7),2&s){let n;e.iGM(n=e.CRH())&&(t.deleteModal=n.first)}},decls:43,vars:21,consts:[["id","ui-view"],[1,"animated","fadeIn"],[1,"card"],[1,"card-header"],[1,"fa","fa-edit"],[1,"float-right","m-0"],["routerLink","../add",1,"ml-4"],["aria-hidden","true",1,"fa","fa-plus"],["href","javascript:void(0)","title","refresh",1,"ml-4",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"card-body"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","dt-bootstrap4","no-footer"],[1,"row"],[1,"col-sm-12","col-md-6"],[1,"col-sm-12","table-parent"],[3,"headerParams"],["class","odd",4,"ngFor","ngForOf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["confirmDeleteModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash-o"],[1,"odd"],[1,"listId"],[1,""],[1,"text-center"],[1,"badge"],[1,"edit"],["title","Edit",3,"routerLink"],[1,"btn","btn-info"],["title","Remove",1,"btn","ml-2","btn-danger",3,"click"],[1,"fa","fa-trash"]],template:function(s,t){if(1&s){const n=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e._UZ(5,"i",4),e._uU(6," Asset "),e.TgZ(7,"p",5),e.TgZ(8,"a",6),e._UZ(9,"i",7),e._uU(10," Add new asset"),e.qZA(),e.TgZ(11,"a",8),e.NdJ("click",function(){return t.refreshAll()}),e._UZ(12,"i",9),e._uU(13," Reload "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",10),e.TgZ(15,"div",11),e.TgZ(16,"div",12),e._UZ(17,"app-paginate-show-count",13),e.qZA(),e.TgZ(18,"div",12),e.TgZ(19,"div",14),e.TgZ(20,"app-sortable-table-header",15),e.TgZ(21,"tbody"),e.YNc(22,$,22,14,"tr",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(23,"app-paginate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",17,18),e.TgZ(26,"div",19),e.TgZ(27,"div",20),e.TgZ(28,"div",21),e.TgZ(29,"h4",22),e._uU(30,"Warning"),e.qZA(),e.TgZ(31,"button",23),e.NdJ("click",function(){return e.CHM(n),e.MAs(25).hide()}),e.TgZ(32,"span",24),e._uU(33,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",25),e.TgZ(35,"p"),e._uU(36,"Are you sure you want to delete this asset?"),e.qZA(),e.qZA(),e.TgZ(37,"div",26),e.TgZ(38,"button",27),e.NdJ("click",function(){return e.CHM(n),e.MAs(25).hide()}),e._uU(39,"Cancel"),e.qZA(),e.TgZ(40,"button",28),e.NdJ("click",function(){return t.deleteSelectedItem()}),e._UZ(41,"i",29),e._uU(42," Delete "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&s&&(e.xp6(20),e.Q6J("headerParams",e.qlk(12,ae,e.DdM(2,X),e.DdM(3,z),e.DdM(4,B),e.DdM(5,H),e.DdM(6,ee),e.VKq(7,te,t.statusDates),e.VKq(9,se,t.assetModelsDates),e.DdM(11,ie))),e.xp6(2),e.Q6J("ngForOf",t.getPaginateService.paginateResult[t.getPaginateService.page]))},directives:[l.yS,v.S,_.X,g.sg,T.c,F.oB],styles:[""]}),i})(),data:{browserTitle:"Asset List"}},{path:"add",component:j,data:{title:"Add",browserTitle:"Asset Add"}},{path:":id/edit",component:G,data:{title:"Edit",browserTitle:"Asset Edit"}}]}];let re=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.Bz.forChild(ne)],l.Bz]}),i})();var oe=o(3150),de=o(4466),le=o(6217);let ce=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.ez,re,de.m,le.n,oe.Ob,F.zk.forRoot()]]}),i})()}}]);