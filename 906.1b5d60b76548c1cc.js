"use strict";(self.webpackChunkng=self.webpackChunkng||[]).push([[906],{9906:(G,h,a)=>{a.r(h),a.d(h,{ResourceModule:()=>$});var p=a(9808),u=a(2252),e=a(5e3);let v=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-resource"]],decls:1,vars:0,template:function(o,r){1&o&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),t})();var l=a(3490),i=a(3075),d=a(2642),m=a(809),g=a(520);function f(t,n){1&t&&(e.TgZ(0,"div",24),e._uU(1," Name is required. "),e.qZA())}function T(t,n){1&t&&(e.TgZ(0,"div",24),e._uU(1," The 'Name' field could not start with space. "),e.qZA())}function A(t,n){1&t&&(e.TgZ(0,"div",24),e._uU(1," URL is required. "),e.qZA())}function q(t,n){1&t&&(e.TgZ(0,"div",24),e._uU(1," The 'URL' field could not start with space. "),e.qZA())}function _(t,n){if(1&t&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("ngValue",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function S(t,n){if(1&t&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("ngValue",o.id),e.xp6(1),e.hij(" ",o.name," ")}}let y=(()=>{class t{constructor(o,r,s){this.httpService=o,this.http=r,this.fb=s,this.partDates=[],this.resTypeDates=[],this.resourceForm=this.fb.group({name:["",[i.kI.required,i.kI.pattern(d.S.regex.noSpace)]],url:["",[i.kI.required,i.kI.pattern(d.S.regex.noSpace)]],resTypeId:["",i.kI.required],partId:["",i.kI.required]})}addResource(){this.httpService.successMessage="New resource has been added successfully.",this.httpService.navUrl="/partition/resource",this.httpService.putData(l.V.httpUrl.resource_server+"/resource",{name:this.resourceForm.controls.name.value,partition:{id:this.resourceForm.controls.partId.value},typeId:this.resourceForm.controls.resTypeId.value,url:this.resourceForm.controls.url.value},()=>{})}ngOnInit(){this.httpService.getData(l.V.httpUrl.resource_server+"/partition",o=>{this.partDates=o}),this.httpService.getData(l.V.httpUrl.resource_server+"/resourceType",o=>{this.resTypeDates=o})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(m.T),e.Y36(g.eN),e.Y36(i.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-new-resource"]],decls:44,vars:12,consts:[[1,"row","justify-content-center"],[1,"col-xl-6"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","input-name",1,"col-sm-5","col-form-label"],[1,"col-sm-6"],["id","input-name","name","name","placeholder","Resource name","type","text","formControlName","name","value","","required","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","input-url",1,"col-sm-5","col-form-label"],["id","input-url","name","url","placeholder","ReStream source URL","type","text","formControlName","url","value","",1,"form-control"],["for","select1",1,"col-md-5"],[1,"col-md-6"],["id","select1","name","select1","formControlName","partId",1,"form-control"],["value","","disabled","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],["id","select2","name","select2","formControlName","resTypeId",1,"form-control"],[1,"card-footer"],["type","submit",1,"btn","btn-sm","btn-success",3,"disabled"],[1,"fa","fa-dot-circle-o"],["routerLink","../",1,"btn","btn-sm","btn-danger","mx-1"],[1,"cui-arrow-left"],[1,"invalid-feedback"],[3,"ngValue"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._uU(4,"Add resource"),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"form",5),e.NdJ("ngSubmit",function(){return r.addResource()}),e.TgZ(7,"div",6),e.TgZ(8,"label",7),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"div",8),e._UZ(11,"input",9),e.YNc(12,f,2,0,"div",10),e.YNc(13,T,2,0,"div",10),e.qZA(),e.qZA(),e.TgZ(14,"div",6),e.TgZ(15,"label",11),e._uU(16,"Url"),e.qZA(),e.TgZ(17,"div",8),e._UZ(18,"input",12),e.YNc(19,A,2,0,"div",10),e.YNc(20,q,2,0,"div",10),e.qZA(),e.qZA(),e.TgZ(21,"div",6),e.TgZ(22,"label",13),e._uU(23,"Select Partition"),e.qZA(),e.TgZ(24,"div",14),e.TgZ(25,"select",15),e.TgZ(26,"option",16),e._uU(27,"Please select partition"),e.qZA(),e.YNc(28,_,2,2,"option",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",6),e.TgZ(30,"label",13),e._uU(31,"Select Resource type "),e.qZA(),e.TgZ(32,"div",14),e.TgZ(33,"select",18),e.TgZ(34,"option",16),e._uU(35,"Please select resource type"),e.qZA(),e.YNc(36,S,2,2,"option",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",19),e.TgZ(38,"button",20),e._UZ(39,"i",21),e._uU(40," Save "),e.qZA(),e.TgZ(41,"a",22),e.TgZ(42,"i",23),e._uU(43," Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(6),e.Q6J("formGroup",r.resourceForm),e.xp6(5),e.ekj("is-invalid",r.resourceForm.controls.name.touched&&r.resourceForm.controls.name.invalid),e.xp6(1),e.Q6J("ngIf",r.resourceForm.controls.name.touched&&r.resourceForm.controls.name.invalid&&r.resourceForm.controls.name.errors.required),e.xp6(1),e.Q6J("ngIf",r.resourceForm.controls.name.touched&&r.resourceForm.controls.name.invalid&&r.resourceForm.controls.name.errors.pattern),e.xp6(5),e.ekj("is-invalid",r.resourceForm.controls.url.touched&&r.resourceForm.controls.url.invalid),e.xp6(1),e.Q6J("ngIf",r.resourceForm.controls.url.touched&&r.resourceForm.controls.url.invalid&&r.resourceForm.controls.url.errors.required),e.xp6(1),e.Q6J("ngIf",r.resourceForm.controls.url.touched&&r.resourceForm.controls.url.invalid&&r.resourceForm.controls.url.errors.pattern),e.xp6(8),e.Q6J("ngForOf",r.partDates),e.xp6(8),e.Q6J("ngForOf",r.resTypeDates),e.xp6(2),e.Q6J("disabled",!r.resourceForm.valid))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.Q7,p.O5,i.EJ,i.YN,i.Kr,p.sg,u.yS],styles:[""]}),t})();function R(t,n){1&t&&(e.TgZ(0,"div",24),e._uU(1," Name is required. "),e.qZA())}function b(t,n){1&t&&(e.TgZ(0,"div",24),e._uU(1," The 'Name' field could not start with space. "),e.qZA())}function U(t,n){1&t&&(e.TgZ(0,"div",24),e._uU(1," URL is required. "),e.qZA())}function F(t,n){1&t&&(e.TgZ(0,"div",24),e._uU(1," The 'URL' field could not start with space. "),e.qZA())}function C(t,n){if(1&t&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("ngValue",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function N(t,n){if(1&t&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("ngValue",o.id),e.xp6(1),e.hij(" ",o.name," ")}}let I=(()=>{class t{constructor(o,r,s,c,z){this.route=o,this.httpService=r,this.http=s,this.router=c,this.fb=z,this.partDates=[],this.resTypeDates=[],this.resourceForm=this.fb.group({name:["",[i.kI.required,i.kI.pattern(d.S.regex.noSpace)]],url:["",[i.kI.required,i.kI.pattern(d.S.regex.noSpace)]],resTypeId:["",i.kI.required],part:["",i.kI.required]})}edit(){this.httpService.successMessage="Resource has been successfully edited",this.httpService.navUrl="/partition/resource/list",this.httpService.patchData(l.V.httpUrl.resource_server+"/resource",{id:this.resId,name:this.resourceForm.controls.name.value,partition:{id:this.resourceForm.controls.part.value},typeId:this.resourceForm.controls.resTypeId.value,url:this.resourceForm.controls.url.value},()=>{})}setValue(){this.httpService.getData(l.V.httpUrl.resource_server+"/resource/"+this.route.snapshot.params.id,r=>{null===r?this.router.navigate(["/partition/404"]):(this.resourceForm.controls.name.setValue(r.name),this.resourceForm.controls.url.setValue(r.url),this.resId=r.id,this.resourceForm.controls.part.setValue(r.partition.id),this.resourceForm.controls.resTypeId.setValue(r.resourceType.id)),this.httpService.getData(l.V.httpUrl.resource_server+"/partition",s=>{this.partDates=s}),this.httpService.getData(l.V.httpUrl.resource_server+"/resourceType",s=>{this.resTypeDates=s})})}ngOnInit(){this.setValue()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.gz),e.Y36(m.T),e.Y36(g.eN),e.Y36(u.F0),e.Y36(i.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-resource"]],decls:44,vars:12,consts:[[1,"row","justify-content-center"],[1,"col-xl-6"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","input-name",1,"col-sm-5","col-form-label"],[1,"col-sm-6"],["id","input-name","name","name","placeholder","Resource name","type","text","formControlName","name","value","","required","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","input-url",1,"col-sm-5","col-form-label"],["id","input-url","name","url","placeholder","ReStream source URL","type","text","formControlName","url","value","",1,"form-control"],["for","select1",1,"col-md-5"],[1,"col-md-6"],["id","select1","name","select1","formControlName","part",1,"form-control"],["value","","disabled","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],["id","select2","name","select2","formControlName","resTypeId",1,"form-control"],[1,"card-footer"],["type","submit",1,"btn","btn-sm","btn-primary",3,"disabled"],[1,"fa","fa-pencil"],["routerLink","../../",1,"btn","btn-sm","btn-danger","mx-1"],[1,"cui-arrow-left"],[1,"invalid-feedback"],[3,"ngValue"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._uU(4,"Edit resource"),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"form",5),e.NdJ("ngSubmit",function(){return r.edit()}),e.TgZ(7,"div",6),e.TgZ(8,"label",7),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"div",8),e._UZ(11,"input",9),e.YNc(12,R,2,0,"div",10),e.YNc(13,b,2,0,"div",10),e.qZA(),e.qZA(),e.TgZ(14,"div",6),e.TgZ(15,"label",11),e._uU(16,"Url"),e.qZA(),e.TgZ(17,"div",8),e._UZ(18,"input",12),e.YNc(19,U,2,0,"div",10),e.YNc(20,F,2,0,"div",10),e.qZA(),e.qZA(),e.TgZ(21,"div",6),e.TgZ(22,"label",13),e._uU(23,"Select Partition"),e.qZA(),e.TgZ(24,"div",14),e.TgZ(25,"select",15),e.TgZ(26,"option",16),e._uU(27,"Please select partition"),e.qZA(),e.YNc(28,C,2,2,"option",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",6),e.TgZ(30,"label",13),e._uU(31,"Select Resource type "),e.qZA(),e.TgZ(32,"div",14),e.TgZ(33,"select",18),e.TgZ(34,"option",16),e._uU(35,"Please select resource type"),e.qZA(),e.YNc(36,N,2,2,"option",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",19),e.TgZ(38,"button",20),e._UZ(39,"i",21),e._uU(40," Save "),e.qZA(),e.TgZ(41,"a",22),e.TgZ(42,"i",23),e._uU(43," Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(6),e.Q6J("formGroup",r.resourceForm),e.xp6(5),e.ekj("is-invalid",r.resourceForm.controls.name.touched&&r.resourceForm.controls.name.invalid),e.xp6(1),e.Q6J("ngIf",r.resourceForm.controls.name.touched&&r.resourceForm.controls.name.invalid&&r.resourceForm.controls.name.errors.required),e.xp6(1),e.Q6J("ngIf",r.resourceForm.controls.name.touched&&r.resourceForm.controls.name.invalid&&r.resourceForm.controls.name.errors.pattern),e.xp6(5),e.ekj("is-invalid",r.resourceForm.controls.url.touched&&r.resourceForm.controls.url.invalid),e.xp6(1),e.Q6J("ngIf",r.resourceForm.controls.url.touched&&r.resourceForm.controls.url.invalid&&r.resourceForm.controls.url.errors.required),e.xp6(1),e.Q6J("ngIf",r.resourceForm.controls.url.touched&&r.resourceForm.controls.url.invalid&&r.resourceForm.controls.url.errors.pattern),e.xp6(8),e.Q6J("ngForOf",r.partDates),e.xp6(8),e.Q6J("ngForOf",r.resTypeDates),e.xp6(2),e.Q6J("disabled",!r.resourceForm.valid))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.Q7,p.O5,i.EJ,i.YN,i.Kr,p.sg,u.yS],styles:[""]}),t})();var Z=a(1038),J=a(8248),k=a(4841);let w=(()=>{class t{constructor(o){this.paginateService=o,this.searchHint="",this.alreadySearched=!1}searchRes(){this.alreadySearched=!1,this.paginateService.setSessionStorage("SEARCH_VALUE",this.paginateService.searchVal),this.paginateService.setSortTypeAndNameStorage(""),this.paginateService.paginateSetPageStorage(0),this.paginateService.setEmptyPaginateResult(),this.paginateService.getResult.next(!0)}ngOnInit(){}checkSearch(o){"Enter"===o.key?this.searchRes():("Backspace"===o.key||"Delete"===o.key)&&""===this.paginateService.searchVal&&!this.alreadySearched&&(this.searchRes(),this.alreadySearched=!0)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(Z.r))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-paginate-search"]],inputs:{searchHint:"searchHint"},decls:6,vars:3,consts:[[1,"float-md-right"],["type","text",1,"form-control","form-control-sm","d-inline-block","w-auto",3,"ngModel","placeholder","title","ngModelChange","keyup"],["title","search",1,"btn-light",3,"click"],["aria-hidden","true",1,"fa","fa-search"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"label"),e._uU(2,"Search: "),e.TgZ(3,"input",1),e.NdJ("ngModelChange",function(c){return r.paginateService.searchVal=c})("keyup",function(c){return r.checkSearch(c)}),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return r.searchRes()}),e._UZ(5,"i",3),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(3),e.Q6J("ngModel",r.paginateService.searchVal)("placeholder",r.searchHint)("title",r.searchHint))},directives:[i.Fj,i.JJ,i.On],styles:[""]}),t})();var P=a(8315),Y=a(9679);const D=function(t){return["../",t,"edit"]};function V(t,n){if(1&t&&(e.TgZ(0,"tr",18),e.TgZ(1,"td",19),e._uU(2),e.qZA(),e.TgZ(3,"td",19),e._uU(4),e.qZA(),e.TgZ(5,"td",19),e._uU(6),e.qZA(),e.TgZ(7,"td",19),e._uU(8),e.qZA(),e.TgZ(9,"td",19),e._uU(10),e.qZA(),e.TgZ(11,"td",20),e.TgZ(12,"a",21),e.TgZ(13,"span",22),e._UZ(14,"i",4),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const o=n.$implicit,r=n.index,s=e.oxw();e.xp6(2),e.Oqu(s.getPaginateService.page*s.getPaginateService.showCount+r+1),e.xp6(2),e.Oqu(o.name),e.xp6(2),e.Oqu(o.url),e.xp6(2),e.Oqu(o.partition.name),e.xp6(2),e.Oqu(o.resourceType.name),e.xp6(2),e.Q6J("routerLink",e.VKq(6,D,o.id))}}const Q=function(){return{key:"id",name:"No",sortable:!1}},E=function(){return{key:"name",name:"Name",sortable:!0}},L=function(){return{key:"url",name:"URL",sortable:!0}},M=function(){return{key:"partition.name",name:"Partition Name",sortable:!0}},O=function(){return{key:"resourceType.name",name:"Resource Type",sortable:!0}},j=function(){return{key:"action",name:"Action",sortable:!1}},x=function(t,n,o,r,s,c){return[t,n,o,r,s,c]},H=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"",component:v,children:[{path:"list",component:(()=>{class t{constructor(o,r,s,c){this.httpService=o,this.http=r,this.paginateService=s,this.alertMessageService=c,this.paginateService.sessionPrefix="RESOURCE"}get getPaginateService(){return this.paginateService}ngOnInit(){this.paginateService.restartPaginate(),this.subscription=this.paginateService.getResult.subscribe(()=>this.getResult())}ngAfterViewInit(){}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}refreshAll(){this.paginateService.setEmptyPaginateResult(),this.getResult()}getResult(){if(this.paginateService.checkPageEmpty()){const o="?"+this.paginateService.getRequestParams();this.http.get(l.V.httpUrl.resource_server+"/resource"+o).subscribe(r=>{console.log(r),this.paginateService.allRecordCount=r.totalElements,this.paginateService.calculatePaginate(r.content)},r=>{this.alertMessageService.addDangerMessage(r.error.message)})}}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(m.T),e.Y36(g.eN),e.Y36(Z.r),e.Y36(J.O))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-resource-list"]],decls:24,vars:16,consts:[["id","ui-view"],[1,"animated","fadeIn"],[1,"card"],[1,"card-header"],[1,"fa","fa-edit"],[1,"float-right","m-0"],["routerLink","../add",1,"mx-2"],[1,"fa","fa-plus","fa-lg","text-success"],["href","javascript:void(0)","title","refresh",1,"mx-2",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"card-body"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","dt-bootstrap4","no-footer"],[1,"row"],[1,"col-sm-12","col-md-6"],[1,"col-sm-12","col-md-6",3,"searchHint"],[1,"col-sm-12","table-parent"],[3,"headerParams"],["class","odd",4,"ngFor","ngForOf"],[1,"odd"],[1,""],[1,"edit"],[3,"routerLink"],[1,"btn","btn-info"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e._UZ(5,"i",4),e._uU(6," Resource List "),e.TgZ(7,"p",5),e.TgZ(8,"a",6),e._UZ(9,"i",7),e._uU(10,"Add new resource"),e.qZA(),e.TgZ(11,"a",8),e.NdJ("click",function(){return r.refreshAll()}),e._UZ(12,"i",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e._UZ(16,"app-paginate-show-count",13),e._UZ(17,"app-paginate-search",14),e.qZA(),e.TgZ(18,"div",12),e.TgZ(19,"div",15),e.TgZ(20,"app-sortable-table-header",16),e.TgZ(21,"tbody"),e.YNc(22,V,15,8,"tr",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(23,"app-paginate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(17),e.Q6J("searchHint","Name, Partition Name"),e.xp6(3),e.Q6J("headerParams",e.HTZ(9,x,e.DdM(3,Q),e.DdM(4,E),e.DdM(5,L),e.DdM(6,M),e.DdM(7,O),e.DdM(8,j))),e.xp6(2),e.Q6J("ngForOf",r.getPaginateService.paginateResult[r.getPaginateService.page]))},directives:[u.yS,k.S,w,P.X,p.sg,Y.c],styles:[""]}),t})(),data:{title:"List",browserTitle:"Resource List"}},{path:"add",component:y,data:{title:"Add",browserTitle:"Resource Add"}},{path:":id/edit",component:I,data:{title:"Edit",browserTitle:"Resource Edit"}}]}];let X=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.Bz.forChild(H)],u.Bz]}),t})();var B=a(4466);let $=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.ez,X,B.m]]}),t})()}}]);